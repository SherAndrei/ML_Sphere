studydoc.ru/doc/2664796/gis-%C2%ABterra%C2%BB




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">

			<title>ГИС «Терра»</title>

<meta name="description" content="">
<meta name="keywords" content="">
<meta property="og:title" content="ГИС «Терра»"/>
<meta property="og:description" content="">
<meta property="og:image" content="//s1.studydoc.ru/store/data/002664796_1-953988c414499a3c03c0c27da6e2473e.png">
	
	<script>var gaAuthorId='24',gaCategoryId='239>20>0',gaViewMode='regular';</script>
		        <link rel="canonical" href="http://studydoc.ru/doc/2664796/gis-%C2%ABterra%C2%BB" />
	
    <link rel="stylesheet" href="/theme/issuu/static/bootstrap.css">
    <link rel="stylesheet" href="/theme/issuu/static/fontawesome.css">
    <link rel="stylesheet" href="/theme/issuu/static/common.css">

            <link rel="shortcut icon" href="/theme/issuu/static/favicon-studydoc.ico">
	
    <script src="/theme/issuu/static/jquery.min.js"></script>
    <script src="/theme/issuu/static/tether.min.js"></script>
    <script src="/theme/issuu/static/bootstrap.js"></script>
    <script>
		var FileAPI =
		{
            debug: true,
			staticPath: '/theme/issuu/static/',
			storeUrl: '//s1.studydoc.ru/store/upload',
            currentUserId: 2,
			afterUploadRedirect: '//studydoc.ru/afterupload.html'
        };
    </script>
    <script src="/theme/issuu/static/fileapi.js"></script>
    <script src="/theme/issuu/static/common.js"></script>

	        <script src="/js/vendor/LAB.min.js"></script>
        <script type="text/javascript">
        	$LAB.setGlobalDefaults({Debug:true});
            $LAB_CHAIN = $LAB.script("/js/public.js").wait();
        </script>
	
    <script type="text/javascript">
        var gaUserId = 2;
        var gaUserType = 'empty';
    </script>
	<meta name='yandex-verification' content='53d796b0dfb12d63' />
<meta name="msvalidate.01" content="EB9216A8674C55E0D7BE2C958E9E9A6B" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69626134-3', 'auto');
  
  if(typeof gaAuthorId!= "undefined") {
   ga('set', 'dimension1', gaAuthorId);
  }
  if(typeof gaUserId!= "undefined") {
    ga('set', 'dimension2', gaUserId);
    if(gaUserId>0) ga('set', '&uid', gaUserId); 
  }
  if(typeof gaUserType!= "undefined") {
    ga('set', 'dimension3', gaUserType);      
  }
  if(typeof gaCategoryId!= "undefined") {
    ga('set', 'dimension4', gaCategoryId);      
  }
  if(typeof gaFullConfidenceBunchIds!= "undefined") {
    ga('set', 'dimension5', gaFullConfidenceBunchIds);      
  }
  if(typeof gaTotalBunchIds!= "undefined") {
    ga('set', 'dimension6', gaTotalBunchIds);      
  }
  if(typeof gaViewMode!= "undefined") {
    ga('set', 'dimension7', gaViewMode);      
  }
  
  ga('send', 'pageview');
</script>
</head>

<body>
	<nav class="navbar navbar-default ">
        <div class="container">
			<IDXSKIP><a class="navbar-brand" href="/">
                                    <img src="/theme/issuu/static/logo-studydoc.png"
                            alt="studydoc.ru" />
							</a></IDXSKIP>
            <IDXSKIP><button class="navbar-toggler hidden-md-up collapsed" type="button"
				data-toggle="collapse" data-target="#collapsing">&#9776;</button></IDXSKIP>
			<div class="navbar-toggleable-sm collapse" id="collapsing">
				<ul class="navbar-nav nav">
                    <IDXSKIP><li class="nav-item hidden-md-up">
                        <a class="nav-link" href="/search">Поиск...</a>
                    </li></IDXSKIP>
					<IDXSKIP><li class="nav-item active">
						<a class="nav-link" href="/catalog">Каталог</a>
					</li></IDXSKIP>
											<IDXSKIP><li class="nav-item">
							<a class="nav-link" href="/login">войти</a>
						</li></IDXSKIP>
						<IDXSKIP><li class="nav-item">
							<a class="nav-link" href="/registration">Регистрация</a>
						</li></IDXSKIP>
					                                            <IDXSKIP><li class="nav-item upload">
                            <input type="file" />
                            <a href="javascript:;" class="nav-link">Загрузить</a>
                        </li></IDXSKIP>
                    				</ul>
                <IDXSKIP><form class="navbar-form form-inline hidden-md-down" action="/search/">
                    <input class="form-control" type="text" name="q"
					   placeholder='Поиск...' required>
					<button class="btn btn-link">
						<i class="fa fa-search"></i>
					</button>
                </form></IDXSKIP>
			</div>
		</div>
	</nav>

    <div class="wrapper-default  no-fixed ">
        <IDXSKIP><section class="upload-info">
            <div class="container">
                <button type="button" class="close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <progress class="progress" max="100">
                    <div class="progress">
                        <span class="progress-bar"></span>
                    </div>
                </progress>
            </div>
        </section></IDXSKIP>

		






<style>
    

    .above-content,
    .below-content {
        background: #404040 url(/viewer_next/web/images/texture.png);
        padding: 1rem 0;
    }

                .above-content,
        .below-content {
            background: inherit;
        }

        .above-content {
            padding-top: 6rem;
            padding-bottom: 2rem;
        }
        
    .below-content {
        display: none;
    }

    
    @media (min-width: 544px) {
        .below-content {
            display: block;
        }
    }

    .sidebar-top,
    .sidebar-bottom {
        display: none;
    }

    @media (min-width: 768px) {
        .viewer-next {
            width: calc(100% - 170px);
            min-height: 633px;
        }

        .sidebar-bottom {
            display: block;
            float: right;
            width: 160px;
            height: 600px;
        }
    }

    @media (min-width: 1200px) {
        .viewer-next {
            width: calc(100% - 310px);
        }

        .sidebar-bottom {
            width: 300px;
        }
    }
    
    @media (min-width: 1740px) {
        .viewer-next {
            width: 100%;
        }

        .sidebar-bottom {
            position: absolute;
            top: 0;
            left: calc((100vw + 1140px) / 2);
        }
    }

            
    .viewer-next {
        height: calc(100vh - 6.5rem - 90px);
    }

    @media (min-height: 600px) {
        .viewer-next {
            height: calc(100vh - 6.5rem - 90px * 2);
        }
    }
</style>

        


                    <div class="above-content">
            <div class="container"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- StudylibRU::above viewer -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6961070524526180"
     data-ad-slot="8561403356"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
        </div>
            
    
        <section class="viewer-wrapper-1">
        <div class="container">
                            <pre class="viewer-text" itemprop="text">1
ГИС &laquo;Terra&raquo;
Руководство пользователя
Содержание
Содержание ......................................................................................................................................................... 1
1. Общая информация ......................................................................................................................................... 6
1.1. Описание продукта ................................................................................................................................... 6
1.2. Отказ от ответственности ......................................................................................................................... 6
1.3. Системные требования ............................................................................................................................ 6
1.4. Установка ГИС ........................................................................................................................................... 6
1.5. Собственные форматы файлов ГИС ......................................................................................................... 6
2. Начало работы с ГИС ....................................................................................................................................... 7
2.1. Концепция ГИС .......................................................................................................................................... 7
2.2. Восстановление предыдущего состояния ГИС ....................................................................................... 8
2.3. Окно управления слоями ......................................................................................................................... 9
2.3.1. Управление отображением векторного слоя ................................................................................ 10
2.4. Окно просмотра и редактирования атрибутивной информации ........................................................ 10
2.5. История произведенных операций и их отмена .................................................................................. 11
2.5.1. Отмена последней операции .......................................................................................................... 11
2.5.2. Возврат отмененной операции ....................................................................................................... 11
2.5.3. Диалог истории операций ............................................................................................................... 12
3. Работа со слоями ........................................................................................................................................... 13
3.1. Векторные слои....................................................................................................................................... 13
3.1.1. Открытие векторного слоя .............................................................................................................. 14
3.1.2. Сохранение векторного слоя .......................................................................................................... 14
3.1.3. Импорт векторного слоя из других программ ............................................................................... 14
3.1.4. Импорт проектов Mapinfo Professional........................................................................................... 15
3.1.5. Импорт из текстовых файлов .......................................................................................................... 15
3.1.6. Создание нового векторного слоя .................................................................................................. 17
3.1.7. Экспорт векторных слоев в другие программы ............................................................................. 17
3.1.8. Модификация структуры векторного слоя..................................................................................... 18
3.1.9. Обновление поля ............................................................................................................................. 19
3.2. Растровые слои ....................................................................................................................................... 20
3.2.1. Поддерживаемые форматы графических изображений .............................................................. 20
2
3.2.2. Географическая привязка изображений ........................................................................................ 20
3.2.3. Открытие растрового слоя .............................................................................................................. 21
3.3. Запросные слои....................................................................................................................................... 21
3.3.1. Особенности запросных слоев........................................................................................................ 21
3.3.2. Запросные слои без группировки данных ..................................................................................... 21
3.3.3. Запросные слои с обобщенной информацией .............................................................................. 22
3.4. Тематические слои ................................................................................................................................. 23
4. Работа с картой .............................................................................................................................................. 24
4.1. Слои карты .............................................................................................................................................. 26
4.1.1. Векторные слои ................................................................................................................................ 26
4.1.2. Растровые слои ................................................................................................................................ 28
4.1.3. Тематические слои .......................................................................................................................... 29
4.1.4. Слои-группы ..................................................................................................................................... 31
4.1.5. Добавление слоя в карту ................................................................................................................. 32
4.1.6. Целевой слой ................................................................................................................................... 32
4.2. Управление просмотром ........................................................................................................................ 33
4.2.1. Перемещение карты ........................................................................................................................ 33
4.2.2. Изменение масштаба отображения ............................................................................................... 33
4.2.3. Отображение слоя полностью ........................................................................................................ 34
4.3. Выделение объектов .............................................................................................................................. 34
4.3.1. Сброс выделения ............................................................................................................................. 34
4.3.1. Одиночное выделение объекта...................................................................................................... 34
4.3.2. Множественное выделение объектов ........................................................................................... 34
4.3.3. Поиск выделенных объектов на карте ........................................................................................... 35
4.3.4. Выделение всех объектов карты .................................................................................................... 35
4.4. Редактирование объектов...................................................................................................................... 36
4.4.1. Перемещение объектов .................................................................................................................. 36
4.4.2. Создание копии выделенных объектов ......................................................................................... 36
4.4.3. Изменение размера объекта .......................................................................................................... 36
4.4.4. Поворот объектов ............................................................................................................................ 36
4.4.5. Удаление объектов .......................................................................................................................... 36
4.4.6. Копирование и вставка объектов из буфера обмена .................................................................... 37
4.4.7. Диалог свойств выделенных объектов........................................................................................... 37
4.5. Редактирование узлов объекта ............................................................................................................. 38
4.5.1. Выделение узлов объекта ............................................................................................................... 38
4.5.3. Перемещение выделенных узлов .................................................................................................. 39
4.5.4. Удаление выделенных узлов .......................................................................................................... 39
4.5.5. Добавление нового узла ................................................................................................................. 39
3
4.5.6. Задание координат выделенного узла........................................................................................... 39
4.5.7. Выделение другого объекта в режиме управления узлами ......................................................... 40
4.6. Создание нового объекта ....................................................................................................................... 40
4.6.1. Создание полигона .......................................................................................................................... 40
4.6.2. Создание линейного объекта ......................................................................................................... 40
4.6.3. Создание текстового объекта ......................................................................................................... 41
4.6.4. Создание точечного объекта .......................................................................................................... 41
4.7. Изменение стиля выделенных объектов .............................................................................................. 42
4.8. Создание и изменение фреймов ........................................................................................................... 42
4.8.1. Корректировка позиции отображения карты внутри фрейма...................................................... 43
4.9. Геометрические операции с объектами ............................................................................................... 44
4.9.1. Целевые объекты ............................................................................................................................. 44
4.10. Полигон обрезки ................................................................................................................................... 44
4.11. Дополнительные возможности карты ................................................................................................ 44
4.11.1. Отображение координатной сетки............................................................................................... 45
4.11.2. Привязка к узлам ........................................................................................................................... 45
4.11.3. Привязка к линиям объекта .......................................................................................................... 45
4.11.4. Одновременное перемещение узлов нескольких объектов ...................................................... 45
4.11.5. Создание отчета ............................................................................................................................. 45
4.12. Параметры карты .................................................................................................................................. 46
4.12.1. Страница &laquo;Отображение&raquo; ............................................................................................................. 46
4.12.2. Страница &laquo;Выделение, редактирование&raquo; ................................................................................... 48
4.12.3. Страница &laquo;Прокрутка, создание&raquo; ................................................................................................. 49
4.12.4. Страница &laquo;Сетка&raquo; ........................................................................................................................... 50
4.12.5. Страница &laquo;Отчет&raquo;. ......................................................................................................................... 50
5. Работа с атрибутивным списком .................................................................................................................. 51
5.1. Внешний вид ........................................................................................................................................... 51
5.2 Выделение записей ................................................................................................................................. 51
5.3 Редактирование атрибутивных данных ................................................................................................. 52
5.4 Создание новых записей ......................................................................................................................... 52
5.5 Удаление выбранных записей ................................................................................................................ 52
5.6 Исключение выбранных записей ........................................................................................................... 52
5.7 Перезапуск запроса ................................................................................................................................. 52
5.8 Настройки списка ..................................................................................................................................... 53
5.8.1 Страница настройки оформления списка ....................................................................................... 53
5.8.2 Страница настройки колонок списка ............................................................................................... 53
6. Работа с отчетом ............................................................................................................................................ 55
6.1. Параметры отчета ................................................................................................................................... 55
4
6.2. Экспорт отчета......................................................................................................................................... 56
6.3. Печать отчета .......................................................................................................................................... 56
7. История изменения и восстановление объектов ........................................................................................ 58
7.1. Диалог истории изменения объектов ................................................................................................... 58
7.1.1. Параметры поиска ........................................................................................................................... 58
7.1.2. Результаты поиска ........................................................................................................................... 59
7.1.3. Восстановление предыдущих версий объектов ............................................................................ 60
7.2. Удаление истории изменения объектов ............................................................................................... 60
8. Многопользовательская работа по сети ...................................................................................................... 61
8.1. Организация многопользовательской работы ..................................................................................... 61
8.2. Особенности многопользовательской работы в ГИС &laquo;Терра&raquo; ............................................................ 61
9. Географическая привязка растров................................................................................................................ 62
9.1. Назначение .............................................................................................................................................. 62
9.2. Последовательность действий .............................................................................................................. 62
10. Обновление программы ............................................................................................................................. 65
11. Настройки ГИС.............................................................................................................................................. 66
11.1. Системные настройки ........................................................................................................................... 67
11.1.1. Страница &laquo;Кэш&raquo; ............................................................................................................................. 67
11.1.2. Страница &laquo;Горячие клавиши&raquo; ....................................................................................................... 67
11.1.3. Страница &laquo;Разное&raquo; ........................................................................................................................ 68
11.1.4. Страница &laquo;Подключаемые модули&raquo; ............................................................................................ 68
Приложения ....................................................................................................................................................... 70
А. Описание SQL-команд ................................................................................................................................... 70
А.1. Команда SELECT ...................................................................................................................................... 70
А.1.1. Список колонок ................................................................................................................................ 70
А.1.2. Ключевое слово FROM .................................................................................................................... 71
А.1.3. Ключевое слово WHERE .................................................................................................................. 71
А.1.4. Ключевое слово INTO ...................................................................................................................... 71
А.1.5. Ключевое слово GROUP BY ............................................................................................................. 71
А.1.6. Ключевое слово ORDER BY .............................................................................................................. 71
А.2. Команда UPDATE .................................................................................................................................... 71
А.3. Команда INSERT ...................................................................................................................................... 72
А.3.1. Вставка одной записи ...................................................................................................................... 72
А.3.2. Вставка множества записей ............................................................................................................ 72
А.4. Команда DELETE ...................................................................................................................................... 72
Б. Встроенный вычислитель выражений ......................................................................................................... 73
Б.1. Типы данных, поддерживаемые вычислителем выражений ............................................................. 73
Б.2. Бинарные операторы ............................................................................................................................. 73
5
Б.3. Операторы ANY и ALL.............................................................................................................................. 73
Б.4. Запрос как список аргументов ............................................................................................................... 74
Б.5. Арифметические функции ..................................................................................................................... 74
Б.6. Строковые функции ................................................................................................................................ 74
Б.7. Объектные функции ............................................................................................................................... 76
Б.8. Функции maximum и minimum............................................................................................................... 76
6
1. Общая информация
1.1. Описание продукта
Географическая информационная система (далее – ГИС) &laquo;Терра&raquo; представляет собой комплекс
программного обеспечения для персонального компьютера типа IBM PC и предназначена для решения
широкого спектра картографических задач, включающих работу с векторными пространственными
данными и c растровыми подложками.
ГИС &laquo;Терра&raquo; разработана Производственным Кооперативом &laquo;Гео&raquo; (г. Калуга) в 2009-2016 гг.
Исключительное право на копирование, тиражирование и продажу ГИС &laquo;Терра&raquo; принадлежит ПК &laquo;Гео&raquo;
и его партнерам.
1.2. Отказ от ответственности
ПК &laquo;Гео&raquo;, а также его партнеры не несут ответственности за любые возможные проблемы, возникшие у
пользователей в процессе эксплуатации ГИС &laquo;Терра&raquo; и повлекшие за собой материальный и/или
моральный вред.
1.3. Системные требования
Для работы ГИС &laquo;Терра&raquo; подойдет любой персональный компьютер типа IBM PC с операционной
системой Windows XP SP3/Vista/7/8 32 или 64 разряда. Требуемая вычислительная мощность
процессора, объем оперативной памяти и свободного места на жестком диске непосредственно
определяется объемами данных, с которыми будет осуществляться работа.
Минимальные системные требования: процессор 1ГГц, поддерживающий расширенный набор
инструкций SSE2, 512Мб ОЗУ, 100Мб свободного места на жестком диске.
1.4. Установка ГИС
Установка ГИС производится запуском мастера установки, находящегося в файле TerraInstall.exe,
расположенном на установочном компакт-диске. В процессе установки необходимо принять условия
лицензионного соглашения, а также выбрать папку, в которую будет установлена ГИС. По умолчанию
установка осуществляется в C:\Program Files (x86)\GisTerra (для 64-х разрядных систем) и C:\Program
Files\GisTerra (для 32-х разрядных). После установки запуск ГИС осуществляется с помощью ярлыка &laquo;ГИС
Терра&raquo; в меню &laquo;Пуск&raquo;.
1.5. Собственные форматы файлов ГИС
ГИС &laquo;Терра&raquo; использует следующие собственные форматы файлов:
*.geoind, *.geomap, *.geotab – векторные слои в формате ГИС &laquo;Terra&raquo;.
*.geoind содержит индексную информацию об объектах слоя; *.geomap – картографические данные;
*.geotab – атрибутивные данные. Стандартный векторный слой включает в себя все три файла, однако в
слоях отсутствия картографической или атрибутивной информации, соответствующий файл данных
может отсутствовать. Индексный файл является основным и должен присутствовать в любом слое.
*.geoFrame – окно карты, отчета или браузера ГИС. В данный файл может быть сохранен внешний вид
одного любого окна ГИС.
*.geoProject – рабочий проект ГИС. Рабочий проект включает в себя всю рабочую среду ГИС и
предназначен для полного сохранения и последующего восстановления состояния ГИС.
7
2. Начало работы с ГИС
После запуска ГИС &laquo;Терра&raquo; на экране появится главное окно программы:
В главном окне находятся следующие элементы интерфейса пользователя ГИС:
–
Главное меню программы.
–
Панель инструментов ГИС.
–
Окно управления слоями.
–
Окно просмотра и редактирования атрибутивной информации.
–
Рабочая область ГИС, которую будут занимать открытые пользователем окна.
В зависимости от комплекта поставки ГИС, в главном окне могут также находиться другие
дополнительные элементы управления. Для информации по ним обратитесь в руководство
пользователя поставленного вместе с ГИС дополнения.
Некоторые элементы интерфейса пользователя (панель инструментов, окно управления слоями, окно
атрибутивной информации, окно поиска) можно временно скрывать. Последующее их открытие
производится выбором соответствующего пункта главного меню &laquo;Вид&raquo;. Часть элементов интерфейса
пользователя скрыта изначально; включение их отображения также производится в меню &laquo;Вид&raquo;.
2.1. Концепция ГИС
ГИС &laquo;Терра&raquo; построена на основе следующей концепции:
–
Минимальной базовой единицей ГИС является точка в пространстве, имеющая три координаты
(X, Y, Z).
–
Множество логически связанных в заданном порядке точек представляет собой векторный
контур, описывающий точечные, линейные или площадные (полигональные) фигуры.
–
Один или более векторных контуров объединяются в векторный примитив более сложной
формы.
8
–
Один или более векторных примитивов представляют собой географический объект, которому
можно задать свой собственный визуальный стиль оформления, а также сопоставить
определенную семантическую информацию.
–
Множество географических объектов объединяются в географические слои. Принадлежность
объекта к географическому слою однозначно определяет структуру семантической информации
(атрибутики), которую можно сопоставить объекту. Каждый географический слой существует
полностью независимо от других и сохраняется на диск в виде отдельных файлов.
Дополнительно, географический слой содержит информацию о системе координат, в которой
заданы все точки объектов этого слоя. Также, всем объектам слоя при необходимости можно
быстро задать единый стиль визуального оформления.
–
Совокупность географических слоев, наложенных друг на друга в определенной
последовательности и отображаемых в заданной системе координат, называется картой.
Дополнительно, в карту можно включать растровые слои, а также группировать слои
произвольным образом.
–
Для удобного просмотра семантической информации объектов ГИС позволяет отображать
векторные слои в виде списков (таблиц).
–
Финальной единицей ГИС &laquo;Терра&raquo; является отчет. Отчет – это специализированная карта,
предназначенная для визуальной предпечатной подготовки материала. В состав отчета могут
входить как непосредственно векторные объекты, так и соседние карты, отчеты и списки ГИС.
–
Вся совокупность открытых слоев, карт, списков, отчетов и т.д. называется проектом ГИС и может
быть сохранена на диск для быстрого последующего восстановления. Следует обратить
внимание, что в проект сохраняются только ссылки на слои (файлы), а не непосредственно
векторные данные. Это позволяет различным проектам использовать одни и те же векторные
данные и автоматически обновляться при обновлении векторных данных.
2.2. Восстановление предыдущего состояния ГИС
Если на момент закрытия ГИС &laquo;Терра&raquo; в ней были открыты какие-либо окна (карты, отчеты, списки), ГИС
автоматически сохранит их в проект при выходе и предложит восстановить состояние при последующем
запуске. В этом случае на экране будет отображен диалог &laquo;Автоматически сохраненные проекты&raquo;:
ГИС хранит до 16-ти последних автоматически сохраненных проектов. Для открытия одного (или
нескольких) из них, необходимо выбрать желаемые проекты в списке, после чего нажать кнопку
&laquo;Открыть выбранные проекты&raquo;. Чтобы быстро открыть последний автоматически сохраненный проект,
нажмите кнопку &laquo;Открыть последний проект, сохраненный автоматически&raquo;. Если же необходимо начать
работать в пустой оболочке, выберите &laquo;Не открывать никаких проектов&raquo;.
Данный диалог автоматически отображается ГИС при запуске. Если вы хотите отключить эту функцию,
снимите пометку с элемента &laquo;Всегда показывать этот диалог при запуске ГИС&raquo;. Для последующего
открытия данного диалога вручную, воспользуйтесь пунктами меню &laquo;Файл&raquo;, &laquo;Открыть
9
автосохраненный проект&raquo;. Следует иметь в виду, что при отключении данного диалога ГИС все равно
продолжает автоматически сохранять свое состояние при закрытии.
2.3. Окно управления слоями
Окно управления слоями отображает все открытые окна (карты, списки или отчеты) ГИС, а также списки
слоев, входящие в состав каждой карты. Внешне вид окна представлен на рисунке:
Каждая строчка окна управления слоями соответствует либо окну ГИС, либо слою, входящему в это
окно. Для визуального отличия окон ГИС от слоев карты, название окон ГИС отображаются на желтом
фоне, а слои имеют двойную высоту. В окне управления слоями можно выполнять следующие
операции:
–
Быстрое переключение на выбранное окно ГИС (осуществляется двойным нажатием левой
кнопки мыши на название окна).
–
Переименование окна ГИС или слоя карты (осуществляется нажатием правой кнопки мыши на
карте или слое, который надо переименовать, и выборе из выпадающего меню пункта
&laquo;Переименовать&raquo;).
–
Выделение слоя в списке. Выделение осуществляется нажатием левой кнопки мыши на
названии слоя. Для одновременного выделения нескольких слоев необходимо во время
выделения удерживать нажатой клавишу Ctrl. Для одновременного выделения нескольких
подряд идущих слоев, необходимо выделить первый из них, после чего выделить последний,
удерживая нажатой клавишу Shift. Одновременное выделение нескольких слоев возможно
только в пределах одной карты.
–
Удаление слоя из карты. Для удаления слоя необходимо выделить его в списке, после чего
нажать правую кнопку мыши и выбрать пункт &laquo;Удалить выделенные слои&raquo; из выпадающего
меню. Одновременно можно удалить несколько слоев карты.
–
Изменения порядка, а также перемещение слоев из одной карты в другую. Для этого
необходимо выделить слой (слои) в списке, после чего нажать на название любого выделенного
слоя и, удерживая нажатой левую кнопку мыши, переместить слой в другое место в списке. В
процессе перемещения можно отменить операцию, нажав клавишу Escape.
–
Создание копии слоев. Создание копии слоев осуществляется точно так, как и перемещение,
только необходимо удерживать нажатой клавишу Ctrl.
–
Создание слоя-группы. Для создания слоя-группы необходимо нажать правую кнопку мыши в
списке слоев, после чего выбрать пункт &laquo;Новая группа&raquo;.
–
Изменение параметров отображения слоев (единообразное оформление, отображение узлов и
т.п.).
–
Изменение параметров обработки слоя (выбор целевого слоя, запрещение редактирования слоя
и т.п.).
10
2.3.1. Управление отображением векторного слоя
Векторный слой, входящий в состав какой-либо карты ГИС отображается в окне управления слоями
следующим образом:
С векторным слоем связаны следующие элементы:
1. Название слоя. Нажатие левой кнопки мыши на названии слоя приводит к выделению его в окне
управления слоями.
2. Иконка видимости слоя. Нажатие мышкой на данную иконку приводит к временному
выключению и последующему включению отображения слоя.
3. Иконка, отображающая тип слоя (в данном случае – векторный). Нажатие мышкой на эту иконку
приводит к включению и выключению отображения узлов векторного слоя.
4. Флаг возможности выделения объектов из данного слоя. Нажатие мышкой включает и
выключает возможность выделения объектов.
5. Флаг возможности внесения изменений в объекты слоя. Нажатие мышкой включает и выключает
режим &laquo;только для чтения&raquo;.
6. Иконка выбора целевого слоя. Нажатие мышкой на эту иконку приводит к выбору данного слоя в
качестве целевого. Повторное нажатие отменяет целевой слой.
7. Иконка единообразного отображения полигональных объектов слоя. Нажатие левой кнопкой
мыши приводит к открытию диалога выбора стиля единообразного оформления, нажатие
правой кнопки мыши включает и выключает единообразное оформление без отображения
диалога выбора стиля.
8. То же, только для линейных объектов.
9. То же, только для точечных объектов.
10. То же, только для текстовых объектов.
2.4. Окно просмотра и редактирования атрибутивной информации
Данное окно предназначено для просмотра и редактирования атрибутивной информации векторных
объектов ГИС. Окно выглядит следующим образом:
В окне отображается информация о пяти первых выделенных объектах. Для каждого объекта
отображаются следующие данные:
11
–
Имя слоя, в котором находится объект.
–
Внутренний уникальный в пределах слоя идентификатор объекта (ID).
–
Количество векторных примитивов, из которых состоит объект.
–
Типы примитивов, входящих в состав объекта.
–
Общее количество точек, входящих в состав объекта.
–
Общее количество частей объекта.
–
Является ли объект фреймом для отображения другого окна ГИС (фрейм - это объект,
отображающий содержимое карты, отчета или другого окна ГИС).
–
Дата и время последнего изменения географической части объекта, а также ID программы
(копии ГИС), в которой эти изменения были произведены.
–
Дата и время последнего изменения атрибутивной информации объекта, а также ID программы
(копии ГИС), в которой эти изменения были произведены.
–
Вся атрибутивная информация объекта. Структура атрибутивной информации объекта
однозначно определяется векторным слоем, в котором находится объект.
Атрибутивная информация объекта может быть измена путем выделения в списке нужного атрибута и
ввода (или корректировки) его значения.
2.5. История произведенных операций и их отмена
ГИС &laquo;Терра&raquo; сохраняет историю изменения объектов и позволяет отменить ошибочно произведенные
операции (также есть возможность вернуть ошибочно произведенные операции отмены). История
изменений объектов сохраняется в оперативной памяти компьютера, поэтому существует ограничение
на ее размер. Если после осуществления новой операции в буфере истории операций недостаточно
свободного места, ГИС автоматически удаляет оттуда необходимое количество ранее сохраненных
операций, освобождая место для хранения новой операции. Это происходит незаметно для
пользователя, позволяя ему не беспокоиться о переполнении буфера истории операций.
Если только что совершенная операция требует в буфере больше места, чем размер буфера целиком
(например, изменение всех объектов большого слоя сразу), такая операция не попадает в буфер
вообще. Следует обращать на это внимание, своевременно сохранять изменяемые векторные слои до
проведения операции и использовать пункт меню &laquo;Файл&raquo;, &laquo;Отменить изменения в слое&raquo; для
возвращения слоя в исходный вариант в случае неудовлетворительного результата выполнения
операции.
Буфер истории операций не очищается при сохранении слоя, что позволяет отменить неверно
произведенную операцию, даже если после нее слой был сохранен на диск. Также буфер не
сохраняется и при закрытии программы. При закрытии слоя все операции, в которых присутствуют
объекты из закрываемого слоя, автоматически удаляются из буфера.
2.5.1. Отмена последней операции
Для отмены последней произведенной операции необходимо нажать комбинацию Ctrl-Z на клавиатуре
компьютера, выбрать пункт меню &laquo;Правка&raquo;, &laquo;Отменить&raquo; или нажать кнопку &laquo;Отменить&raquo; главной
панели инструментов ГИС. Для отмены нескольких последних операций, произведенных подряд,
необходимо выбрать функцию &laquo;Отмена&raquo; несколько раз.
2.5.2. Возврат отмененной операции
Если после отмены операции окажется, что отмена была лишней, также с момента отмены не было
произведено никакой другой новой операции, вернуть отмененную операцию можно нажав
комбинацию Ctrl-Y на клавиатуре компьютера, выбрав пункт меню &laquo;Правка&raquo;, &laquo;Вернуть&raquo; или нажав
кнопку &laquo;Вернуть&raquo; главной панели инструментов ГИС.
12
2.5.3. Диалог истории операций
Для просмотра истории совершенных операций, а также быстрой отмены группы последовательно
совершенных операций, ГИС имеет в своем составе диалог истории операций, вызываемый через пункт
меню &laquo;Правка&raquo;, &laquo;История операций&raquo;. Диалог отображается поверх окна ГИС, позволяя продолжить
работу с ГИС, пока диалог открыт. Внешне вид диалога представлен ниже:
При выделении с помощью мыши какой-либо строки в списке, в ГИС будут выделены объекты, которые
участвовали в выделенной операции (если они еще существуют на текущий момент). Если в этот момент
будет удержана клавиша Ctrl, то позиция просмотра активной карты будет изменена таким образом,
чтобы отобразить эти объекты.
При двойном щелчке левой кнопкой мыши на выбранной строчке, все операции, начиная от выбранной
и до последней, будут отменены. Таким образом, при щелчке мышкой на первой строчке списка будут
отменены все операции, хранящиеся в буфере обмена.
После отмены операции будут отображены в списке серым цветом, позволяя вернуть неправильно
произведенную отмену. При двойном щелчке левой кнопкой мыши на любой отмененной операции,
будут возвращены все отмененные операции, произведенные ранее выбранной операции, но не
выбранная операция (выбранная операция останется отмененной). Для возврата всех отмененных
операций необходимо выполнить двойной щелчок левой кнопкой мыши на пустом месте ниже
последней строчки списка.
13
3. Работа со слоями
ГИС &laquo;Terra&raquo; поддерживает следующие типы слоев:
1. Векторные.
2. Растровые.
3. Запросные.
Векторные и растровые слои ГИС физически независимы от остальных и хранятся в отдельных файлах.
Если в процессе работы какой-либо слой оказывается не нужным, его необходимо закрыть, чтобы
освободить используемые им ресурсы ГИС и компьютера. Для этого необходимо выбрать пункт &laquo;Файл&raquo;,
&laquo;Закрыть слой&raquo; главного меню программы.
Если закрываемый слой был где-то использован, он будет автоматически удален из этих мест. Это
может привести к закрытию некоторых окон ГИС (например, закрытие слоя, открытого в браузере
приведет к закрытию браузера) и некоторых слоев (если на основе закрываемого слоя создан
запросный слой). При наличии изменений в закрываемом векторном слое, ГИС спросит о
необходимости их сохранения перед закрытием.
3.1. Векторные слои
Векторный слой представляет собой набор картографических объектов, заданных с помощью координат
узловых точек (т.е. обычных векторных объектов) в заданной географической проекции. Каждый объект
векторного слоя состоит из одного или более векторных примитивов. ГИС поддерживает следующие
типы векторных примитивов:
1. Полигон. Полигон – это замкнутая геометрическая фигура, состоящая из набора точек плоскости
(не менее 3-х), соединенных друг с другом отрезками, при этом последняя точка полигона
соединяется с первой его точкой. Полигон может состоять из нескольких частей, при этом, если
одна часть полигона попадает внутрь другой, меньшая часть образует вырез (&laquo;дырку&raquo;) внутри
большей.
2. Линия. Линия – это незамкнутая (в общем случае) геометрическая фигура, состоящая из набора
точек плоскости (не менее 2-х), соединенных друг с другом отрезками. Линия также может
состоять из нескольких частей.
3. Точечный объект. Точечный объект состоит из двух точек – базовой точки, определяющей центр
точечного объекта, и вспомогательной точки, определяющей размер и поворот условного знака
точечного объекта.
4. Текстовый объект. Текстовый объект содержит одну или более строк текста и содержит две
точки – базовую точку, определяющую положение текстового объекта, и вспомогательную точку,
определяющую размер и угол поворота текстового объекта.
Каждому векторному объекту слоя может быть установлен свой собственный стиль отображения, а
также сопоставлен набор атрибутов (семантических данных). Установка собственного стиля
отображения, а также собственного набора атрибутивных данных отдельному векторному примитиву,
входящему в состав какого-либо векторного объекта, не предусмотрена.
Каждая узловая точка векторного объекта (примитива) в ГИС &laquo;Terra&raquo; имеет следующие атрибуты:
–
Горизонтальную координату (X).
–
Вертикальную координату (Y).
–
Отметку высоты (Z).
–
Задаваемое пользователем значение (tag).
Все три координаты (X, Y, Z) точки представлены числами с плавающей точкой двойной точности
(double). Задаваемое пользователем значение (tag) представляется в формате целого числа размером
14
64 бит (__int64). Это значение никак не используется внутри ГИС и предназначено для использования
непосредственно пользователем или дополнительными подключаемыми модулями ГИС.
Векторный слой, сохраненный на жестком диске компьютера, состоит из трех файлов:
*.geoind – индексная информация об объектах слоя. Основной файл, по которому происходит
открытие и сохранение слоя.
*.geomap – картографическая данные слоя (координаты узловых точек, стили отображения
объектов, картографическая проекция). Может отсутствовать, если слой не содержит
картографических данных.
*.geotab – атрибутивные данные слоя (структура атрибутивных данных, атрибутивные данные).
Может отсутствовать, если слой не содержит атрибутивных данных.
Векторный слой ГИС может не содержать картографических или атрибутивных данный, но оба вида
данных одновременно отсутствовать не могут.
Все объекты слоя имеют одну и ту же географическую проекцию, называемую проекцией слоя. Также
они имеют идентичную структуру атрибутивных данных (т.е. одно и то же количество и тип полей).
3.1.1. Открытие векторного слоя
Для открытия векторного слоя, хранящегося на жестком диске компьютера необходимо выбрать пункт
меню &laquo;Файл&raquo;, &laquo;Открыть слой&raquo;; &laquo;Файл&raquo;, &laquo;Открыть&raquo; или воспользоваться соответствующей иконкой на
панели инструментов. Одновременно возможно открыть несколько векторных слоев, расположенных в
одном и том же каталоге на жестком диске компьютера.
При открытии векторных слоев можно указать, как их необходимо отобразить сразу после открытия.
Возможные варианты – &laquo;В активной карте&raquo;, &laquo;В новой карте&raquo;, &laquo;Списком&raquo; и &laquo;Скрыть&raquo;.
После открытия векторного слоя он станет доступным для добавления в карты и других операций
системы.
3.1.2. Сохранение векторного слоя
Если в процессе работы ГИС в какой-либо векторный слой вносятся изменения, сохранить их можно с
помощью пункта меню &laquo;Файл&raquo;, &laquo;Сохранить слои&raquo; (альтернативно можно воспользоваться
соответствующей иконкой на панели инструментов, либо нажать комбинацию клавиш Ctrl-S). Если
изменен был только один векторный слой, он автоматически сохранится. Если было изменено более
одного векторного слоя, будет отображен диалог выбора, какой (какие) векторные слои следует
сохранить. По умолчанию выбраны все измененные слои, что позволяет их быстро сохранить нажатием
кнопки ОК.
3.1.3. Импорт векторного слоя из других программ
ГИС &laquo;Terra&raquo; позволяет импортировать векторные слои из следующих форматов:
–
MIF (Mapinfo Interchange Format);
–
TAB (Mapinfo binary format);
–
ESRI Shape;
–
Autocad DWG;
–
Autocad DXF.
Для импорта слоев необходимо выбрать пункт меню &laquo;Файл&raquo;, &laquo;Импорт&raquo;, после чего выбрать желаемые
файлы на диске компьютера и нажать &laquo;ОК&raquo;. В зависимости от форматов импортируемых файлов на
экране отобразится соответствующее окно параметров импорта.
ГИС &laquo;Терра&raquo; осуществляет полноценный импорт слоев из форматов Mapinfo с сохранением не только
векторных данных, но и стилей оформления и семантической информации.
15
Формат ESRI Shape содержит только векторные данные географических объектов, поэтому также
импортируется без каких либо потерь.
При импорте данных из Autocad возможно выбрать композицию:
–
Конвертировать в один слой: все объекты внутри dxf-файла будут импортированы в один
векторный слой ГИС.
–
Разбить на несколько слоев: каждому слою dxf-файла будет сопоставлен отдельный векторный
слой ГИС.
3.1.4. Импорт проектов Mapinfo Professional
Импорт проекта вызывается пунктом меню &laquo;Файл&raquo;, &laquo;Импорт&raquo;. В появившемся диалоге выбора файла
следует переключить тип файлов на &laquo;MapInfo Workspace&raquo; и выбрать один файл проекта. Дальнейший
импорт ГИС &laquo;Терра&raquo; проведет в автоматическом режиме.
Особенности:
1) ГИС &laquo;Терра&raquo; автоматически импортирует входящие в проект векторные слои Mapinfo,. Полученные
слои ГИС &laquo;Терры&raquo; будут размещены в директории с исходными слоями Mapinfo.
2) Если в директории уже имеется слой в формате ГИС &laquo;Терры&raquo;, то импорт слоя не производится.
3) Легенды создаются во временных слоях.
4) Тематические карты не импортируются.
5) В завершении импорта будет выведено информационное сообщение о проведенной операции.
3.1.5. Импорт из текстовых файлов
Для импорта контуров из текстовых файлов необходимо выбрать пункт меню &laquo;Файл&raquo;, &laquo;Импорт из
текстовых файлов&raquo;. В появившемся окне необходимо выбрать формат данных, задать имена
импортируемых файлов и указать слой-приёмник. Импортируемые файлы, за исключением
электронных документов в формате XML, должны иметь кодировку Windows-1251.
Форматы:
1) Росреестр – импорт электронных документов в
формате XML, полученных из государственного
кадастра недвижимости (ГКН). Допускается импорт
непосредственно из zip-архивов. Поддерживаются
следующие типы документов:
–
кадастровый план территории (версии 8, 9);
–
кадастровая выписка о земельном участке
(версии 4, 5, 6);
–
кадастровый паспорт земельного участка
(версия 5);
–
кадастровый паспорт здания, сооружения,
объекта незавершенного строительства,
помещения (версия 3).
Правила импорта задаются текстовым файлом
шаблона в кодировке UTF-16 little endian. При импорте
из документов извлекается разнообразная информация об объектах и помещается в соответствующие
атрибутивные поля целевого слоя. Поэтому желательно, что бы целевой слой имел подходящую
структуру. В противном случае будет импортирована только геометрия.
Для создания слоя с рекомендованной структурой следует нажать кнопку &laquo;Задать новый…&raquo;.
16
2) Координаты списком – самый простой текстовый формат. Создается в блокноте или в других
программах-редакторах. Один файл формирует один участок. Каждая строка соответствует одной точке.
Сначала идёт северная координата, затем через один пробел или символ &laquo;;&raquo; восточная. Разделитель
целой и дробной частей – точка &laquo;.&raquo;
Например:
9957.17 5275.68
9957.68 5268.34
9957.62 5259.61
9957.39 5255.66
9942.92 5257.29
9939.73 5257.85
3) Дирекционные углы и длины
Данные длин сегментов и их дирекционных углов передают только форму и ориентацию участка по
сторонам света, но не могут передать его реального положения на местности. Поэтому в первой строке
указываются координаты точки отсчета, от которой начнет &laquo;разворачиваться&raquo; участок.
Далее для каждой точки указываются дирекционное направление и длина. Разделителем градусов,
минут и секунд является символ &laquo;’&raquo; (код 39).
Например:
12.3 16.8
15'0'15 77.24
76'18'21 4.22
19'27'33 19.51
78'28'45 69.6
14'0'27 49.15
83'32'0 30.19
Помимо этого программа поддерживает ввод данных по румбам. Румбы заносятся перед угловой
характеристикой. Разделитель румба и угла – ОДИН пробел. Символы обозначения румбов пишутся
заглавными буквами на русском языке.
Например:
88.71 -69.6965
СЗ 57'17'0 95.44
СВ 49'10'0 96.20
ЮВ 43'9'0 2.19
СВ 50'26'0 51.49
4) Координаты с номерами точек – аналогично формату под номером 2, только сначала идет номер
точки, а уже потом северная и восточная координаты.
Например:
2,5500.850,8513.020
32,5507.630,8517.410
10,5512.960,8520.810
11,5470.920,8531.410
12,5522.670,8522.590
13,5522.390,8526.200
43,5521.850,8526.940
5) *.kat - файл
17
3.1.6. Создание нового векторного слоя
Для создания нового векторного слоя необходимо выбрать пункт меню &laquo;Слои&raquo;, &laquo;Создать векторный
слой&raquo;, после чего выбрать имя (и путь) файла слоя на диске. Затем ГИС отобразит диалог выбора
структуры создаваемого слоя, где можно будет выбрать проекцию объектов слоя, а также структуру
атрибутивной информации. Созданный векторный слой будет автоматически открыт.
3.1.7. Экспорт векторных слоев в другие программы
ГИС &laquo;Terra&raquo; позволяет экспортировать векторные слои в следующие форматы:
–
MIF (Mapinfo Interchange Format);
–
TAB (Mapinfo binary format);
–
ESRI Shape;
–
Autocad DWG;
–
Autocad DXF;
Для экспорта слоев необходимо выбрать пункт меню &laquo;Файл&raquo;, &laquo;Экспорт&raquo;. После чего на экране будет
отображен диалог выбора экспортируемых слоев. После выбора слоев и нажатия ОК, ГИС отобразит
диалог параметров экспорта:
Внимание, поскольку ГИС &laquo;Terra&raquo; имеет значительно б&oacute;льшие возможности по оформлению объектов,
а также значительно меньшие ограничения на содержание атрибутивной информации, не все стили
оформления, а также не любую атрибутивную информацию возможно корректно экспортировать во все
форматы. Например, при экспорте в форматы Mapinfo будут действовать следующие ограничения:
–
Отсутствие прозрачности в оформлении объектов.
18
–
Небольшой выбор штриховок объектов и стилей линий (только стандартное оформление,
совместимое с Mapinfo).
–
Отсутствие поддержки Unicode-строк в атрибутивной информации.
–
Максимальная длина атрибутивной строки может составлять 254 символа.
При этом ГИС будет пытаться подобрать наиболее подходящий стиль Mapinfo и по возможности полно
экспортировать атрибутивную информацию.
3.1.8. Модификация структуры векторного слоя
У векторного слоя в любой момент можно изменить структуру. Для этого необходимо выбрать меню
&laquo;Слой&raquo;, &laquo;Модифицировать структуру слоя&raquo;, после чего на экране будет отображен диалог структуры
векторного слоя, представленный в пункте &laquo;Создание нового векторного слоя&raquo;.
В этом диалоге можно выполнить следующие действия:
Название операции
Описание
Добавление поля
Для добавления поля достаточно нажать кнопку &laquo;Добавить&raquo;. Если на момент
нажатия кнопки в списке было выделено какое-либо поле, то новое поле
добавится перед выделенным, в противном случае новое поле добавится в
конец списка.
Изменение имени поля
Необходимо сделать щелчок левой кнопкой мыши по нужному полю в
колонке &laquo;Новое имя&raquo;. В появившейся строке редактирования ввести новое
имя.
Изменение типа поля
Cделать щелчок левой кнопкой мыши по нужному полю в колонке &laquo;Новый
тип&raquo;. В выпавшем списке выбрать новый тип поля.
Изменения порядка
следования полей
Сначала необходимо выбрать в списке поля, положение которых нужно
изменить. Затем, нажимая клавиши &laquo;Вверх&raquo; или &laquo;Вниз&raquo;, сместить их
относительно остальных полей в нужную сторону.
Удаление полей
Нажатие клавиши &laquo;Удалить&raquo; удалит из списка выбранные поля.
Возврат к начальному
состоянию
Кнопка &laquo;Сброс&raquo; вернет состояние слоя в начальное, которое было на момент
открытия диалога.
Нажатие кнопки &laquo;ОК&raquo; завершит изменение структуры слоя. Если у каких-либо атрибутивных полей был
изменен тип, ГИС будет пытаться максимально сохранить имеющуюся информацию.
19
3.1.9. Обновление поля
Данный инструмент позволяет обновить заданное атрибутивное поле сразу у всех объектов слоя. Для
открытия инструмента необходимо воспользоваться пунктом меню &laquo;Правка&raquo;, &laquo;Обновить поле&raquo;, либо,
при работе с окном списка, использовать соответствующий пункт контекстного меню, отображаемого
при нажатии правой кнопкой мыши на заголовке атрибутивной колонки.
Первым делом необходимо выбрать изменяемый слой, используя кнопку &laquo;…&raquo;, расположенную
напротив поля &laquo;Целевой слой&raquo;. Затем следует выбрать поле из выпадающего списка &laquo;Обновляемое
поле&raquo;.
Флажок &laquo;Обновить выбранное поле только у выделенных объектов&raquo; ограничивает применение
инструмента только выделенными объектами.
Далее следует выбрать способ обновления.
1) Задать значение.
В колонку помещается фиксированная величина. Данный способ идеален для константных значений. Он
не требует заключения в кавычки значения для строковых полей.
2) Результат выражения.
Текст, введенный в это поле, будет рассматриваться как выражение, основанное на значениях
атрибутивных полей данного объекта. Это более гибкий инструмент, но требует учета некоторых
особенностей. Например, строковые значения должны заключаться в кавычки. Для облегчения
написания выражений можно воспользоваться специальным редактором выражений, нажав кнопку
&laquo;&gt;&raquo;.
3) Использовать значение поля из другого слоя.
Записывает в обновляемое поле значение поля из записи в слое-источнике, для которой выполнилось
условие объединения таблиц.
20
3.2. Растровые слои
Растровый слой представляет собой растровое графическое изображение, привязанное к
географическим координатам в заданной географической проекции.
3.2.1. Поддерживаемые форматы графических изображений
ГИС &laquo;Terra&raquo; поддерживает следующие форматы растровых слоев: TIFF, BMP и ECW
TIFF
Поддерживаются следующие цветовые модели:
–
Монохромный (черно-белый, 1 бит на пиксель, 2 цвета).
–
Оттенки серого (8 бит на пиксель, 256 оттенков серого).
–
Палитра (8 бит на пиксель, 256 цветов из палитры).
–
RGB (24 бита на пиксель, 16М цветов) с чередованием хранения цветов (RGBRGB) и хранение по
каналам (RRRGGGBBB).
–
RGB (48 бит на пиксель) с чередованием и по каналам.
ГИС поддерживает следующие типы сжатия TIFF:
–
Без сжатия.
–
LZW (нормальный и разностный).
Для цветовой модели RGB (48 бит на пиксель) сжатие не поддерживается.
ГИС поддерживает стриповые (поло́сные) и тайловые (плиточные) растры.
BMP
Поддерживаются следующие цветовые модели:
–
Монохромный (черно-белый, 1 бит на пиксель, 2 цвета).
–
Палитра (8 бит на пиксель, 256 цветов из палитры).
–
RGB (24 бита на пиксель, 16М цветов).
–
RGB (32 бита на пиксель, 16М цветов).
ECW
Цветовая модель – RGB.
3.2.2. Географическая привязка изображений
ГИС поддерживает следующие форматы географической привязки изображений:
–
xRef-файл (собственный формат привязки растров).
–
Географическая привязка, поддерживаемая форматом файла (GeoTIFF, ECW).
–
World-файл.
–
Tab-файл (используется для привязки изображений в Mapinfo).
Если окажется, что изображение имеет несколько видов географической привязки, то будет
использована привязка с наивысшим приоритетом. Высшим приоритетом обладает xRef-файл, низшим
Tab-файл.
В состав ГИС входит инструмент географической привязки растров, доступный из меню ГИС &laquo;Слои&raquo;,
&laquo;Привязка растра&raquo;. Описание работы с этим инструментом приведено в пункте 9. Географическая
привязка растров.
21
3.2.3. Открытие растрового слоя
Для открытия растрового слоя необходимо выбрать пункт &laquo;Файл&raquo;, &laquo;Открыть растровый слой&raquo; главного
меню программы. Внимание, при открытии растрового слоя у открываемого изображения должна уже
присутствовать какая-либо географическая привязка к координатам. Если такой привязки не будет, ГИС
не сможет открыть растровый слой и выдаст соответствующую ошибку.
После открытия слой будет доступен для добавления в карты.
Следует отметить, что растровый слой всегда рассматривается системой как слой только для чтения.
Изменение растрового слоя в ГИС &laquo;Терра&raquo; невозможно. Однако, ГИС позволяет настраивать некоторые
параметры отображения растрового слоя, такие как яркость, контрастность и прозрачность. При этом
все необходимые преобразования осуществляются &laquo;на лету&raquo; без изменения каких-либо файлов на
диске.
Если для правильного отображения в соответствии с заданной географической привязкой растровое
изображение необходимо исказить (повернуть или применить нелинейную трансформацию), ГИС будет
выполнять это непосредственно при отображении (не изменяя исходных растровых данных). Однако
такое преобразование значительно снижает быстродействие ГИС.
3.3. Запросные слои
Запросный слой – это векторный слой, который представляет собой результаты SQL-запроса на выборку
данных. Исходными данными для SQL-запроса являются базовые векторные слои, а также другие
запросные слои. При формировании запросов могут быть учтены как атрибутивные данные векторных
объектов, так и геометрическая составляющая.
Для создания запросного слоя необходимо выполнить SQL-запрос на выборку данных (SELECT) с
помощью меню &laquo;Правка&raquo;, &laquo;SQL запрос&raquo;.
3.3.1. Особенности запросных слоев
–
Запросные слои не поддерживают добавление записей, но могут поддерживать редактирование
и удаление (при удалении записи из запросного слоя автоматически удаляются
соответствующие записи из базовых слоев).
–
Все запросные слои поддерживают исключение записей – действие, при котором определенные
записи исчезают из запросного слоя, не затрагивая базовых слоев.
–
Запись (строка) запросного слоя считается выделенной, если выделены все записи базовых
слоях, на которых она основана.
–
Запросные слои могут участвовать в других SQL-запросах наравне с базовыми слоями.
Условно запросные слои можно разделить на два типа:
1. Запросные слои без группировки данных и функций обобщения.
2. Запросные слои, содержащие обобщенную информацию о данных.
3.3.2. Запросные слои без группировки данных
Запросные слои данного типа характеризуются тем, что, не смотря на то, что результирующая запись в
слое может ссылаться на несколько базовых слоев, из каждого базового слоя используется ровно одна
запись.
Схематическая структура запросного слоя и связей его записей с базовыми слоями представлена на
рисунке ниже:
22
В таком слое возможно редактирование существующих записей, если они не являются выражением и
базовый слой допускает редактирование. Это действие модифицирует базовые слои, а также все
запросные слои, которые используют модифицированную запись.
Если запросный слой основан на одном базовом слое, то поддерживается и физическое удаление
записей. При этом запись физически удаляется из базового слоя.
3.3.3. Запросные слои с обобщенной информацией
Запросные слои данного типа характеризуются тем, что в результирующей записи в слое может
участвовать несколько записей исходного слоя, обобщенных по заданному пользователем критерию.
Слои этого типа доступны только на чтение.
Проиллюстрировать работу с запросными слоями данного типа можно на следующих примерах:
Name
Иванов
Петров
Сидоров
Дроздов
Галкин
Воробьев
Синичкин
Грачев
Мухина
Дятлов
Снегирев
Базовый слой Factory
Age
Department
20
Геология
25
IT
50
Геодезия
43
Геология
24
IT
30
Геодезия
22
Геодезия
36
Геодезия
28
Геология
33
IT
41
Геология
Post
Инженер
Программист
Руководитель
Руководитель
Администратор
Геодезист
Геодезист
Геодезист
Инженер
Программист
Инженер
Задача 1: узнать, сколько сотрудников трудится в фирме.
Для решения задачи воспользуемся следующим SQL-запросом:
SELECT Count (*) FROM Factory Into Result01
В результате получим таблицу, состоящую из одной колонки типа Integer, содержащую только одну
запись:
Запросный слой Result01
Col1
11
Задача 2: узнать средний и максимальный возраст сотрудников в каждом отделе.
Для решения задачи воспользуемся следующим SQL-запросом:
SELECT Department, Avg (Age), Max (Age) FROM Factory GROUP BY Department INTO Result02
23
В результате получим следующую таблицу:
Department
IT
Геодезия
Геология
Запросный слой Result02
Col1
27.3333
34.5
33
Col2
33
50
43
3.4. Тематические слои
Тематический слой – это вариант отображения векторного (или запросного) слоя, где визуальное
оформление каждого объекта определяется не его собственным стилем, а значением выражения,
вычисленного на основе семантических и/или географических данных объекта.
Тематический слой позволяет быстро раскрасить объекты по выбранному признаку, например,
раскрасить карту муниципальных образований по количеству населения, проживающему в них
(количество населения должно быть задано соответствующим атрибутивным полем слоя).
Тематический слой создается в карте на основе векторного или запросного слоя. Подробней создание
тематического слоя будет рассмотрено в разделе 4.1.3. Тематические слои.
24
4. Работа с картой
Окно карты предназначено для просмотра картографических данных одного или нескольких векторных
и/или растровых слоев, наложенных друг на друга в заданном порядке.
Окно карты открывается с помощью выбора пункта меню &laquo;Окно&raquo;, &laquo;Новая карта&raquo;. Первоначально (до тех
пор, пока в окно карты не будут добавлены какие-либо слои для отображения) окно карты выглядит
полностью белым без каких-либо элементов управления.
Пример окна карты:
Основными элементами управления картой являются панель инструментов &laquo;Панель управления
картой&raquo;, раздел главного меню &laquo;Карта&raquo;, а также контекстное (выпадающее) меню карты, которое
появляется при нажатии правой кнопкой мыши в любое место карты. Также, управление слоями,
входящими в состав карты осуществляется с помощью окна управления слоями, рассмотренного ранее.
Конкретный вид контекстного меню может зависеть от режима работы карты, а также от других
факторов. Пример меню приведен ниже:
25
Инструментальная панель управления картой позволяет быстро переключать режимы работы активной
карты. Панель выглядит следующим образом:
И состоит из следующих инструментов:
Инструмент
Название
Перемещение карты
Управление объектами
Управление узлами объектов
Измерение расстояний
Выделение объектов по произвольному контуру
Перемещение содержимого фрейма
Добавить слой в карту
Добавить в карту временный векторный слой и
сделать его целевым
Добавить в карту тематический слой
Создать точечный объект
Создать полигональный объект
26
Создать линейный объект
Создать текстовый объект
Создать полигональный объект типа
прямоугольник
Создать полигональный объект типа эллипс
Отобразить диалог настроек параметров карты
Отобразить диалог настроек параметров отчета
Отобразить диалог параметров выделенных
объектов
Отобразить диалог параметров фрейма
Снять выделение со всех объектов карты
4.1. Слои карты
В карте могут быть отображены следующие типы слоев:
1. Векторные.
2. Растровые.
3. Тематические.
4. Слои-группы.
Работа в карте осуществляется с объектами всех слоев одновременно. Возможно одновременное
выделение, редактирование и удаление объектов, находящихся в разных слоях. Однако для удобства
работы часть слоев может быть переведена в режим &laquo;Только чтение&raquo;, либо в режим, когда объекты
этих слоев не будут участвовать в выделении мышкой. Переключение в эти режимы и обратно
осуществляется в окне управления слоями ГИС. Также можно временно отключить отображение
некоторых слоев в карте. Это также делается в окне управления слоями ГИС.
4.1.1. Векторные слои
Любой открытый в ГИС векторный слой может быть добавлен для отображения в любую карту. Один и
тот же векторный слой можно одновременно добавить для отображения в разные карты. При этом, в
каждой карте ему можно задать различные параметры отображения (например, разное оформление).
Если проекция векторного слоя не совпадает с проекцией карты, то при отображении слоя объекты
автоматически трансформируются в проекцию карты. Такая трансформация происходит
непосредственно в момент вывода и поэтому не затрагивает реальные объекты (не изменяет их).
Соответственно, такая трансформация может снизить быстродействие ГИС в разной степени.
У векторного слоя можно задать дополнительные параметры отображения (такие, как единообразное
оформление объектов слоя), которые будут действовать только для этой карты.
Вызвать окно настроек отображения слоя можно двойным щелчком мыши в окне управления слоями
или выбором пункта &laquo;Параметры выделенных слоев&raquo; в контекстном меню.
27
Диалоговое окно &laquo;Параметры слоев&raquo; позволяет:
–
изменить название слоя для данной карты;
–
переключать режимы отображения узлов и доступности слоя для выборки;
–
включить и настроить параметры отображения подписей объектов слоя;
–
задать единое отображение для графических объектов определенного типа;
–
модифицировать отображение текстовых объектов для данной карты;
Это окно можно вызывать сразу на несколько выбранных слоев и задавать для них единые параметры
одновременно.
4.1.1.1. Подписи объектов
Для анализа картографической информации может оказаться удобным отображение части
семантических данных непосредственно в окне карты. Для этой цели ГИС &laquo;Терра&raquo; позволяет создавать
и отображать подписи объектов.
Подписи объектов включаются и выключаются на уровне слоя (т.е. для всех объектов, входящих в
заданный векторный слой). Для включения режима подписей необходимо открыть диалог &laquo;Параметры
слоев&raquo; на выбранном векторном слое (см. предыдущий пункт руководства), после чего выбрать в поле
&laquo;Подписывать объекты слоя&raquo; значение &laquo;Каждый объект&raquo; и задать желаемые параметры подписей в
последующих полях.
Поле &laquo;Высота шрифта подписей&raquo; определяет размер шрифта, которым будет осуществляться подпись
объектов. Можно задать шрифт в метрах карты (тогда его размер будет изменяться пропорционально
масштабу просмотра) или в пунктах (тогда его размер будет всегда одинаковым, независимо от
масштаба просмотра).
Поля &laquo;Сместить&raquo; позволяют сместить подписи относительно центра объекта (по умолчанию ГИС
&laquo;Терра&raquo; располагает подпись в геометрическом центре объекта) по осям X и Y соответственно.
Поля &laquo;Не отображать подписи для масштаба …&raquo; позволяют задать отображение подписей только в
выбранном диапазоне масштабов.
Кнопка &laquo;Стиль подписей&raquo; позволяет выбрать визуальное оформление (шрифт, стиль, выравнивание и
цвета) подписей.
Наконец, поле &laquo;Текст подписей&raquo; задает непосредственно текст подписей. Чаще всего в это поле
помещается какое-либо выражение, результат которого будет отображен на карте. Например, для
отображения площади объекта в это поле необходимо поместить: GetObjArea (_obj), после чего на карте
поверх каждого объекта будет отображена его площадь в квадратных метрах:
28
Для отображения площади в гектарах следует воспользоваться следующим выражением:
&quot;&quot; + GetObjArea (_obj)/10000 + &quot; га&quot;
4.1.2. Растровые слои
Так же, как и с векторными слоями, любой открытый растровый слой можно добавить для отображения
в любую карту. При этом, у растрового слоя можно задать дополнительные параметры отображения
(такие, как изменение яркости, контрастности или придание слою прозрачности), которые будут
действовать только для этой карты.
Дополнительных визуальных эффектов можно добиться, применяя различные параметры для красного,
зеленого и синего каналов по отдельности. Также возможно применение отрицательного коэффициента
контрастности для визуальной &laquo;инверсии&raquo; изображения. Для изменения знака коэффициента
контрастности необходимо сделать щелчок правой кнопкой мыши на полосе контрастности.
Задание прозрачного цвета или диапазона прозрачности позволяет делать прозрачными некоторые
пиксели изображения. Это актуально для наложения нескольких растров друг на друга.
На примере ниже в карту добавлены два растра, один из которых – аэрофотосъемка, второй – планшеты
масштаба 1:10 000. Растр планшетов располагается выше в списке слоев, и белые пиксели растра
сделаны прозрачными, чтобы на их месте было видно изображение аэрофотосъемки:
29
Если проекция растрового слоя не совпадает с проекцией карты, при отображении растр автоматически
трансформируется в проекцию карты. Трансформация происходит попиксельно, обеспечивая предельно
высокую точность, но заметно снижая быстродействие ГИС.
4.1.3. Тематические слои
Тематический слой позволяет визуально оформить объекты слоя не в соответствии с их
индивидуальным стилем оформления, а в зависимости от результатов вычисления специального
выражения. Это может оказаться удобным при анализе картографической информации. Тематический
слой создается на основе векторного (или запросного) слоя.
Для создания тематического слоя необходимо открыть окно карты и выбрать пункт меню &laquo;Карта&raquo;,
&laquo;Создать тематический слой&raquo;, затем выбрать базовый векторный (или запросный слой). После этого на
экране будет отображен диалог параметров создаваемого тематического слоя:
30
Тематический слой представляет собой совокупность тематического выражения и списка визуальных
стилей объектов. Отображение тематического слоя происходит следующим образом – для каждого
объекта слоя вычисляется значение тематического выражения, после чего, в зависимости от результата
выражения, из списка визуальных стилей выбирается элемент, и исходный объект отображается в
соответствии со стилем, задаваемым этим элементом.
Если результату тематического выражения не соответствует ни один из заданных элементов
оформления, объект (по выбору пользователя) может сохранить исходный стиль оформления или быть
оформленным в соответствии со стилем оформления &laquo;по умолчанию&raquo;, задаваемым в конце списка
стилей.
Тематическое выражение слоя задается в поле &laquo;Колонка (выражение)&raquo; и в самом простом случае
может быть просто именем атрибутивного поля слоя. Ниже располагается список визуальных стилей
оформления, а еще ниже находятся кнопки для работы с этим списком.
Элемент списка состоит из следующих колонок:
–
&laquo;Значение&raquo;, отображающей значение (или диапазон значений) тематического выражения, для
которого применяется данный элемент оформления. Для изменения значения (или диапазона)
необходимо выполнить двойной щелчок левой кнопкой мыши на этой поле.
–
&laquo;Тип&raquo;, определяющей тип значений пределов, с которыми производится сравнение (число или
строка); задается вместе с самими пределами.
–
&laquo;Стиль&raquo;, задающей стиль оформления объектов. Для изменения стиля необходимо нажать
левой кнопкой мыши на данное поле.
–
&laquo;Символ&raquo;, позволяющей включить или выключить отображение произвольного символа поверх
объекта; переключение производится двойным щелчком левой кнопкой мыши.
–
&laquo;Стиль символа&raquo;, задающей стиль отображаемого символа; для изменения необходимо нажать
левой кнопкой мыши на данное поле.
Диалог параметров элемента тематического слоя представлен ниже.
Возможен выбор одного из четырех вариантов условия: &laquo;Никогда&raquo; - отключает элемент, сохраняя его в
списке; &laquo;Равно&raquo; - задает точное значение выражения, сопоставляемое данному элементу; &laquo;&gt;=
Значение1, но &lt; Значение2&raquo; - задает диапазон значений с включенной левой границей; &laquo;&gt; Значение1,
но &lt;= Значение2&raquo; - задает диапазон значений с включенной правой границей. В качестве значений
могут использоваться как числа, так и строки.
31
Приведем пример раскраски объектов в три цвета в зависимости от их площади:
И результата его применения:
Обратите внимание, что для элемента оформления &laquo;по умолчанию&raquo; задано отображение символа
красного кружка поверх объекта, раскрашиваемого в серый цвет.
4.1.4. Слои-группы
Слои-группы сами по себе не содержат каких-либо данных, а предназначены для придания списку слоев
карты иерархической структуры и разделения остальных слоев на визуальные группы, задаваемые
пользователем. В связи с этим слой-группу невозможно &laquo;открыть&raquo;, &laquo;сохранить&raquo; и &laquo;закрыть&raquo; - он
существует только в списке слоев карты, где его можно создать, удалить или переместить. Сохранение и
загрузка слоев-групп осуществляется при сохранении и загрузки окна карты, в которой они находятся.
32
Создание слоя-группы
Для создания слоя-группы необходимо в окне управления слоями нажать правую кнопку мыши на
строке, отображающей карту или слой карты, после чего в выпадающем меню выбрать пункт &laquo;Новая
группа&raquo;:
После чего ввести имя создаваемой группы. Новый слой-группа будет создан сразу после (т.е. визуально
ниже) слоя или карты, на котором была нажата правая кнопка мыши. Т.е. в приведенном выше примере
новый слой-группа будет создан после тематического слоя &laquo;Stroen&raquo;. Когда слой-группа появится в
списке слоев карты, с помощью мыши в него можно будет перетащить другие слои.
Удаление слоя-группы
Для удаления слоя-группы необходимо выделить его в окне управления слоями, нажать правую кнопку
мыши и выбрать пункт &laquo;Удалить выделенные слои&raquo;. Следует иметь в виду, что слой-группа выделяется
вместе со всеми слоями, входящими в него. Поэтому, для удаления только слоя-группы необходимо
предварительно переместить все входящие в него слои в другое место.
4.1.5. Добавление слоя в карту
Для добавления слоя (слоев) в карту необходимо выбрать пункт &laquo;Добавить слой&raquo; выпадающего меню,
после чего выбрать слой (слои) из списка открытых слоев ГИС, которые необходимо добавить (по
умолчанию – горячая клавиша &laquo;Ctrl-Q&raquo;). Следует иметь в виду, что слой, который необходимо добавить
в карту должен быть предварительно открыт.
Альтернативным способом добавления слоя в карту является перенос (или копирование) его из другой
карты в окне управления слоями.
4.1.6. Целевой слой
Один из векторных слоев карты может быть выбран в качестве целевого слоя (если только он не
является слоем &laquo;только для чтения&raquo;). Целевой слой – это слой, в который попадают создаваемые или
вставляемые из буфера обмена векторные объекты. Также, геометрические операции с объектами
могут помещать свой результат в целевой слой карты.
Выбор целевого слоя осуществляется нажатием на иконку &laquo;Целевой слой&raquo; напротив требуемого слоя в
окне управления слоями ГИС. Повторное нажатие на данную иконку отключает выбор слоя в качестве
целевого.
У любой карты целевым в один момент времени может быть выбран только один слой. Также
возможно отсутствие целевого слоя (в этом случае функции, требующие его наличия, будут
заблокированы).
33
4.2. Управление просмотром
Управление просмотром включает в себя перемещение карты, изменение масштаба и отображения
слоя полностью.
4.2.1. Перемещение карты
Существует несколько способов перемещения карты:
–
Специальный режим &laquo;Перемещение карты&raquo;.
–
Перемещение карты в любом режиме.
–
Автоматическое перемещение карты.
Специальный режим перемещения позволяет перемещаться по карте, нажимая левую кнопку мыши и
перетаскивая карту, пока левая кнопка мыши нажата. Для перехода в этот режим необходимо в
контекстном меню выбрать пункт &laquo;Режим&raquo;, &laquo;Перемещение карты&raquo; (по умолчанию – горячая клавиша
&laquo;1&raquo;) или выбрать инструмент &laquo;Перемещение карты&raquo; на панели управления картой.
Перемещение карты в любом режиме достигается нажатием средней кнопки мыши (колеса) и
перетаскивания карты пока средняя кнопка мыши остается нажатой. Поскольку данный способ работает
абсолютно всегда (включая этапы создания и редактирования объектов), он является наиболее
удобным и рекомендуемым к использованию.
Автоматическое перемещение карты происходит автоматически в некоторых режимах работы (таких,
как создание объекта, или выделение с помощью прямоугольника) при подведении курсора мыши к
одному из краев карты. При этом, чем ближе курсор мыши находится к краю карты, тем больше будет
скорость автоматического перемещения. Если режим автоматического перемещения доставляет
неудобства, его можно отключить, выбрав пункт &laquo;Параметры&raquo;, &laquo;Автоматическая прокрутка&raquo; (по
умолчанию – горячая клавиша &laquo;А&raquo;). Последующее включение его осуществляется точно таким же
способом.
4.2.2. Изменение масштаба отображения
ГИС &laquo;Терра&raquo; позволяет как изменять текущий масштаб отображения карты в обе стороны, так и
задавать точный требуемый масштаб отображения.
Для изменения текущего масштаба, необходимо повернуть колесо прокрутки мыши. Поворот колеса
вверх вызывает приближение к объектам карты, поворот вниз – удаление от объектов.
Для задания точного масштаба отображения, необходимо нажать левой кнопкой мыши на поле
масштаба в строке состоянии программы:
После этого можно выбрать один из стандартных масштабов, либо задать свой требуемый масштаб
отображения.
34
4.2.3. Отображение слоя полностью
Для быстрой настройки позиции и масштаба отображения карты таким образом, чтобы выбранный слой
(или слои) помещались целиком в окно карты, предусмотрена отдельная функция – отображение слоя
полностью. Вызов этой функции осуществляется выбором пункта &laquo;Показать слой полностью&raquo; из
выпадающего меню карты (по умолчанию – горячая клавиша &laquo;Ctrl-E&raquo;), либо выполнением двойного
щелчка средней кнопкой мыши в окне карты.
Если на карте отображен только один слой, после вызова этой функции позиция отображения и
масштаб сразу же изменятся так, чтобы слой карты попадал целиком в окно. Если же на карте имеется
несколько слоев, то пользователю будет предложен диалог выбора, какой (какие) именно слой он хочет
вписать целиком в окно карты.
4.3. Выделение объектов
Выделение объектов на карте можно осуществлять в режиме управления объектами; также существует
специальный режим &laquo;Выделение объектов&raquo;.
Выделенные объекты визуально отображаются на карте дополнительной штриховкой, а также
обрамляются прямоугольником и несколькими элементами управления. Пример выделенных объектов:
4.3.1. Сброс выделения
Сброс всего текущего выделения осуществляется выбором пункта &laquo;Выделенные объекты&raquo;, &laquo;Очистить
выделение&raquo; (по умолчанию – горячая клавиша &laquo;Ctrl-W&raquo;).
4.3.1. Одиночное выделение объекта
Для одиночного выделения объекта, необходимо навести на него курсор мыши, после чего нажать
левую кнопку. При этом все имеющееся выделение будет сброшено, а выделенным станет только
объект, находящийся под курсором мыши.
Для выделения полигонального объекта, перед нажатием курсор мыши необходимо поместить внутрь
полигона (если полигон имеет дырки, нажатие внутри дырки не приводит к выделению объекта). Для
выделения линейного объекта курсор необходимо подвести достаточно близко к линии. Выделение
текстового и символьного объектов осуществляется нажатием в пределы описывающего их
прямоугольника.
Если объект, который необходимо выделить, полностью закрыт сверху другим объектом (что мешает
выделить его вышеописанным способом), необходимо перед нажатием левой кнопки мыши
удерживать нажатой клавишу Ctrl. Последовательное нажатие левой кнопки мыши при удерживании
клавиши Ctrl будет последовательно выделять объекты, попадающие в точку, в которой находится
курсор мыши.
4.3.2. Множественное выделение объектов
Если необходимо добавить к уже выделенным объектам еще один объект, не сбрасывая текущее
выделение, необходимо выполнить действия, описанные в предыдущем пункте, только удерживать при
этом нажатой клавишу Shift.
Для выделения объектов, попадающих в заданную область экрана в режиме управления объектами,
необходимо установить курсор мыши в такую точку на карте, в которой не выделяется ни один объект
35
(т.е. на свободное место между объектами), нажать левую кнопку мыши и, не отпуская ее, переместить
курсор в другую точку карты. Во время перемещения мыши ГИС будет рисовать прямоугольник, а по
отпусканию левой кнопки мыши будут выделены все объекты, полностью попадающие в этот
прямоугольник (с ранее выделенных объектов выделение будет снято). Удерживание в процессе
выделения нажатой клавиши Shift позволяет не снимать предыдущего выделения, а добавить к нему
(или исключить из него) новые объекты.
Также, для множественного выделения объектов может использоваться инструмент &laquo;Выделение
объектов&raquo; (
), находящийся на панели управления картой. Этот инструмент работает в двух режимах
– если выбрать его, нажать левую кнопку мыши на карте и, не отпуская ее, перемещать курсор, ГИС
будет рисовать прямоугольник, а по отпусканию левой кнопки мыши выделит все объекты, полностью
попадающие в этот прямоугольник. Отличие функционала выделения объектов в этом режиме от
режима управления объектами заключается в том, что первоначальное нажатие левой кнопки мыши
можно выполнить в любой точке карты, т.е. даже там, где есть какие-либо объекты.
Во втором режиме, после нажатия левой кнопки мыши на карте, ее необходимо сразу же отпустить, не
перемещая курсора. После чего, нажимая левую кнопку мыши в требуемых местах карты, можно
&laquo;нарисовать&raquo; полигональную область, в которой необходимо выделить объекты. Завершение
выделения в этом режиме осуществляется двойным нажатием левой кнопки мыши в последней точке
требуемой полигональной области.
Пример полигональной области выделения:
4.3.3. Поиск выделенных объектов на карте
Если один или несколько выделенных объектов не попадает в окно карты, можно быстро изменить
позицию и масштаб отображения карты так, чтобы все выделение вписалось в окно. Для этого
необходимо выбрать пункт &laquo;Найти выделенные объекты&raquo; выпадающего меню карты (по умолчанию –
горячая клавиша &laquo;F&raquo;).
4.3.4. Выделение всех объектов карты
Для выделения всех объектов карты необходимо выбрать пункт &laquo;Выделенные объекты&raquo;, &laquo;Выделить все
объекты&raquo; выпадающего меню (по умолчанию – горячая клавиша &laquo;Ctrl-A&raquo;).
Будут выделены все объекты всех слоев, отображаемых на карте и доступных для выделения. Если до
этого были выделены объекты каких-либо других слоев (например, слоев, не отображаемых на данной
карет), выделение с них будет снято.
36
4.4. Редактирование объектов
ГИС &laquo;Терра&raquo; позволяет редактировать (изменять) только выделенные объекты, поэтому для
редактирования требуемые объекты необходимо сначала выделить. Возможные способы выделения
объектов описаны в предыдущей главе руководства.
4.4.1. Перемещение объектов
Для перемещения выделенных объектов необходимо выбрать режим управления объектами ( ),
установить курсор мыши на выделенный объект, после чего нажать левую кнопку мыши и, не отпуская
ее, переместить курсор в новое место. Выделенные объекты будут перемещены вместе с курсором.
При включенном режиме автоматической прокрутки, если во время перемещения объектов подвести
курсор к краю карты, карта будет автоматически перемещаться.
Во время перемещения объектов можно изменять масштаб отображения, поворачивая колесо
прокрутки мыши.
В процессе перемещения можно отменить операцию, нажав клавишу Escape.
Если в процессе перемещения удерживать нажатой клавишу Shift, перемещение будет осуществляться
только в горизонтальном, вертикальном и диагональным направлениях.
4.4.2. Создание копии выделенных объектов
ГИС &laquo;Терра&raquo; позволяет быстро создавать копии выделенных объектов. Для этого необходимо выделить
копируемые объекты, начать их перемещение курсором мыши в соответствии с инструкцией
предыдущего пункта, но в процессе перемещения необходимо нажать клавишу Ctrl (при этом курсор
примет форму ). Удерживая нажатой Ctrl, необходимо подвести курсор в нужное место и отпустить
левую кнопку мыши. В этой точке ГИС создаст копию перемещаемых объектов, а оригинальные объекты
останутся нетронутыми.
4.4.3. Изменение размера объекта
Для изменения размера выделенных объектов необходимо установить курсор мыши на один из
четырех черных квадратиков, расположенных по углам прямоугольника, окружающего выделенные
объекты, нажать левую кнопку мыши и перемещать курсор по экрану до достижения желаемого
размера.
В процессе изменения размера можно отменить операцию, нажав клавишу Escape.
Для пропорционального изменения размера (т.е. изменение ширины и высоты объекта в одинаковых
пропорциях) необходимо в процессе операции удерживать нажатой клавишу Shift.
4.4.4. Поворот объектов
Для поворота выделенных объектов необходимо установить курсор мыши на один из четырех кружков,
расположенных по бокам прямоугольника, окружающего выделенные объекты, нажать левую кнопку
мыши и перемещать курсор по экрану до достижения желаемого угла поворота объектов
В процессе поворота можно отменить операцию, нажав клавишу Escape.
Если в процессе поворота удерживать нажатой клавишу Shift, поворот будет осуществляться на углы,
кратные 22.5&deg; (т.е. 22.5&deg;, 45&deg;, 67.5&deg;, 90&deg; и т.д.).
4.4.5. Удаление объектов
Для удаления выделенных объектов необходимо выбрать пункт &laquo;Выделенные объекты&raquo;, &laquo;Удалить
выделенные объекты&raquo; выпадающего меню карты, либо нажать клавишу Del.
37
4.4.6. Копирование и вставка объектов из буфера обмена
Копирование объектов в буфер обмена
Выделенные объекты можно скопировать в буфер обмена выбрав пункт &laquo;Копировать&raquo; выпадающего
меню карты, пункт &laquo;Правка&raquo;, &laquo;Копировать&raquo; главного меню программы, кнопку &laquo;Копировать&raquo;,
расположенную на панели инструментов, либо нажав одну из комбинаций клавиш &laquo;Ctrl-C&raquo; или &laquo;CtrlInsert&raquo;.
Векторные объекты попадают в буфер обмена в собственном формате ГИС &laquo;Терра&raquo;, поэтому вставить их
в другое приложение на данный момент невозможно.
Вставка объектов из буфера обмена
ГИС &laquo;Терра&raquo; имеет две функции вставки объектов из буфера обмена:
–
Вставка в целевой слой. Все объекты, находящиеся в буфере обмена вставляются в тот слой
карты, который в данный момент выбран как целевой. Если объекты были скопированы из
другого слоя, имеющего другую географическую проекцию и/или другую структуру
атрибутивной информации, ГИС произведет автоматическое перепроецирование, а также
конвертацию атрибутивной информации в соответствии с параметрами целевого слоя. Данный
режим вставки может быть вызван выбором пункта &laquo;Вставить в целевой слой&raquo; выпадающего
меню карты, пункта &laquo;Правка&raquo;, &laquo;Вставить&raquo; главного меню программы, нажатием кнопки
&laquo;Вставить&raquo;, расположенной на панели инструментов, или нажатием одной из комбинаций
клавиш &laquo;Ctrl-V&raquo; или &laquo;Shift-Insert&raquo;. Если в карте не выбран целевой слой, данный режим вставки
будет недоступен.
–
Вставка объектов в соответствии со слоями, откуда они были скопированы. Для объектов
каждого слоя, помещенных в буфер обмена, ГИС попытается найти соответствующий слой в
карте, и в случае нахождения вставит объекты в него. Если соответствующего слоя в карте не
будет, объекты данного слоя не будут вставлены ни в какой слой. Данный режим вставки может
быть вызван путем выбора пункта &laquo;Вставить по слоям&raquo; выпадающего меню карты, либо с
помощью комбинации клавиш &laquo;Ctrl-Alt-V&raquo;.
После выполнения операции все только что вставленные объекты автоматически получают выделение,
предыдущее выделение теряется.
4.4.7. Диалог свойств выделенных объектов
Для отображения диалога свойств выделенных объектов, необходимо выбрать пункт &laquo;Выделенные
объекты&raquo;, &laquo;Свойства&raquo; выпадающего меню карты, либо нажать кнопку &laquo;Enter&raquo; (по умолчанию) на
клавиатуре компьютера.
Диалог предоставляет базовую информацию о выделенных объектах (такую как количество выделенных
объектов, их тип, количество примитивов, контуров и узлов, площадь, протяженность и т.п.), а также
позволяет производитель параметрическое редактирование объектов.
38
Параметрическое редактирование включает в себя смещение объектов по осям Х и Y на заданное
расстояние, масштабирование объектов по осям X и Y и поворот объектов. Для текстовых и точечных
объектов также можно задавать их размер и угол поворота. Дополнительно для текстовых объектов
можно задать единый текст. Это удобно, если текстовые объекты используются для отображения какихлибо символьных условных знаков на карте (например, после импорта данных из программы Mapinfo).
4.5. Редактирование узлов объекта
Для редактирования узлов выделенного объекта необходимо выделить объект и перевести карту в
режим управления узлами объекта. Это можно сделать выбором пункта &laquo;Режим&raquo;, &laquo;Управление узлами
объекта&raquo; выпадающего меню карты (по умолчанию – горячая клавиша &laquo;3&raquo;) или нажав инструмент
&laquo;Управление узлами объекта&raquo; (
) панели управления картой. Также можно сначала перевести карту в
этот режим, а уже потом выделить объект, узлы которого необходимо редактировать.
В режиме управления узлами может быть выделенным только один объект. Если на момент перехода в
данный режим было выделено более одного объекта, выделение сохранится (на случай ошибочного
включения данного режима), но все функции управления узлами объекта будут заблокированы.
В данном режиме ГИС отображает узлы объекта синими квадратиками с белым фоном внутри;
выделенные узлы отображаются закрашенными синими квадратиками. Пример:
4.5.1. Выделение узлов объекта
Выделение узла объекта осуществляется подведением курсора мыши к требуемому узлу и нажатием
левой кнопки. При этом выделенные ранее узлы потеряют выделение (кнопка Shift не нажата) или
сохранят его (кнопка Shift нажата). Таким образом, удерживая клавишу Shift можно одновременно
выделить несколько узлов объекта.
Если выделить один узел объекта, а затем выделить другой, удерживая нажатой кнопку Ctrl, ГИС
автоматически выделит узлы, проходящие по линии, соединяющей два данных узла (если такая линия
существует). При этом ГИС пойдет по более короткой (по количеству узлов) линии из двух возможных.
Для обхода по более длинной линии, необходимо дополнительно удерживать клавишу Alt.
ГИС позволяет выделить все узлы объекта, попадающие в заданный прямоугольник. Для этого
необходимо нажать левую кнопку мыши в точке, где нет ни одного узла объекта, после чего, не
отпуская кнопку, переместить курсор в другую точку экрана (ГИС будет рисовать прямоугольник), затем
отпустить левую кнопку мыши. После этого будут выделены все узлы объекта, попадающие в
нарисованный прямоугольник. Выделенные ранее узлы потеряют выделение (кнопка Shift не нажата)
или сохранят его (кнопка Shift нажата).
Для выделения всех узлов объекта можно воспользоваться пунктом &laquo;Выделенные объекты&raquo;, &laquo;Выделить
все узлы&raquo; выпадающего меню карты, либо нажать комбинацию клавиш &laquo;Ctrl-A&raquo; (по умолчанию).
39
4.5.3. Перемещение выделенных узлов
Для перемещения выделенных узлов объекта необходимо подвести курсор мыши к любому
выделенному узлу, нажать левую кнопку и, не отпуская ее, переместить курсор мыши в требуемую
точку экрана. Выделенные узлы объекта будут перемещены вместе с курсором.
Если в процессе перемещения выделенных узлов удерживать клавишу Shift, перемещение будет
осуществляться только в горизонтальном, вертикальном или диагональных направлениях.
Если в процессе перемещения удерживать нажатой клавишу Control, перемещение будет
осуществляться только в направлении линий, подходящих к выделенным узлам. Таким образом можно
осуществлять &laquo;выноску&raquo; выделенных узлов не меняя направление (угол) подходящих к ним линий.
Перемещение узлов можно отменить, если в процессе перемещения нажать клавишу Escape.
4.5.4. Удаление выделенных узлов
Для удаления выделенных узлов объекта необходимо выбрать пункт &laquo;Выделенные объекты&raquo;, &laquo;Удалить
выделенные узлы&raquo; выпадающего меню карты, либо нажать клавишу Delete.
4.5.5. Добавление нового узла
Для добавления нового узла необходимо курсор мыши подвести к линии, соединяющей два
имеющихся узла объекта, при этом на карте будет отображена красная линия с предполагаемым
положением нового узла. Пример:
Затем необходимо нажать левую кнопку мыши, и новый узел будет добавлен в точку, показанную на
экране.
Если в момент добавления нового узла удерживать нажатой клавишу Shift, новый узел будет добавлен
точно на линию, соединяющую два имеющихся узла объекта.
4.5.6. Задание координат выделенного узла
Для точного задания (или просмотра) координат выделенного узла, необходимо выделить требуемый
узел и выполнить двойной щелчок левой кнопкой мыши на нем. При этом ГИС отобразит следующий
диалог:
40
В этом диалоге можно посмотреть (или изменить) координаты XYZ узла, а также дополнительного
пользовательского параметра Tag.
Следует обратить внимание, что если на момент выполнения двойного щелчка было выделено более
одного узла, отображения данного диалога не произойдет.
4.5.7. Выделение другого объекта в режиме управления узлами
Для выделения другого объекта в режиме управления узлами необходимо подвести к нему курсор
мыши и нажать левую кнопку. Для выделения объекта, который находится под другим объектом, так же
как и в режиме управления объектами, необходимо удерживать нажатой клавишу Control. Удержание
клавиши Control блокирует функцию добавления нового узла, описанного в предыдущем пункте
руководства, позволяя свободно &laquo;добраться&raquo; до нужного объекта на карте.
Внимание, в режиме управления узлами невозможно сбросить выделение ни нажатием левой кнопки
мыши на пустом пространстве между объектами, ни использованием соответствующего пункта
выпадающего меню карты. В этом режиме должен всегда присутствовать один выделенный объект (это
специально заложенное в ГИС условие).
4.6. Создание нового объекта
Объекты, которые создаются пользователем в карте, попадают в целевой слой. Поэтому, для создания
нового объекта, прежде всего, необходимо выбрать целевой слой.
4.6.1. Создание полигона
Для создания нового объекта типа &laquo;Полигон&raquo; необходимо выбрать пункт &laquo;Создать&raquo;, &laquo;Полигон&raquo;
выпадающего меню карты или нажать на инструмент &laquo;Полигон&raquo; (
) на панели управления картой.
Затем необходимо с помощью мыши указать на экране координаты узловых точек объекта, после чего
нажать Escape, правую кнопку мыши, либо выполнить двойной щелчок левой кнопкой мыши на
последней точке объекта для завершения создания полигона. Следует иметь в виду, что полигон не
может иметь менее трех точек. Если на момент завершения создания объекта в полигоне будет только
две точки, новый объект создан не будет. Если для завершения используется двойное нажатие левой
кнопки мыши, оно добавляет в полигональный объект дополнительную точку.
По завершению создания полигона режим создания полигона остается включенным, позволяя создать
следующий полигон.
Если при создании объекта будет включен режим привязки к узлам, узлы создаваемого объекта будет
возможно разместить точно в узлах уже имеющихся. Если будет включен также и режим привязки к
линиям, узлы нового объекта будет возможно разместить строго на линиях существующих объектов (на
них в этом случае также будут созданы &laquo;ответные&raquo; точки).
Удерживание клавиши Shift во время создания объекта позволит проводить линии, расположенные под
углом 45&deg; (или кратным ему) к последней проведенной линии объекта.
Если новый объект создается в режиме привязки к узлам, и последняя точка объекта расположена
точно на узле существующего объекта, удерживанием клавиши Control можно заставить ГИС
автоматически обойти по ребру существующего объекта от последней точки до текущей (если такой
обход вообще возможен). Дополнительное удерживание клавиши Alt позволяет изменить направление
обхода в случаях, когда существует два варианта такого обхода.
Если последняя точка объекта была установлена неверно, ее можно удалить, нажав клавишу Backspace
или четвертую кнопку мыши (если такая имеется). С помощью этой клавиши можно удалить любое
количество точек создаваемого объекта, включая и самую первую.
4.6.2. Создание линейного объекта
Создание линейного объекта полностью аналогично созданию полигонального объекта за исключением
того, что минимально она может содержать две точки (а не три, как полигон).
41
Линейный объект создается выбором пункта &laquo;Создать&raquo;, &laquo;Полилиния&raquo; выпадающего меню карты или
нажатием на инструмент &laquo;Полилиния&raquo; (
) на панели управления картой.
Все функции, доступные при создании полигона (описаны в предыдущем пункте) также доступны и при
создании линии.
4.6.3. Создание текстового объекта
Для создания нового текстового объекта необходимо выбрать пункт &laquo;Создать&raquo;, &laquo;Текстовый объект&raquo;
выпадающего меню карты или нажать на инструмент &laquo;Текстовый объект&raquo; (
картой.
) на панели управления
Затем необходимо подвести курсор мыши к точке на карте, где необходимо создать текстовый объект и
нажать левую кнопку мыши.
Если включен режим выбора размера текста или угла поворота текста мышкой (пункт &laquo;Параметры&raquo;,
&laquo;Выбирать размер текста мышкой&raquo; и &laquo;Параметры&raquo;, &laquo;Выбирать угол поворота текста мышкой), не
отпуская левую кнопку мыши необходимо отвести курсор для выбора размера и/или угла поворота
создаваемого текста.
После чего на экране будет отображен диалог свойств текстового объекта:
В этом диалоге можно выбрать оформление текста, размер текстового объекта в метрах (в системе
единиц карты), а также угол поворота текстового объекта.
По завершении создания необходимо нажать кнопку &laquo;ОК&raquo;.
4.6.4. Создание точечного объекта
Для создания точечного объекта необходимо выбрать пункт &laquo;Создать&raquo;, &laquo;Точечный объект&raquo; или нажать
на инструмент &laquo;Точечный объект&raquo; на панели управления картой.
Затем установить курсор мыши на точку, в которой планируется создать точечный объект, нажать левую
кнопку мыши и, не отпуская ее, перевести курсор в другую точку на экране, указав таким образом
размер и угол поворота точечного объекта. Точечный объект будет создан после отпускания левой
кнопки мыши.
42
4.7. Изменение стиля выделенных объектов
Для изменения стиля выделенных объектов необходимо подвести курсор мыши к любому
выделенному объекту и выполнить двойной щелчок левой кнопкой мыши на объекте. На экране будет
отображен диалог изменения стиля объектов:
4.8. Создание и изменение фреймов
Фрейм – это полигональный объект на карте или в отчете, используемый для отображения
содержимого другой карты, отчета или другого окна ГИС. Фрейм может быть любой формы (не только
прямоугольной), состоять из нескольких контуров, а также содержать &laquo;дырки&raquo;. Пример фрейма:
Для создания фрейма необходимо иметь открытым более одного окна ГИС (создать фрейм,
отображающей в карте саму же себя невозможно, т.к. это привело бы к рекурсивному зависанию
программы). Далее необходимо выделить полигональный объект и выбрать пункт &laquo;Выделенные
объекты&raquo;, &laquo;Параметры фрейма&raquo; выпадающего меню карты, либо нажать кнопку &laquo;Параметры фрейма&raquo;
(
) на панели управления картой. На экране будет отображен диалог параметров фрейма:
43
В случае, когда выбран вариант &laquo;Использовать данный объект как фрейм для карты&raquo;, в выпадающем
списке, расположенном чуть ниже, можно выбрать окно ГИС, которое необходимо вставить в карту (в
предпросмотре, расположенном справа, будет показан его внешний вид и содержимое).
ГИС &laquo;Терра&raquo; может использовать как позицию отображения вставляемой карты, так и задаваемые
пользователем координаты для определения точки вставки карты во фрейм. В первом случае, при
перемещении вида карты, изображение фрейма также будет меняться. Это может оказаться удобным в
ряде работ, однако в большинстве случаев задание точных координат отображения фрейма будет
удобнее. В этом случае, для начального задания позиции отображения из вставляемой карты
необходимо нажать кнопку &laquo;Взять из карты&raquo;.
В поле &laquo;В масштабе&raquo; задается масштаб, в котором должно быть вставлено выбранное окно ГИС.
Следует отметить опцию &laquo;Изменить целевой масштаб карты&raquo;, если толщина линий во вставляемом
окне должна быть именно такая, как задано в настройках этого окна (или объектов окна, в случае
карты). Если же данная опция отмечена не будет, результирующая толщина линий будет
отмасштабирована в соответствии с соотношением между указанным тут масштабом и целевым
масштабом вставляемого окна.
Проще понять назначение этой опции поможет следующий пример. Допустим, есть карта, содержащая
объекты в масштабе 1 : 10 000 (целевой масштаб карты установлен также на 1 : 10 000) с толщиной
линий 1 мм. Теперь эта карта с помощью фрейма вставляется в отчет в масштабе 1 : 20 000 (т.е.
пользователь хочет распечатать уменьшенную версию карты). Если опция &laquo;Изменить целевой масштаб
карты&raquo; будет отмечена, объекты будут распечатаны с толщиной линии 1 мм, как и задано в стиле их
оформления. Тем не менее, поскольку в свойствах фрейма указан масштаб 1 : 20 000, объекты будут
распечатаны в уменьшенном виде (а толщина линий останется неизменной).
Если же опция изменения целевого масштаба не будет отмечена, объекты распечатаются с толщиной
линии 0.5 мм, что будет соответствовать полному их масштабированию в 2 раза относительно
оригинала.
Для быстрого масштабирования карты по размерам фрейма необходимо нажать кнопку &laquo;Подобрать
масштаб по размеру карты&raquo;.
Поле &laquo;Угол поворота&raquo; позволяет задать угол поворота вставляемого окна в градусах.
4.8.1. Корректировка позиции отображения карты внутри фрейма
Для быстрой корректировки позиции отображения карты внутри фрейма существует инструмент
&laquo;Перемещение вида фрейма&raquo; (кнопка
на панели инструментов управления картой).
После выбора данного инструмента, необходимо найти фрейм, позицию отображения которого
требуется изменить, навести на него курсор мыши, нажать левую кнопку, и, не отпуская ее, переместить
курсор так, чтобы фрейм отображал целевую карту желаемым образом. Следует отметить, что работа
этого инструмента никак не связана с выделенными объектами ГИС – он не использует выделения и не
изменяет его, все операции производятся непосредственно с тем объектом-фреймом, на котором была
нажата левая кнопка мыши.
44
4.9. Геометрические операции с объектами
ГИС &laquo;Терра&raquo; позволяет производить следующие геометрические операции с объектами:
–
Объединение объектов.
–
Удаление части объектов, пересекаемой другими объектами.
–
Удаление внешней части пересечений объектов.
–
Разрезать объекты полилинией.
–
Разрезать объекты полилинию по узлу.
–
Разбить объекты на составляющие части.
–
Преобразовать полигоны в полилинии.
–
Преобразовать полилинии в полигоны.
–
Реверс точек объектов.
–
Создание буфера вокруг объектов.
–
Ортогонализация полигона.
Выполнение геометрических операций с объектами осуществляется выбором соответствующего
подпункта контекстного меню карты &laquo;Операции с объектами&raquo;.
Для выполнения некоторых геометрических операций необходимы целевые объекты.
4.9.1. Целевые объекты
Целевые объекты необходимы для некоторых геометрических операций (такой как, например,
удаление части объектов, пересекаемой другими объектами). Целевые объекты являются
дополнительным видом выделения объектов и отображаются другим цветом на карте.
Существует только две операции, изменяющие набор целевых объектов:
–
Установка текущих выделенных объектов целевыми (пункт &laquo;Выделенные объекты&raquo;, &laquo;Установить
как целевые объекты&raquo; выпадающего меню карты (по умолчанию, горячая клавиша &laquo;Ctrl-T&raquo;)).
–
Сброс целевых объектов (пункт &laquo;Выделенные объекты&raquo;, &laquo;Сбросить целевые объекты&raquo; (по
умолчанию, горячая клавиша &laquo;Ctrl-R&raquo;)).
Никакие другие операции не изменяют состав целевых объектов карты.
4.10. Полигон обрезки
ГИС &laquo;Терра&raquo; позволяет ограничить область, отображаемую картой границами какого-либо полигона,
который устанавливается как полигон обрезки.
Для установки полигона обрезки необходимо выделить полигональный объект на карте, после чего
выбрать пункт &laquo;Выделенные объекты&raquo;, &laquo;Установить как полигон обрезки&raquo; выпадающего меню карты.
После установки полигона обрезки, ГИС запомнит его, и изменения в объекте, который ранее был
установлен как полигон обрезки, не будут приводить к изменению области отображения без
дополнительной переустановки полигона обрезки.
Для возвращения карты в режим отображения всей плоскости, необходимо выбрать пункт
&laquo;Выделенные объекты&raquo;, &laquo;Очистить полигон обрезки&raquo;.
4.11. Дополнительные возможности карты
Карта ГИС &laquo;Терра&raquo; имеет следующие дополнительные возможности.
45
4.11.1. Отображение координатной сетки.
Карта может отображать координатную сетку с динамическим шагом. Для включения отображения
сетки необходимо выбрать пункт &laquo;Отображать сетку&raquo; выпадающего меню карты (по умолчанию –
горячая клавиша &laquo;G&raquo;). Шаг сетки автоматически меняется в зависимости от масштаба отображения,
сетка отображается в метрах, в системе координат карты (для отчета – в миллиметрах).
4.11.2. Привязка к узлам
При редактировании объектов можно включить режим привязки к узлам (пункт &laquo;Привязка&raquo;, &laquo;К узлам
объекта&raquo; выпадающего меню карты или горячая клавиша &laquo;S&raquo; по умолчанию). В этом режиме, когда
курсор мыши находится на небольшом расстоянии от какого-либо узла какого-либо объекта карты, он
будет автоматически установлен точно в этот узел. Это позволяет создавать карты с точно
привязанными друг к другу объектами.
Если в карте включен режим отображения координатной сетки, привязка к узлам так же позволяет
привязаться к узлам координатной сетки.
4.11.3. Привязка к линиям объекта
Дополнительно к режиму привязки к узлам объектов, можно включить режим привязки к линиям
объектов (пункт &laquo;Привязка&raquo;, &laquo;К линиям объекта&raquo; выпадающего меню карты или горячая клавиша &laquo;W&raquo;
по умолчанию). В этом режиме, когда курсор мыши находится на небольшом расстоянии от какой-либо
линии какого-либо объекта карты, он будет автоматически установлен на эту линию. Также, при
создании нового объекта или перемещении узла существующего объекта в этом режиме на линию
другого объекта, на этом объекте будет создана &laquo;ответная точка&raquo; для сохранения структурированности
картографической информации.
Следует отметить, что режим привязки к линиям объекта включается только совместно с режимом
привязки к узлам объекта, его отдельная работа невозможна. Также, если в процессе привязки
существует несколько вариантов, привязка к узлам имеет более высокий приоритет.
4.11.4. Одновременное перемещение узлов нескольких объектов
Данный режим позволяет автоматически перемещать узлы других объектов карты, находящихся в
одной и той же точке с перемещаемым пользователем узлом. Включение данного режима
осуществляется выбором пункта &laquo;Параметры&raquo;, &laquo;Перемещение всех узлов в одной точке&raquo; (горячая
клавиша &laquo;T&raquo; по умолчанию). Данный режим позволяет легко сохранять структурированность карты в
процессе редактирования.
4.11.5. Создание отчета
Создать окно отчета вместе с фреймом карты можно через пункт меню &laquo;Карта&raquo;, &laquo;Создать отчет для
текущей карты&raquo;. Фрейм оптимально вписывается в отчет, сохраняя пропорции карты. Заголовок фрейма
дублирует текст заголовка карты.
Данную опцию удобно использовать для быстрой печати текущей карты.
46
4.12. Параметры карты
Для изменения параметров и настроек текущей карты необходимо выбрать пункт &laquo;Параметры карты&raquo;
выпадающего меню карты. На экране будет отображен диалог настроек карты, состоящий из пяти
страниц:
Выбор желаемой страницы осуществляется в дереве страниц, расположенном слева. Выбранная
страница отображается в правой части диалога.
Следует отметить, что диалог настроек ГИС, вызываемый пунктом меню &laquo;Правка&raquo;, &laquo;Настройки ГИС&raquo;
также содержит страницы настроек карты, которые являются настройками карты по умолчанию и
применяются ко всем далее созданным картам ГИС, не затрагивая уже существующие на данный
момент карты. Если же диалог настроек карты вызывается непосредственно из карты, он отображает
настройки только этой карты и никак не влияет на другие открытые (или созданные в будущем) карты.
4.12.1. Страница &laquo;Отображение&raquo;
На данной странице собраны визуальные настройки отображения карты.
&laquo;Разрешение экрана&raquo; позволяет указать физическое разрешение вашего монитора в точках на дюйм
(DPI). Это число влияет на масштабирование карты; задание правильного значения позволяет видеть на
экране объекты правильного размера. Значение по умолчанию – 96 DPI.
&laquo;Правило обновления вложенных фреймов&raquo; - позволяет задать, в каких случаях при изменении текущей
карты ГИС должна перерисовывать другие карты и отчеты, в которых есть фреймы, ссылающиеся на
текущую карту. Вариант &laquo;Всегда (медленно)&raquo; заставляет ГИС перерисовывать ссылающиеся карты тут
же, при любом изменении в текущей карте. Это выглядит красиво на экране, но значительно замедляет
быстродействие ГИС при работе с комплексными картами и отчетами. Вариант &laquo;Только когда карта
активна&raquo; запоминает список карт, которые необходимо перерисовать, но перерисовывает их только в
момент, когда карта из списка активируется. Это выглядит менее красиво, однако позволяет сохранить
быстродействие ГИС на высоком уровне при работе с комплексными картами и отчетами. Вариант
&laquo;Никогда&raquo; вообще отключает рисование фреймов.
&laquo;Расширение области прорисовки&raquo; позволяет заставить ГИС прорисовывать объекты, расположенные
вне видимой области карты. Это может пригодиться при использовании особенных стилей оформления,
когда стиль оформления визуально сильно расширяет границы объекта (физически оформление не
может изменить размеров объекта) и ГИС перестает прорисовывать такой объект при выходе его за
границу видимой области. Значение задается в миллиметрах оформления объекта (т.е. в тех же
единицах, в которых задается толщина линий), по умолчанию выбрано значение 3мм. Следует иметь в
виду, что большие значения позволяют добиться правильного отображения карты в особых случаях, но
снижают быстродействие ГИС.
47
&laquo;Расширение области прорисовки при печати&raquo; - то же, но уже при печати карты. По умолчанию выбрано
значение в 30мм во избежание возможных ошибок печати карты.
&laquo;Минимальное расстояние между точками объекта&raquo; - задает минимальное расстояние между
прорисовываемыми точками объекта. Если в процессе пересчета объекта из системы координат слоя в
систему координат экрана для прорисовки, расстояние между соседними точками оказывается менее
данного значения, одна из точек пропускается. Задание большого числа (более 1) приводит к сильным
визуальным искажениям объекта, задание малого числа снижает быстродействие ГИС. Ввод в это поле
значения 0 полностью отключает функцию пропуска близкорасположенных точек, в этом случае ГИС
воспроизводит объекты максимально точно, но работает наиболее медленно. Значение по умолчанию:
1 пиксель.
&laquo;Минимальный размер отрисовываемого объекта&raquo; задает минимальный размер объекта в пикселях,
который будет рисовать ГИС на экране. Если после пересчета объекта в систему координат экрана его
ширина и высота оказываются меньше данного значения, объект не отображается вообще. Ввод в это
поле значения 0 полностью отключает данных механизм. Значение по умолчанию: 1 пиксель.
&laquo;Минимальная высота отрисовываемого текста&raquo; задает минимальную высоту текста в пикселях,
который будет рисовать ГИС на экране. Если после пересчета текста в систему координат экрана высота
его строки оказывается меньше данного значения, вместо текста выводится прямоугольник,
закрашенный цветом закраски текста. Если же размеры прямоугольника получаются меньше, чем
значение предыдущего параметра, он не отображается вообще. Значение по умолчанию: 4 пикселя.
&laquo;Отображать объекты в порядке возрастания идентификатора&raquo; - если данная настройка включена,
прорисовка каждого слоя карты будет происходить в порядке возрастания идентификаторов объектов.
Это позволит объектам с большими идентификаторами всегда перекрывать объекты с меньшими
идентификаторами в случае физического наложения объектов друг на друга. Если данная настройка
выключена, порядок прорисовки объектов не гарантируется. Включение этой настройки может
замедлить прорисовку комплексной карты в несколько раз! По умолчанию эта настройка выключена
для карт и включена для отчетов (отключить ее в отчете невозможно).
&laquo;Цвет заднего фона&raquo; задает цвет заднего фона карты.
&laquo;Целевой масштаб карты&raquo; задает масштаб, для которого планируется создание карты. Значение этого
параметра влияет на размеры единиц оформления карт (таких как толщина линий). Например, если
целевой масштаб карты будет установлен в 1 : 1000, а толщина линии при оформлении объекта будет
установлена в 1 мм, то при отображении на экране карты в масштабе 1 : 1000 ГИС будет рисовать линию
на экране толщиной 1 мм.
&laquo;Проекция карты&raquo; позволяет выбрать систему координат, в которую будут переводиться координаты
объектов слоя перед отображением на экране. Если проекция карты или проекция отображаемого слоя
отсутствует, либо проекция карты и слоя совпадает, перепроецирования объектов перед отображением
не происходит. Такой режим работы ГИС является наиболее производительным.
&laquo;Менять местами X и Y координаты&raquo; - если данная настройка включена, при отображении где-либо
координат и размеров, ГИС будет считать, что первая координата (Х) направлена на север (т.е.
вертикально вверх).
48
4.12.2. Страница &laquo;Выделение, редактирование&raquo;
&laquo;Минимальный размер отрисовываемого объекта&raquo; задает минимальный размер объекта в системе
координат экрана, для которого будет визуально обозначаться его выделенное состояние. Значение по
умолчанию: 2 пикселя.
&laquo;Расстояние до линии при выделении&raquo; задает максимальное расстояние в пикселях экрана от
линейного объекта до точки, в которой его можно выделить с помощью нажатия мышкой. Значение по
умолчанию: 4 пикселя.
&laquo;Расстояние до точки при выделении точек&raquo; задает максимальное расстояние в пикселях экрана от узла
объекта до точки, в которой его можно выделить с помощью нажатия мышкой в режиме
редактирования узлов объекта. Значение по умолчанию: 7 пикселей.
&laquo;Отступ до элементов управления выделением&raquo; и &laquo;Размер элементов управления выделением&raquo; задают
положение и внешний вид элементов управления выделением:
Значения по умолчанию: 5 и 8 пикселей.
&laquo;Размер символа узла&raquo; и &laquo;Размер выделенного символа узла&raquo; задают размер символа узла в режиме
редактирования узлов. Значения по умолчанию: 6 и 8 пикселей.
&laquo;Задержка перед перемещением объектов мышкой&raquo; задает задержку с момента нажатия левой кнопки
мыши до момента, когда ГИС переходит в режим перемещения объектов. Этот параметр позволяет
избежать случайных перемещений объектов при выделении. Значение по умолчанию: 300
миллисекунд.
49
4.12.3. Страница &laquo;Прокрутка, создание&raquo;
&laquo;Разрешить автоматическую прокрутку карты&raquo; определяет, будет ли ГИС автоматически сдвигать карту
при нахождении курсора вблизи границ окна карты в некоторых режимах.
&laquo;Размер зоны автоматической прокрутки&raquo; определяет расстояние от границ окна карты, на котором
включается режим автоматической прокрутки. Значение по умолчанию: 50 пикселей.
&laquo;Минимальная скорость&raquo; и &laquo;Максимальная скорость&raquo; определяют скорость автоматической прокрутки
при различном положении курсора относительно границ окна карты – при нахождении курсора
непосредственно у границы действует максимальная скорость прокрутки, при нахождении курсора на
расстоянии зоны автоматической прокрутки действует минимальная скорость прокрутки. Значения по
умолчанию: 100 и 1500.
&laquo;Скорость клавиатурной прокрутки&raquo; определяет на сколько пикселей смещается карта при нажатии
одной из клавиш стрелок курсора. Значение по умолчанию: 32 пикселя.
&laquo;Количество сегментов на эллипс&raquo; определяет, из какого количества точек будет состоять создаваемый
эллипс (или окружность). Значение по умолчанию: 128 точек.
&laquo;Разрешать выбирать высоту текста мышкой&raquo; и &laquo;Разрешать выбирать угол текста мышкой&raquo; влияет на
процесс создания новых текстовых объектов; изменение значения этих настроек дополнительно
доступно в контекстном меню карты.
&laquo;Радиус значка узла&raquo; определяет радиус значка узла, прорисовываемого ГИС при создании нового
объекта. Значение по умолчанию: 2 пикселя.
&laquo;Привязка&raquo; и &laquo;Перемещать смежные точки разных объектов одновременно&raquo; дублируют настройки,
доступные в контекстном меню карты, а также в ее строке состояния.
50
4.12.4. Страница &laquo;Сетка&raquo;
&laquo;Отображать сетку&raquo; - включает и выключает отображение сетки в карте/отчете.
&laquo;Нулевая точка сетки&raquo; задает точку в системе координат карты, где будет отображена нулевая точка (0,
0) сетки.
&laquo;Минимальный шаг сетки&raquo; задает минимальный шаг сетки в пикселях. Если в процессе отображения
карты будет получен шаг сетки чаще данного значения, сетка будет отображена в другом масштабе (и с
другим шагом, соответственно).
&laquo;Цвет линий сетки&raquo; и &laquo;Цвет линий сетки (более яркий)&raquo; задает цвет линий, которыми рисуется сетка.
&laquo;Шрифт подписей сетки&raquo; и &laquo;Размер шрифта&raquo; определяют начертание и размеры координат узлов сетки.
4.12.5. Страница &laquo;Отчет&raquo;.
&laquo;Размер листа отчета&raquo; задает размер листа отчета в миллиметрах.
Элементы управления цветом позволяют выбрать цвета различных частей отчета.
&laquo;Размер шрифта в %&raquo; определяет размер шрифта, которым выводится номер страницы в % от размера
листа. Значение по умолчанию: 20%.
51
5. Работа с атрибутивным списком
Список предназначен для просмотра атрибутивной информации объектов векторного слоя в виде
таблицы.
Для открытия списка необходимо выбрать пункт &laquo;Окно&raquo;, &laquo;Новый список&raquo; главного меню программы.
5.1. Внешний вид
Внешний вид списка представлен на рисунке ниже.
В столбцах таблицы располагаются поля атрибутивных данных слоя (или построенные с их
использованием выражения), в строках – значения этих атрибутов для конкретного объекта.
Если объекту не сопоставлено какое-либо атрибутивное поле, то на его место отображается &laquo;NULL&raquo;.
Пользователь может по своему усмотрению настроить внешний вид атрибутивного списка, в частности:
–
Изменять масштаб отображения списка (осуществляется вращением колеса мыши при
удержании нажатой клавиши Ctrl).
–
Изменять ширину колонок (необходимо навести курсор мыши на границу колонок в заголовке,
после чего нажать левую кнопку и, удерживая ее нажатой, переместить курсор в новое место).
–
Изменять порядок следования колонок (для этого необходимо навести курсор мыши на
заголовок колонки, нажать левую кнопку мыши и, удерживая ее, переместить курсор в новое
место).
–
Включать (отключать) сортировку по одному из столбцов.
–
Изменять выравнивание колонки.
Браузер имеет два разных контекстных меню. Первое отображается при нажатии правой кнопки мыши
на строке заголовка колонок, второе – на поле отображения записей.
5.2 Выделение записей
Установка или снятие выделения производится левой кнопкой мыши в крайней левой колонке списка.
Для выделения нескольких записей следует удерживать клавишу Shift при выделении диапазона, или
Ctrl для индивидуального выделения. Напротив выделенной записи устанавливается зеленая галочка, и
52
сама запись другим цветом. Выделение записей распространяется на всю ГИС и влияет на выделение в
картах и других списках.
5.3 Редактирование атрибутивных данных
Редактировать атрибутивные данные можно непосредственно в браузере, если слой не является слоем
&laquo;только для чтения&raquo;. Нельзя редактировать результаты выражений, а также служебную информацию
такую как тип объекта или его ID. Например, колонка &laquo;_obj&raquo; на приведенном выше рисунке является
текстовой интерпретацией графического примитива, поэтому редактировать эту колонку невозможно.
Для редактирования записи надо навести указатель мыши на эту запись. Если возможно
редактирование непосредственно в списке, то курсор изменит внешний вид на каретку, а если
редактирование можно осуществить в специальном компоненте, то справа от поля появится кнопка
вызова этого компонента. Для текстового поля и поля даты одновременно доступны оба метода
редактирования информации.
Редактирование атрибутивной информации не меняет порядок следования записей в отсортированной
колонке. Для сохранения упорядоченности следует отменить сортировку, а потом отсортировать
заново.
5.4 Создание новых записей
Создание новых записей возможно только в базовых слоях, которые не являются слоями &laquo;только для
чтения&raquo;. Новая запись помещается в конец списка.
Для создания новой записи следует выбрать пункт &laquo;Новая запись&raquo; из выпадающего меню списка, либо
нажать &laquo;Ctrl-Enter&raquo;.
Важно: новая запись создается без графического объекта, то есть в окне карты эта запись представлена
не будет.
5.5 Удаление выбранных записей
Для удаления выделенных записей необходимо нажать клавишу Del.
При удалении из базового слоя, запись (объект и атрибутивная информация) удаляется физически.
Если запросный слой создан на основе одного базового слоя, он также поддерживает удаление
записей. При этом запись физически удаляется из базового слоя, что приводит к автоматическому
исчезновению ее из запросных слоев, использующих этот базовый слой.
Невозможно удаление записи из запросного слоя, созданного на основе нескольких базовых.
5.6 Исключение выбранных записей
Если список отображает содержимое запросного слоя, то некоторые записи можно исключить, не
затронув содержимое базовых слоев. Для исключения выбранных записей следует нажать клавишу
Backspace.
5.7 Перезапуск запроса
В процессе работы с ГИС может случиться ситуация, что базовые слои, на которых основан
просматриваемый запрос, были изменены. При этом изменения могли коснуться данных, которые
определяли попадание объекта в запросный слой. В этом случае ГИС &laquo;Terra&raquo; автоматически не добавит
новых объектов в запрос (а также не исключит из запроса те записи, которые уже не соответствуют
критерию отбора). Для устранения этого несоответствия пользователю необходимо перезапустить
запрос. Это делается выбором пункта &laquo;Перезапустить запрос&raquo; выпадающего меню списка.
53
5.8 Настройки списка
Для вызова настроек списка, необходимо нажать левую кнопку мыши на иконке &laquo;Параметры&raquo;,
расположенной в левом верхнем углу списка. Альтернативно можно выбрать пункт &laquo;Настройка…&raquo;
выпадающего меню, открытого на заголовке колонок списка.
Настройки списка представлены двумя страницами.
5.8.1 Страница настройки оформления списка
5.8.2 Страница настройки колонок списка
В этом окне можно настроить параметры, влияющие на отображение атрибутивных данных объектов.
Каждое поле атрибутивных данных имеет следующие параметры:
Параметр
Имя
Выражение
Ширина
Описание
Заголовок колонки, который отображается в списке
Выражение, на основании которого вычисляется значение для
каждой записи
Ширина колонки в миллиметрах
Левый и правый отступы
Отступы от границ колонки при выводе текста
Разделять группы разрядов
Применим для числовых типов. Если параметр выбран, число
9786371.2567 будет представлено строкой &laquo;9 786 371.2567&raquo;
Включить округление
Применим для числовых типов. Округляет число до установленного
54
ниже числа знаков после запятой.
Формат представления даты
Применим для типа дата/время. Текстовая строка, задает формат
даты и времени.
Формат строки описан в разделе Б.6. Строковые функции для
функции FormatTime
Для редактирования выражения необходимо сделать двойной щелчок на выделенной колонке.
Кнопка &laquo;Добавить&raquo; вызывает диалог редактирования выражения. После этого в список будет добавлена
новая колонка, основанная на введенном выражении.
55
6. Работа с отчетом
Отчет предназначен для окончательного оформления, печати и экспорта картографической продукции в
растровые форматы. Только в окне отчета можно увидеть расположение карт и элементов оформления
относительно страниц, выводимых на принтер. Разбиение отчета на страницы осуществляется в
зависимости от настроек принтера, которые можно изменить, выбрав пункт &laquo;Печать/настройки
принтера&raquo;.
По функциональности окно отчета представляет собой окно карты с одним слоем. Механизмы
навигации и работы с объектами в отчете полностью аналогичны механизмам работы с картой.
Дополнительно в окне отчета есть возможность управлять порядком вывода объектов. Для этого
необходимо выделить нужный объект и выбрать пункты &laquo;Переместить наверх&raquo; или &laquo;Переместить вниз&raquo;
подменю &laquo;Выделенные объекты&raquo;:
Отчет имеет ограниченное рабочее поле – область, которая попадает на печать. Размеры этого поля
задаются в диалоге &laquo;Параметры отчета&raquo;. Технически, объекты отчета могут располагаться и за
пределами этого поля, однако при печати (или экспорте в растровый формат) такие объекты будут
обрезаны по границе печатного поля или не напечатаны (экспортированы) вовсе.
6.1. Параметры отчета
Диалог выбора параметров отчета вызывается пунктом &laquo;Параметры отчета&raquo; выпадающего меню отчета.
В диалоге задаются размеры рабочего поля (ширина и высота отчета), а также цвета оформления. Из
всех цветов оформления на печать может оказать влияние только цвет заднего фона.
56
6.2. Экспорт отчета
Содержимое отчета можно экспортировать в растр для дальнейшего использования в другом
программном обеспечении в формате JPEG (со сжатием) или в BMP (без сжатия). Для этого необходимо
выбрать пункт &laquo;Экспорт отчета&raquo; выпадающего меню отчета. Максимальные размеры экспортируемого
растра ограничены свободным местом диска-приемника, куда будет производиться экспорт и
значением в 32767 пикселей в высоте и ширине растра. При экспорте в JPEG и работе в 32-х разрядной
операционной системе существует дополнительное ограничение на размер экспортируемого растра,
связанное с необходимостью временного помещения несжатых данных в оперативную память
компьютера. При работе в 64-х разрядной операционной системе и наличия достаточного объема
свободной системной памяти такое ограничение отсутствует, т.к. в такой системе приложение в
состоянии поместить несжатый растр в оперативную память целиком.
Экспорт в формат BMP осуществляется блоками, поэтому даже на персональном компьютере с
невыдающимися характеристиками производительности ГИС в состоянии создавать BMP файлы
внушительного объема (до 3-х гигабайт), открытие которых другим программным обеспечением может
оказаться затруднительным.
Экспорт в формат JPEG осуществляется с помощью бесплатной библиотеки libjpeg-turbo.
Диалог экспорта отчета выглядит следующим образом:
6.3. Печать отчета
Перед печатью отчета необходимо настроить принтер и формат страницы, выбрав пункт
&laquo;Печать/настройки принтера&raquo;. На экране будет отображен стандартный диалог печати Windows:
После изменения настроек принтера или формата бумаги, если нужно посмотреть, как будет выглядеть
отчет на листе бумаги, необходимо нажать кнопку &laquo;Применить&raquo;, а затем кнопку &laquo;Отмена&raquo;, что приведет
к закрытию диалога печати и применению измененных настроек.
57
Для осуществления печати необходимо нажать кнопку &laquo;Печать&raquo; в диалоге. Для осуществления
принципа WYSIWYG, независимости от драйвера принтера и полной идентичности одной и той же
карты, распечатанной на разных принтерах, ГИС &laquo;Терра&raquo; производит печать в растровом формате.
58
7. История изменения и восстановление объектов
ГИС &laquo;Терра&raquo; по умолчанию сохраняет всю историю изменения векторных слоев, позволяя в любой
момент просмотреть, кто и когда вносил изменения (или удалял) объекты. Также ГИС позволяет
возвращаться к одной из предыдущих версий объекта и восстанавливать удаленные объекты.
Механизм сохранения истории реализован следующим образом – когда пользователь выполняет
сохранение изменений, ГИС не перезаписывает предыдущие сохраненные объекты, а всегда создает
новые записи. Таким образом, размер файлов векторных слоев в процессе работы с ГИС только
увеличивается, но сохраняется вся история изменений.
7.1. Диалог истории изменения объектов
Для открытия диалога истории изменения объектов необходимо иметь в ГИС хотя бы один открытый
векторный слой, после чего выбрать пункт меню &laquo;Правка&raquo;, &laquo;Предыдущие/удаленные объекты&raquo;. Если в
ГИС открыто более одного векторного слоя, пользователю будет предложено выбрать тот, с которым
будет продолжена работа. Диалог истории изменения объектов выглядит следующим образом:
Слева расположены параметры поиска, снизу – результаты поиска, а справа – область предварительного
просмотра результатов.
Алгоритм работы с диалогом такой – вначале выбираются параметры (условия), определяющие какие
записи слоя интересуют пользователя, затем нажимается кнопка &laquo;Поиск&raquo; и ГИС осуществляет поиск по
всему файлу векторного слоя, после чего отображает список найденных записей в окне &laquo;Результаты
поиска&raquo;. Пользователь может просмотреть результаты, выделяя элементы в списке. ГИС будет
отображать картографическую информацию выделенных записей в окне &laquo;Предварительный просмотр&raquo;,
а атрибутивную информацию – в колонке &laquo;Атрибутика&raquo; результатов поиска. Когда интересующие
предыдущие версии объектов будут найдены, необходимо выделить их в списке результатов и нажать
кнопку &laquo;Восстановить&raquo;. После этого ГИС &laquo;Терра&raquo; восстановит выбранные версии объектов и закроет
диалог истории изменения.
7.1.1. Параметры поиска
ГИС поддерживает следующую фильтрацию поиска записей по векторным объектам:
–
Все объекты. В этом случае в результаты поиска попадут все записи изменения объектов,
которые соответствуют другим критериям поиска.
59
–
Выделенные объекты слоя. Если на момент открытия диалога истории изменения объектов в
выбранном слое есть выделенные объекты, ГИС может найти записи, относящиеся только к этим
объектам. Если в выбранном слое нет выделенных объектов, этот вариант будет недоступен.
–
Все удаленные объекты. При выборе этого варианта, ГИС найдет только записи удаления
объектов. Это удобно, если необходимо восстановить ошибочно удаленный объект.
–
Объекты с заданными идентификаторами. Если пользователю известен идентификатор объекта,
записи об изменении которого необходимо посмотреть, можно выбрать этот вариант. ГИС
позволяет задать несколько идентификаторов, для этого их необходимо перечислить через
запятую. Можно задавать идентификаторы как в десятичной системе счисления (просто число,
например, 744), так и в шестнадцатеричной (число с префиксом 0x, например, 0x1F2).
ГИС позволяет фильтровать записи по идентификатору пользователя, который произвел изменения.
Доступные варианты:
–
Любой пользователь. Отключает фильтрацию.
–
Текущий пользователь: показывает только записи, которые произвел текущий пользователь ГИС.
–
Пользователь с заданным идентификатором. Для автоматического поиска всех присутствующих
в слое идентификаторов пользователей необходимо нажать кнопку &laquo;Заполнить&raquo;.
Для фильтрации по дате произведенных изменений необходимо ввести даты в соответствующие поля.
Выбор опции &laquo;Дата до&raquo; позволяет задать конечную интересующую дату изменений (все записи,
сделанные после этой даты отображаться не будут). Опция &laquo;Дата после&raquo; позволяет задать начальную
интересующую дату изменений (все записи, сделанные до этой даты отображаться не будут). Если одна
(или обе) даты не имеют значения, необходимо выключить соответствующую опцию.
7.1.2. Результаты поиска
После выбора параметров поиска необходимо нажать кнопку &laquo;Поиск&raquo; и дождаться его завершения
(продолжительность поиска зависит от размеров векторного слоя и быстродействия компьютера и
может занимать несколько минут). ГИС отобразит найденные записи в окне &laquo;Результаты поиска&raquo;:
Колонка &laquo;_uid объекта&raquo; содержит уникальный идентификатор объекта в пределах векторного слоя;
&laquo;Тип&raquo; показывает тип найденной записи (геометрия или атрибутика); &laquo;Пользователь&raquo; содержит
идентификатор пользователя, который произвел данное изменение; &laquo;Дата&raquo; - дату изменения; &laquo;Удален&raquo;
- &laquo;Да&raquo;, если данная запись соответствует удалению объекта; &laquo;Пред.&raquo; означает наличие предыдущей
версии данного объекта и колонка &laquo;Атрибутика&raquo; отображает атрибутивную информацию выделенной
записи. Следует обратить внимание, что для увеличения быстродействия колонка &laquo;Атрибутика&raquo;
отображается только для выделенных записей; также запись должна иметь тип &laquo;Атрибутика&raquo;.
60
При выделении геометрической записи в списке результатов, соответствующий ей объект будет
отображен в карте предварительного просмотра. Для удобства просмотра в этом окне отображается
сетка, можно задать цвет заднего фона и целевой масштаб отображения (влияет на толщину линий
оформления, штриховку и т.д.). Также можно менять позицию просмотра и масштаб с помощью кнопок
и колеса мыши. Если в списке будет выделено несколько геометрических записей, все соответствующие
им объекты будут отображены в окне предварительного просмотра одновременно.
7.1.3. Восстановление предыдущих версий объектов
Когда требуемые версии объектов будут найдены, необходимо выделить соответствующие записи в
списке результатов и нажать кнопку &laquo;Восстановить&raquo;. ГИС полностью восстановит выбранное состояние
объектов. В случае если результаты восстановления окажутся неудовлетворительными, операцию
восстановления можно отменить, выбрав пункт меню &laquo;Правка&raquo;, &laquo;Отменить&raquo; (или любым другим
стандартным способом).
С помощью диалога истории изменений возможно восстанавливать как по одному объекту, так и
несколько объектов за раз. В случае если в списке результатов выбрать несколько записей, относящихся
к одному объекту, приоритет будет иметь последняя запись.
Следует обратить внимание, что ГИС восстанавливает геометрическую и атрибутивную информацию
объектов отдельно, т.е., например, можно возвратить предыдущую версию геометрии, но оставить
текущую версию атрибутики. Также следует обратить на это внимание при восстановлении удаленных
объектов – для полноценного восстановления объекта необходимо выбирать две записи – одну
геометрическую и одну атрибутивную. Если, например, будет выбрана только геометрическая запись,
объект будет восстановлен без атрибутивной информации вообще (в этом случае его атрибутивную
информацию можно восстановить позднее).
7.2. Удаление истории изменения объектов
В процессе работы с проектом, за счет сохранения всей истории изменения объектов, размер векторных
слоев на жестком диске компьютера постепенно увеличивается. В случае если объем файлов
векторного слоя становится слишком большим, историю изменения объектов необходимо удалить.
Также, удаление истории изменений может потребоваться перед передачей проекта другим
исполнителям или заказчику.
Для того чтобы удалить всю историю изменений объектов, необходимо выполнить команду сохранения
копии векторного слоя с помощью пункта меню &laquo;Файл&raquo;, &laquo;Сохранить копию слоя&raquo;. ГИС сначала
предложит выбрать слой, копию которого необходимо сохранить, затем запросит новое имя для файлов
слоя. Также в процессе сохранения копии слоя существует возможность перевести геометрические
объекты слоя в другую географическую проекцию.
61
8. Многопользовательская работа по сети
ГИС &laquo;Терра&raquo; позволяет нескольким пользователям локальной сети работать с одним и тем же проектом
одновременно. При этом все пользователи имеют возможность не только работать с проектом &laquo;только
на чтение&raquo;, но и производить изменения в проекте одновременно (с небольшими ограничениями).
8.1. Организация многопользовательской работы
Для организации многопользовательской работы необходимо выделить компьютер в локальной сети,
который будет осуществлять функции файлового сервера, поместить файлы рабочего проекта ГИС
&laquo;Терра&raquo; (сам файл проекта, а также все файлы векторных слоев, входящих в проект; файлы растровых
слоев в связи с их большим объемом рекомендуется продолжать хранить на локальных дисках
компьютеров) на этот компьютер и предоставить другим компьютерам локальной сети доступ к файлам
проекта. После этого каждый сотрудник, осуществляющий работу с проектом, просто открывает в ГИС
&laquo;Терра&raquo; файл проекта, находящийся на файловом сервере и начинает работу с проектом. По мере
внесения и сохранения изменений, они будут автоматически отображаться у других сотрудников,
работающих с этим проектом.
Для повышения надежности совместной сетевой работы рекомендуется настроить и осуществлять
периодическое резервное копирование всех файлов проекта любыми дополнительными
приложениями резервного копирования.
8.2. Особенности многопользовательской работы в ГИС &laquo;Терра&raquo;
В процессе многопользовательской работы над проектом, изменения, внесенные одним сотрудником,
становятся видимы всем остальным сотрудникам, как только автор изменений нажмет кнопку
&laquo;Сохранить слой&raquo;. Если один и тот же объект одного и того же слоя будет одновременно изменен
несколькими сотрудниками, финальными окажутся изменения того сотрудника, кто успеет сохранить их
первым. Чаще всего разные сотрудники работают с разными объектами, поэтому это ограничение не
сказывается на совместной работе. В случае же, когда возможно пересечение сотрудников на одних и
тех же объектах (например, совместное редактирование границы административного деления),
необходимо сохранять внесенные изменения как можно чаще и/или договариваться о порядке
редактирования таких объектов отдельно.
62
9. Географическая привязка растров
9.1. Назначение
В ГИС &laquo;Терра&raquo; имеется инструмент для географической привязки растровых изображений. Этот
инструмент задает смещение, масштаб и поворот растра. Если требуется более сложная обработка, то
следует применять другие программные средства.
9.2. Последовательность действий
Опишем последовательность действий, решая задачу приблизительной оценки изменения русла р. Оки.
Исходными данными выступают планшеты масштаба 1:10000 90-х годов выпуска, а оценка будет
проводиться по экранной копии космического снимка 2009 года из программы Google Earth.
1) Подготовка исходной карты, в которой будет проводиться привязка
2) Выбрать меню &laquo;Слой&raquo;, &laquo;Привязка растра&raquo;. Программа предложит выбрать файл привязываемого
растра. После завершения выбора привязываемый растр будет вставлен в карту. Также откроется
управляющее окно &laquo;Привязка растра&raquo;.
Поверх растра во временный слой будет помещен задающий контур, который определяет границы
растра.
63
Элементом &laquo;Непрозрачность&raquo; можно выставить приемлемый коэффициент непрозрачности, при
котором будут хорошо просматриваться ситуация карты и привязываемый растр. Для повышения
комфортности работы ко всем слоям рабочей карты можно применять любые эффекты оформления, а
также изменять порядок слоев.
3) Изменяя контур (перемещая, масштабируя, поворачивая и сдвигая отдельные узлы), добиваемся
приблизительного расположения привязываемого растра.
4) Если текущее расположение растра нас устраивает, нажимаем кнопку &laquo;Завершить&raquo;. Если же привязку
следует выполнить точнее, то применяем инструмент задания векторов. Под вектором здесь
понимается полилиния из двух узлов во временном слое. Первый узел задает исходную точку на
привязываемом растре, второй узел задает конечное положение исходной точки.
64
Во время задания векторов следует убрать задающий контур для исключения случайных сдвигов.
Контролировать процесс привязки можно, устанавливая галку на элементе &laquo;Просмотр привязки&raquo;. После
этого растр примет свою окончательную форму, по которой можно оценить качество проводимой
привязки. Во время просмотра привязки не следует задавать новые вектора, т.к. они не будут
соответствовать действительности.
Нажатие кнопки &laquo;Создать World-File и TAB&raquo; приведет к созданию мирового файла привязки (World-file)
и привязке растрового изображения в формате MapInfo (TAB).
5) Когда закончен процесс привязки, следует нажать кнопку &laquo;Завершить&raquo;. После этого растр примет
окончательную форму и на диске появится соответствующий растру файл xRef. В дальнейшем
сохраняется возможность подкорректировать уже имеющуюся привязку.
После завершения привязки мы можем с уверенностью сказать о размыве рекой участка суши шириной
около восьмидесяти метров.
65
10. Обновление программы
По умолчанию ГИС &laquo;Терра&raquo; один раз в день проверяет наличие новых версий. Для работы этой функции
ГИС должна иметь возможность выхода в интернет.
После обнаружения новой версии пользователю будет предложено провести обновление.
Также имеется возможность &laquo;ручного&raquo; поиска обновлений. Для этого необходимо выбрать пункт меню
&laquo;Справка&raquo;&laquo;Проверить наличие обновлений&raquo;.
Кнопка &laquo;Проверить&raquo; запускает процедуру поиска обновлений. При их наличии пользователю выводится
список доступных версий ГИС &laquo;Терра&raquo;, список изменений, а также информация об обновляемых
модулях.
Внизу диалога пользователю предлагается выбрать версию ГИС для установки. После этого необходимо
нажать кнопку &laquo;Скачать&raquo;.
Важно: все подключаемые модули должны обновится одновременно с ГИС &laquo;Терра&raquo;. В противном
случае в новой версии базовой ГИС устаревшие модули не запустятся. При возникновении подобной
ситуации пользователь будет дополнительно предупрежден.
Настройка параметров автоматического обновления рассмотрена в 11. Настройки ГИС.
66
11. Настройки ГИС
Для открытия диалога настроек ГИС необходимо выбрать пункт меню &laquo;Правка&raquo;, &laquo;Настройки ГИС&raquo;. На
экране будет отображен следующий диалог:
В дереве слева выбирается желаемый раздел (страница) настроек, которая будет отображаться в
правой части диалога.
Разделы &laquo;Карта&raquo; и &laquo;Список&raquo; полностью аналогичны настройкам, вызываемым из карты и списка
соответственно, только в данном случае отображаются настройки &laquo;по умолчанию&raquo;, применяемые ко
всем новым картам и спискам.
Страница &laquo;Общие&raquo; содержит два раздела.
Состав раздела основных настроек представлен двумя параметрами – флаг отображения диалога
загрузки автосохраненных проектов при старте и ГИС и флаг отображения миниатюры окон в панели
задач Windows Vista и старше:
В случае включение флага отображения миниатюр в Windows Vista и старше на панели задач сразу
можно выбрать карту ГИС, в которую будет осуществлен переход.
Раздел &laquo;Обновление программы&raquo; предоставляет доступ к настройкам обновления системы.
Пользователь имеет возможность включать/отключать автоматическое обновление, а также настроить
периодичность проверок наличия новых версий.
67
11.1. Системные настройки
Системные настройки состоят из трех страниц и влияют на работу ГИС в целом.
11.1.1. Страница &laquo;Кэш&raquo;
Задает размеры различных кэш-буферов ГИС. Значение параметров на этой странице не рекомендуется
изменять, если вы точно не уверены в их назначении и ожидаемом результате. Установка неверных
значений может привести к полной неработоспособности ГИС.
11.1.2. Страница &laquo;Горячие клавиши&raquo;
На этой странице можно изменить горячие клавиши для карты, списка и оболочки ГИС. Поле &laquo;Область
действия&raquo; выбирает, какие горячие клавиши вы хотите изменить, список доступных команд отображает
все возможные команды в выбранной области действия, для которых можно задать горячие клавиши.
68
11.1.3. Страница &laquo;Разное&raquo;
&laquo;Каталог для временных файлов&raquo; позволяет выбрать каталог, в который ГИС будет помещать
временные рабочие файлы. ГИС должна иметь права доступа на запись, чтение и удаление в этот
каталог. Выбор неверного каталога приведет к неработоспособности ГИС в целом, поэтому
рекомендуется использовать стандартный каталог Windows, который можно установить нажав кнопку
&laquo;Каталог Windows&raquo;.
&laquo;Интервал обновления векторных слоев&raquo; определяет интервал, с которым ГИС будет проверять наличие
новых объектов в векторных слоях при многопользовательской работе. Значение по умолчанию: 500 мс.
&laquo;Внутренний интервал обновления&raquo; определяет, как часто ГИС будет перерисовывать карты, отчеты,
списки и другие окна при изменении объектов. Значение по умолчанию: 300 мс.
&laquo;Выделять в панели управления слоями слои, в которых есть выделенные объекты&raquo; - если эта настройка
включена, слои, в которых на данный момент находятся выделенные, объекты будут отмечены в панели
управления слоями жирным шрифтом.
&laquo;Открывать слой в режиме &laquo;только чтение&raquo;, если установлен соответствующий атрибут у файла&raquo;
позволяет защитить от внесения изменений слои, у которых установлен атрибут &laquo;Только чтение&raquo;
файловой системы Windows.
11.1.4. Страница &laquo;Подключаемые модули&raquo;
Данная страница позволяет управлять подключаемыми модулями ГИС. В списке доступных
подключаемых модулей перечислены все подключаемые модули, которые зарегистрированы в данной
69
копии ГИС. Для добавления подключаемого модуля необходимо нажать кнопку &laquo;Добавить&raquo; (после чего
выбрать исполняемый файл подключаемого модуля), для удаления подключаемого модуля
необходимо выделить его в списке, после чего нажать кнопку &laquo;Удалить&raquo;.
Наличие подключаемого модуля в списке еще не означает, что этот модуль загружен и работает в
данный момент времени. Факт загрузки модуля указан в колонке &laquo;Загружен&raquo; - для загруженных
модулей там будет установлено значение &laquo;Да&raquo;.
Для загрузки или выгрузки модуля необходимо выбрать его в списке, после чего нажать кнопку
&laquo;Загрузить&raquo; или &laquo;Выгрузить&raquo; соответственно.
В колонке &laquo;Автозагрузка, имя файла&raquo; можно указать, какие из зарегистрированных подключаемых
модулей будут автоматически загружены при старте ГИС.
Внимание, не следует загружать подключаемые модули, которые вы не планируете использовать в
целях экономии ресурсов ГИС и компьютера в целом.
Подключаемые модули для ГИС &laquo;Терра&raquo; производятся и распространяются только ПК &laquo;Гео&raquo; и его
партнерами.
70
Приложения
А. Описание SQL-команд
ГИС &laquo;Terra&raquo; поддерживает 4 основных SQL-команды:
№
1
2
3
4
Команда
SELECT
UPDATE
INSERT
DELETE
Описание
Выборка с формированием запросного слоя
Обновление данных
Вставка новых записей
Удаление записей
SQL-команды и их параметры могут быть написаны как строчными, так и прописными символами (SQLпроцессор к регистру не чувствителен).
А.1. Команда SELECT
Формат команды:
SELECT
&lt;список_колонок&gt; или *
FROM &lt;список_слоев&gt;
[ WHERE &lt;условие_выборки&gt; ]
[ GROUP BY &lt;Колонка_группировки&gt;]
[ ORDER BY &lt;Колонка_сортировки&gt;]
INTO &lt;имя_целевого_запросного_слоя&gt;
А.1.1. Список колонок
Список колонок является обязательным параметром команды SELECT, он задает имена колонок,
которые необходимо выбрать из исходных слоев в результирующий запросный слой. Список колонок
состоит из последовательного перечисления имен колонок через запятую. Специальным вариантом
списка колонок является звездочка &laquo;*&raquo;, которая указывает SQL-процессору на то, что необходимо взять
все колонки исходных слоев.
Используя список колонок возможно:
–
Перечислять требуемые колонки в желаемом порядке.
–
Создавать колонки, основанные на выражении.
–
Использовать функции обобщения данных.
Функции обобщения
Функции обобщения могут применяться только в SQL-запросах. Их использование вне запросов
недопустимо. ГИС поддерживает 5 следующих функций обобщения:
Функция
Count (*)
Max (выражение)
Min (выражение)
Avg (выражение)
Sum (выражение)
Результат
количество записей
максимальное значение
минимальное значение
среднее значение
сумма
Можно использовать функции обобщения совместно с предложением GROUP BY. Это предложение
заставляет SQL-процессор выполнить разбиение исходного слоя на группы (по значению в заданной
колонке), а функции обобщения для каждой группы проведут требуемое вычисление. В случае
использования функций обобщения без GROUP BY, вычисляются значения на весь исходный слой.
71
А.1.2. Ключевое слово FROM
Задает список исходных слоев.
Если задано несколько слоев, то их колонки будут объединены в один результирующий запросный слой
по следующему принципу. При объединении каждая запись первого слоя сопоставляется с каждой
записью второго. Если записи двух слоев удовлетворяют типу и условию объединения, то
результирующая запись включаются в запросный слой. В случае CROSS-объединения Слоя1 с mзаписями и Слоя2 с n-записями запросный слой будет содержать m x n записей.
Синтаксис объединения:
&lt;Слой1&gt; {INNER, LEFT, RIGHT, FULL [OUTHER]} JOIN &lt;Слой2&gt; ON &lt;Условие_объединения&gt;
или упрощенный вариант:
&lt;Слой1 &gt;, &lt;Слой2&gt;, ... для создания простого CROSS-объединения
ГИС поддерживает пять типов объединения слоев:
Тип объединения
INNER JOIN
LEFT JOIN
RIGHT JOIN
FULL [OUTHER] JOIN
CROSS
Описание
В выборку включаются только те записи двух
слоев, для которых одновременно выполнилось
условие объединения.
В выборку включаются записи двух слоев, для
которых одновременно выполнилось условие
объединения, а также не вошедшие в выборку
записи первого слоя.
В выборку включаются записи двух слоев, для
которых одновременно выполнилось условие
объединения, а также не вошедшие в выборку
записи второго слоя.
В выборку включаются записи двух слоев, для
которых одновременно выполнилось условие
объединения, а также не вошедшие в выборку
записи первого и второго слоя.
В выборку уходят все возможные сочетания
записей Слоя1 и записей Слоя2.
А.1.3. Ключевое слово WHERE
Необязательный раздел, задает условие включения записи в выборку.
А.1.4. Ключевое слово INTO
Обязательный раздел для самостоятельных запросов, задает имя будущего запросного слоя. Это имя не
должно совпадать ни с одним именем слоя в ГИС. Должно быть опущено при использовании
подзапросов.
А.1.5. Ключевое слово GROUP BY
Необязательный раздел, задает группировку записей по одному столбцу.
А.1.6. Ключевое слово ORDER BY
Необязательный раздел, задает сортировку по одному столбцу.
А.2. Команда UPDATE
Эта команда меняет информацию в уже имеющихся колонках слоя. Синтаксис:
UPDATE &lt;Слой&gt; SET &lt;Col1&gt; = выражение1, &lt;Col2&gt; = выражение2, …, &lt;ColN&gt; = выражениеN [WHERE
условие]
72
Ключевое слово WHERE задает условие для обновления записей. Если запись слоя удовлетворяет
условию, то обновление происходит. Если раздел WHERE отсутствует, то обновляются все записи слоя.
Пример: снизим у предприятия Издательство максимальный возраст на три года
UPDATE Boss Set MaxAge = maximum(MinAge, MaxAge – 3) WHERE Name = “Издательство”
А.3. Команда INSERT
Команда осуществляет добавление записей в существующий слой. Работает только с базовыми слоями.
Имеет два варианта использования.
А.3.1. Вставка одной записи
INSERT INTO &lt;Слой&gt; (&lt;Колонка1&gt;, &lt;Колонка2&gt;,…,&lt;КолонкаN&gt;)
VALUES (&lt;Значение1&gt;, &lt;Значение2&gt;, …, &lt;ЗначениеN&gt;)
Вставляет новую запись в слой, при этом каждому полю КолонкаX будет присвоено соответствующее
значение ЗначениеX.
А.3.2. Вставка множества записей
INSERT INTO &lt;Слой&gt; (&lt;Колонка1&gt;, &lt;Колонка2&gt;,…,&lt;КолонкаN&gt;)
SELECT &lt;тело_запроса&gt;
Команда SELECT формирует временный запросный слой. Количество колонок этого слоя должно
обязательно совпадать с количеством колонок, перечисленным в команде INSERT. Если это условие
выполняется, то все записи временного слоя вставляются в &lt;Слой&gt;. Значение записи в первом поле
временного слоя перейдет в &lt;Колонка1&gt; целевого слоя, значение записи во втором поле временного
слоя перейдет в &lt;Колонка2&gt; целевого слоя и т.д.
После выполнения запроса временный запросный слой удаляется.
А.4. Команда DELETE
DELETE FROM &lt;Слой&gt; [WHERE &lt;условие&gt;]
Эта команда удаляет записи из слоя. Присутствие необязательного ключевого слова WHERE заставляет
SQL-процессор перед удалением проверять условие. Если запись условию удовлетворяет, то она
удаляется. Использование команды без условия WHERE полностью очистит слой (удалит все записи).
73
Б. Встроенный вычислитель выражений
Встроенный вычислитель выражений позволяет использовать арифметические и строковые выражения
(а также вычисление различных функций над ними) в различных частях ГИС, что значительно расширяет
функциональность.
Б.1. Типы данных, поддерживаемые вычислителем выражений
Вычислитель выражений поддерживает следующие типы данных:
Тип
Число (Number)
Строка (String)
Объект (Object)
Целое (int64)
Дата/Время
Описание
64-х разрядное число с плавающей точкой IEEE 754.
Unicode-строка переменной длины. Логическое ограничение на максимальную
длину строки отсутствует.
Географический объект. Вместе с объектом хранится описание
картографической проекции.
Целое число размером 64 бит.
Целое число размером 64 бит, представляющее дату и время в формате
FILETIME.
Б.2. Бинарные операторы
Бинарными операторами называются те, которые требуют наличие двух аргументов.
Оператор
Описание
Арифметические
+
сложение чисел, конкатенация строк
вычитание
*
умножение чисел
/
деление чисел
Логические
Логические операторы всегда возвращают число:
1 – интерпретируется как ИСТИНА
0 – интерпретируется как ЛОЖЬ
=
равно
&gt;
больше
&gt;=
больше или равно
&lt;
меньше
&lt;=
меньше или равно
and
логическое &laquo;И&raquo;
or
логическое &laquo;ИЛИ&raquo;
Б.3. Операторы ANY и ALL
Эти операторы используются совместно с ранее стоящим логическим оператором для изменения его
функционала.
ANY – логический оператор возвращает 1, если хотя бы один элемент из списка аргументов
удовлетворяет этому оператору, в противном случае 0.
ALL – логический оператор возвращает 1, если все элементы из списка аргументов удовлетворяют этому
оператору.
Примеры:
5
5
=
=
ANY(1, 4, 5, 7, 10)
ANY(1, 4, 6, 6, 7)
– ИСТИНА
– ЛОЖЬ
74
5
5
=
&lt;=
ALL(1, 4, 5, 7, 10)
ALL(10, 6, 5, 8)
– ЛОЖЬ
– ИСТИНА
Б.4. Запрос как список аргументов
В качестве списка аргументов может быть использован результат выполнения другого SQL-запроса.
Результат запроса можно использовать как список аргументов, если запрос будет возвращать только
одну колонку.
Пример. Имеется таблица работников:
Работник
Иванов
Петров
Сидоров
Дроздов
Кукушкин
Слой ListOfWorkers
Образование
среднее
среднее
высшее
высшее
начальное
Язык
английский
итальянский
французский
английский
нет
Для выполнения работы требуется работник с высшим образованием и со знанием французского языка.
Выражение
“высшее” = ANY(SELECT Образование FROM ListOfWorkers WHERE Язык = “французский”)
покажет возможность выполнения работы данным коллективом.
Б.5. Арифметические функции
Название
ln (Число)
lg (Число)
abs (Число)
sin (Число)
cos (Число)
tan (Число)
exp (Число)
sqrt (Число)
asin (Число)
acos (Число)
atan (Число)
round(Число, Число)
Результат
Число
Число
Число
Число
Число
Число
Число
Число
Число
Число
Число
Число
Описание
Натуральный логарифм
Десятичный логарифм
Возвращает абсолютное значение
Синус угла, аргумент в радианах
Косинус угла, аргумент в радианах
Тангенс угла, аргумент в радианах
Экспонента (ex)
Квадратный корень
Арксинус, результат в радианах
Арккосинус, результат в радианах
Арктангенс, результат в радианах
Возвращает округленное число первого
аргумента по шаблону во втором аргументе
round(8.2635, 0.1) = 8.3
round(8.2635, 0.001) = 8.264
Б.6. Строковые функции
Название
StrLen (Строка)
StrLower (Строка)
StrUpper (Строка)
GetEnv (Строка)
GetFileDrive (Строка)
GetFileDir (Строка)
Результат
Число
Строка
Строка
Строка
Строка
Строка
Описание
Длина строки (в символах)
Переводит символы строки в нижний регистр
Переводит символы строки в верхний регистр
Возвращает переменную окружения
Возвращает букву диска
Возвращает путь к файлу
75
GetFileName (Строка)
GetFileExt (Строка)
GetFileDriveDir (Строка)
GetFileNameExt (Строка)
Строка
Строка
Строка
Строка
StrFind (Строка1, Строка2)
Число
StrRFind (Строка1, Строка2)
Число
StrSubStr (Строка, Число1,
[Число2])
Строка
StrReplace (Строка1, Строка2,
Строка3)
Строка
FormatNumber(Число, Число,
[Строка])
Строка
FormatTime (Строка, [Дата])
Строка
Возвращает имя файла
Возвращает расширение файла
Возвращает путь вместе с буквой диска
Возвращает имя файла с расширением
Возвращает позицию найденной подстроки
Строка1 – родительская строка
Строка2 – искомая строка
Если стока не найдена возвращается -1
Тоже, что и StrFind, только поиск идет с конца
родительской строки
Возвращает часть строки, заданной аргументом
1, начиная с позиции, заданной параметром
Число1 и длинной, заданной параметром
Число2.
Если третьего аргумента нет, то возвращается
вся строка, начиная с заданной позиции.
Заменяет в родительской строке одну подстроку
на другую.
Аргумент 1 – родительская строка
Аргумент 2 – искомая подстрока
Аргумент 3 – заменяемая подстрока
Форматирует число.
Аргумент1 – форматируемое число
Аргумент2 – кол-во знаков после запятой, -1
отключает обрезку числа
Аргумент3 – разделитель разрядов
Форматирует заданную дату (если дата не
задана, то используется текущая) в соответствии
с заданной строкой формата.
Аргумент 1 – строка формата
Текстовая строка, в которой управляющие
символы заменяются на определенные
значения.
YYYY – год четырехзначный, н-р &laquo;2015&raquo;
YY – год двухзначный, н-р &laquo;15&raquo;
MM – номер месяца
DD – день
hh – часы, mm – минуты, ss – секунды
ttt – милисекунды
W – день недели полностью, н-р &laquo;среда&raquo;
w – день недели сокращенно, н-р &laquo;ср&raquo;
O – месяц полностью, н-р &laquo;декабрь&raquo;
o – месяц сокращенно, н-р &laquo;дек&raquo;
Аргумент 2 – форматируемая дата
76
Б.7. Объектные функции
Название
GetObjType (Объект)
Результат
Число
GetObjTypeStr(Объект)
Строка
GetObjArea (Объект)
Число
GetObjLen (Объект)
Число
CreateObjBuffer
(Объект, Число1,
Число2)
Объект
Описание
Возвращает число, характеризующее типы графических
примитивов, входящих в состав объекта.
1 – точечный объект
2 – полилиния
4 – полигон
8 – текст
Если объект содержит текст и полилинии, то функция
вернет 8 + 2 = 10
Возвращает строчную интерпретацию типов примитивов.
Возвращает площадь всех примитивов, входящих в
объект.
Результат в кв.м.
Возвращает &laquo;протяженность&raquo; объекта. Для полилиний –
длину, для полигонов – периметр.
Создает буферную зону, построенную вокруг объекта,
заданного первым аргументом, шириной (Число1) и
количеством сегментов (Число2).
Например:
GetObjArea (CreateObjBuffer (_obj, 1, 10))
Возвращает площадь буферной зоны, шириной 1 метр, с
аппроксимацией окружности десятью сегментами.
Б.8. Функции maximum и minimum
Следующие функции работают с произвольным количеством аргументов:
maximum (Число1, Число2, …, ЧислоN) – возвращает максимальное из перечисленных чисел
maximum (Строка1, Строка2, …, СтрокаN) – возвращает строку, которая наиболее ближе стоит к концу
алфавита.
minimum (Число1, Число2, …, ЧислоN) – возвращает минимальное из перечисленных чисел
minimum (Строка1, Строка2, …, СтрокаN) – возвращает строку, которая наиболее ближе стоит к началу
алфавита.
Примеры:
maximum (10, 5, 15, 1) = 15
minimum (“Катя&raquo;, &laquo;Аня&raquo;, &laquo;Маша&raquo;, &laquo;Зоя&raquo;) = &laquo;Аня&raquo;
maximum (SELECT Работник FROM ListOfWorkers) = &laquo;Сидоров&raquo;
</pre>
                    </div>
    </section>
    
<section class="viewer-info">
    <div class="container">
                    <a class="btn download" href="/download/2664796" target="_blank" rel="nofollow">
                Скачать            </a>
        
        <ol class="breadcrumb row">
                                                            <li><a href="/catalog/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8">Технологии</a></li>
                                    <li><a href="/catalog/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8/%D0%92%D0%B5%D0%B1-%D0%B4%D0%B8%D0%B7%D0%B0%D0%B9%D0%BD">Веб-дизайн</a></li>
                                    </ol>
        <h1 class="title">ГИС «Терра»</h1>
        <div class="tags">
            <span class="fa fa-tags fa-flip-horizontal"></span>
                    </div>
    </div>
</section>

<section class="viewer-similar">
    <div class="container">
        <div class="card-columns">
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000870414_1-a15c8d04b776c670fb9364019e77fee0-260x520.png" alt="Руководство пользователя iGASM &ndash; интерпретатора машины">
                        <a class="card-img-overlay" href="/doc/870414/rukovodstvo-pol._zovatelya-igasm-%E2%80%93-interpretatora-mashiny"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/870414/rukovodstvo-pol._zovatelya-igasm-%E2%80%93-interpretatora-mashiny">Руководство пользователя iGASM – интерпретатора машины</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/004538814_1-8bf924ee0da03f0fb217939d4cbdf1bc-260x520.png" alt="Методичка v1 - Информационная система университета">
                        <a class="card-img-overlay" href="/doc/4538814/metodichka-v1---informacionnaya-sistema-universiteta"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/4538814/metodichka-v1---informacionnaya-sistema-universiteta">Методичка v1 - Информационная система университета</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/003676832_1-b86c10e7df6e9150a7d60e9f6f4b590c-260x520.png" alt="8.4. Работа с аналитическими выборками">
                        <a class="card-img-overlay" href="/doc/3676832/8.4.-rabota-s-analiticheskimi-vyborkami"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/3676832/8.4.-rabota-s-analiticheskimi-vyborkami">8.4. Работа с аналитическими выборками</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/004035861_1-e3b041540dc7c6314d594d26e5910aca-260x520.png" alt="Актуальность темы исследования, новизна, практическая">
                        <a class="card-img-overlay" href="/doc/4035861/aktual._nost._-temy-issledovaniya--novizna--prakticheskaya"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/4035861/aktual._nost._-temy-issledovaniya--novizna--prakticheskaya">Актуальность темы исследования, новизна, практическая</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/004306839_1-621bbc7c962093dc1bf0492efdbc3011-260x520.png" alt="инструкцией пользователя для Менеджера организаторов торгов">
                        <a class="card-img-overlay" href="/doc/4306839/instrukciej-pol._zovatelya-dlya-menedzhera-organizatorov-torgov"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/4306839/instrukciej-pol._zovatelya-dlya-menedzhera-organizatorov-torgov">инструкцией пользователя для Менеджера организаторов торгов</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/003833695_1-19f129c9a67816c19b72143ce20b041c-260x520.png" alt="1. Общие сведения о программировании для Windows">
                        <a class="card-img-overlay" href="/doc/3833695/1.-obshhie-svedeniya-o-programmirovanii-dlya-windows"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/3833695/1.-obshhie-svedeniya-o-programmirovanii-dlya-windows">1. Общие сведения о программировании для Windows</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/004291525_1-ad399b6ee0281269ce3b8e83fad65989-260x520.png" alt="ЛПУ 2015 госзадание">
                        <a class="card-img-overlay" href="/doc/4291525/lpu-2015-goszadanie"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/4291525/lpu-2015-goszadanie">ЛПУ 2015 госзадание</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/003702289_1-7078cd48ecceb45e708e6b5cb1d5f9a1-260x520.png" alt="ОТЧЕТ - Управление здравоохранения Липецкой области">
                        <a class="card-img-overlay" href="/doc/3702289/otchet---upravlenie-zdravoohraneniya-lipeckoj-oblasti"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/3702289/otchet---upravlenie-zdravoohraneniya-lipeckoj-oblasti">ОТЧЕТ - Управление здравоохранения Липецкой области</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/005041752_1-368b771a6e969f1ffd29dfced1b75c13-260x520.png" alt="Бухтиярова А.П., МКОУ Верх-Красноярская СОШ Северный район Новосибирская область">
                        <a class="card-img-overlay" href="/doc/5041752/buhtiyarova-a.p.--mkou-verh-krasnoyarskaya-sosh-severnyj-rajo..."></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/5041752/buhtiyarova-a.p.--mkou-verh-krasnoyarskaya-sosh-severnyj-rajo...">Бухтиярова А.П., МКОУ Верх-Красноярская СОШ Северный район Новосибирская область</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/005013758_1-513c06f35d32ff59f84ca6cbf17a3739-260x520.png" alt="Федеральное государственное казённое общеобразовательное учреждение &laquo;Средняя общеобразовательная школа №6&raquo;">
                        <a class="card-img-overlay" href="/doc/5013758/federal._noe-gosudarstvennoe-kazyonnoe-obshheobrazovatel._noe-..."></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/5013758/federal._noe-gosudarstvennoe-kazyonnoe-obshheobrazovatel._noe-...">Федеральное государственное казённое общеобразовательное учреждение «Средняя общеобразовательная школа №6»</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/004727782_1-f0a2333fbde19c85f7331985aba188de-260x520.png" alt="Слайд 1 - UWDC`2010">
                        <a class="card-img-overlay" href="/doc/4727782/slajd-1---uwdc-2010"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/4727782/slajd-1---uwdc-2010">Слайд 1 - UWDC`2010</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000127819_1-8463567645a523a0cd3aa1747c32a49d-260x520.png" alt="Олимпиады школьников по информатике Готовимся к олимпиаде">
                        <a class="card-img-overlay" href="/doc/127819/olimpiady-shkol._nikov-po-informatike-gotovimsya-k-olimpiade"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/127819/olimpiady-shkol._nikov-po-informatike-gotovimsya-k-olimpiade">Олимпиады школьников по информатике Готовимся к олимпиаде</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000749575_1-0dcbef3af3e9f14fbc50924bad0cdf40-260x520.png" alt="prod4205-riefierat2doc">
                        <a class="card-img-overlay" href="/doc/749575/prod4205-riefierat2doc"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/749575/prod4205-riefierat2doc">prod4205-riefierat2doc</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000703002_1-87a5a9b09a15a8bf6c8889e69c971a51-260x520.png" alt="VIII. Электронные таблицы Microsoft Excel">
                        <a class="card-img-overlay" href="/doc/703002/viii.-e-lektronnye-tablicy-microsoft-excel"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/703002/viii.-e-lektronnye-tablicy-microsoft-excel">VIII. Электронные таблицы Microsoft Excel</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000847945_1-c4f57876480340910fbc83662b0d4ccd-260x520.png" alt="БАРС.WEB-БЮДЖЕТНАЯ ОТЧЕТНОСТЬ  ООО &laquo;БАРС Груп&raquo; РУКОВОДСТВО ПОЛЬЗОВАТЕЛЯ">
                        <a class="card-img-overlay" href="/doc/847945/bars.web-byudzhetnaya-otchetnost._--ooo-%C2%ABbars-grup%C2%BB-rukovodstv..."></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/847945/bars.web-byudzhetnaya-otchetnost._--ooo-%C2%ABbars-grup%C2%BB-rukovodstv...">БАРС.WEB-БЮДЖЕТНАЯ ОТЧЕТНОСТЬ  ООО «БАРС Груп» РУКОВОДСТВО ПОЛЬЗОВАТЕЛЯ</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002610113_1-507a7e9d12cc5f58a7502723da59c144-260x520.png" alt="Архитектура вычислительных систем. Конспект лекций">
                        <a class="card-img-overlay" href="/doc/2610113/arhitektura-vychislitel._nyh-sistem.-konspekt-lekcij"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2610113/arhitektura-vychislitel._nyh-sistem.-konspekt-lekcij">Архитектура вычислительных систем. Конспект лекций</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000424263_1-b07e64900ac2fad82e1075e27ec7202b-260x520.png" alt="УДК 537">
                        <a class="card-img-overlay" href="/doc/424263/udk-537"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/424263/udk-537">УДК 537</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002619819_1-2c1480d458fdd8818d73700de73cba91-260x520.png" alt="2012 печ. 145М металоконстр - Цифровой репозиторий ХНУГХ">
                        <a class="card-img-overlay" href="/doc/2619819/2012-pech.-145m-metalokonstr---cifrovoj-repozitorij-hnugh"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2619819/2012-pech.-145m-metalokonstr---cifrovoj-repozitorij-hnugh">2012 печ. 145М металоконстр - Цифровой репозиторий ХНУГХ</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002470786_1-6643fa48f354a694fb047c26b974a88d-260x520.png" alt="ИНСТРУКЦИЯ по работе с web-ресурсом http://perechen.vak2.ed">
                        <a class="card-img-overlay" href="/doc/2470786/instrukciya-po-rabote-s-web-resursom-http---perechen.vak2.ed"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2470786/instrukciya-po-rabote-s-web-resursom-http---perechen.vak2.ed">ИНСТРУКЦИЯ по работе с web-ресурсом http://perechen.vak2.ed</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000401151_1-c1f447cb1913c3e7cbe792f4d5889820-260x520.png" alt="МЕТОДИЧЕСКИЕ УКАЗАНИЯ ПО ПРОВЕДЕНИЮ ПРАКТИЧЕСКИХ ЗАНЯТИЙ В ПРОГРАММЕ MS OFFICE EXCEL">
                        <a class="card-img-overlay" href="/doc/401151/metodicheskie-ukazaniya-po-provedeniyu-prakticheskih-zanyatij-..."></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/401151/metodicheskie-ukazaniya-po-provedeniyu-prakticheskih-zanyatij-...">МЕТОДИЧЕСКИЕ УКАЗАНИЯ ПО ПРОВЕДЕНИЮ ПРАКТИЧЕСКИХ ЗАНЯТИЙ В ПРОГРАММЕ MS OFFICE EXCEL</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002492593_1-ca53d43a97dd7fa4b5f5e09a8a4ad3d4-260x520.png" alt="HansaWorld Enterprise Коммерческие предложения">
                        <a class="card-img-overlay" href="/doc/2492593/hansaworld-enterprise-kommercheskie-predlozheniya"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2492593/hansaworld-enterprise-kommercheskie-predlozheniya">HansaWorld Enterprise Коммерческие предложения</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000165894_1-90ae4d459b303b312d08eac20931302d-260x520.png" alt="Программирование учебник">
                        <a class="card-img-overlay" href="/doc/165894/programmirovanie-uchebnik"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/165894/programmirovanie-uchebnik">Программирование учебник</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			        </div>
    </div>
</section>

	</div>

    <footer class="footer-default">
        <div class="container">
            <div class="row">
                <IDXSKIP><div class="col-xs-4 text-left">
					studydoc                    &copy; 2017
                </div></IDXSKIP>
                <div class="col-xs-4 text-center">
					
                </div>
                <IDXSKIP><div class="col-xs-4 text-right">
                    <!--
					<a class="text-nowrap" href="/about">О проекте</a>
					-->
					<a class="text-nowrap" href="/dmca">DMCA</a>
					<a class="text-nowrap" href="/abuse">Пожаловаться</a>
				</div></IDXSKIP>
            </div>
        </div>
    </footer>
	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter35560525 = new Ya.Metrika({
                    id:35560525
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<IDXSKIP><noscript><div><img src="//mc.yandex.ru/watch/35560525" style="position:absolute; left:-9999px;" alt="" /></div></noscript></IDXSKIP>
<!-- /Yandex.Metrika counter -->

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563210ea4459bc74" async="async"></script>
</body>
</html>

