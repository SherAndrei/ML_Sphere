studydoc.ru/doc/2435381/sbornik-tehnicheskih-instrukcij-garant




<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="x-ua-compatible" content="ie=edge,chrome=1">

			<title>Сборник технических инструкций Гарант</title>

<meta name="description" content="">
<meta name="keywords" content="">
<meta property="og:title" content="Сборник технических инструкций Гарант"/>
<meta property="og:description" content="">
<meta property="og:image" content="//s1.studydoc.ru/store/data/002435381_1-e9185bb58beb3cda77631c2fdc8cd0c3.png">
	
	<script>var gaAuthorId='24',gaCategoryId='49>20>0',gaViewMode='regular';</script>
		        <link rel="canonical" href="http://studydoc.ru/doc/2435381/sbornik-tehnicheskih-instrukcij-garant" />
	
    <link rel="stylesheet" href="/theme/issuu/static/bootstrap.css">
    <link rel="stylesheet" href="/theme/issuu/static/fontawesome.css">
    <link rel="stylesheet" href="/theme/issuu/static/common.css">

            <link rel="shortcut icon" href="/theme/issuu/static/favicon-studydoc.ico">
	
    <script src="/theme/issuu/static/jquery.min.js"></script>
    <script src="/theme/issuu/static/tether.min.js"></script>
    <script src="/theme/issuu/static/bootstrap.js"></script>
    <script>
		var FileAPI =
		{
            debug: true,
			staticPath: '/theme/issuu/static/',
			storeUrl: '//s1.studydoc.ru/store/upload',
            currentUserId: 2,
			afterUploadRedirect: '//studydoc.ru/afterupload.html'
        };
    </script>
    <script src="/theme/issuu/static/fileapi.js"></script>
    <script src="/theme/issuu/static/common.js"></script>

	        <script src="/js/vendor/LAB.min.js"></script>
        <script type="text/javascript">
        	$LAB.setGlobalDefaults({Debug:true});
            $LAB_CHAIN = $LAB.script("/js/public.js").wait();
        </script>
	
    <script type="text/javascript">
        var gaUserId = 2;
        var gaUserType = 'empty';
    </script>
	<meta name='yandex-verification' content='53d796b0dfb12d63' />
<meta name="msvalidate.01" content="EB9216A8674C55E0D7BE2C958E9E9A6B" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-69626134-3', 'auto');
  
  if(typeof gaAuthorId!= "undefined") {
   ga('set', 'dimension1', gaAuthorId);
  }
  if(typeof gaUserId!= "undefined") {
    ga('set', 'dimension2', gaUserId);
    if(gaUserId>0) ga('set', '&uid', gaUserId); 
  }
  if(typeof gaUserType!= "undefined") {
    ga('set', 'dimension3', gaUserType);      
  }
  if(typeof gaCategoryId!= "undefined") {
    ga('set', 'dimension4', gaCategoryId);      
  }
  if(typeof gaFullConfidenceBunchIds!= "undefined") {
    ga('set', 'dimension5', gaFullConfidenceBunchIds);      
  }
  if(typeof gaTotalBunchIds!= "undefined") {
    ga('set', 'dimension6', gaTotalBunchIds);      
  }
  if(typeof gaViewMode!= "undefined") {
    ga('set', 'dimension7', gaViewMode);      
  }
  
  ga('send', 'pageview');
</script>
</head>

<body>
	<nav class="navbar navbar-default ">
        <div class="container">
			<IDXSKIP><a class="navbar-brand" href="/">
                                    <img src="/theme/issuu/static/logo-studydoc.png"
                            alt="studydoc.ru" />
							</a></IDXSKIP>
            <IDXSKIP><button class="navbar-toggler hidden-md-up collapsed" type="button"
				data-toggle="collapse" data-target="#collapsing">&#9776;</button></IDXSKIP>
			<div class="navbar-toggleable-sm collapse" id="collapsing">
				<ul class="navbar-nav nav">
                    <IDXSKIP><li class="nav-item hidden-md-up">
                        <a class="nav-link" href="/search">Поиск...</a>
                    </li></IDXSKIP>
					<IDXSKIP><li class="nav-item active">
						<a class="nav-link" href="/catalog">Каталог</a>
					</li></IDXSKIP>
											<IDXSKIP><li class="nav-item">
							<a class="nav-link" href="/login">войти</a>
						</li></IDXSKIP>
						<IDXSKIP><li class="nav-item">
							<a class="nav-link" href="/registration">Регистрация</a>
						</li></IDXSKIP>
					                                            <IDXSKIP><li class="nav-item upload">
                            <input type="file" />
                            <a href="javascript:;" class="nav-link">Загрузить</a>
                        </li></IDXSKIP>
                    				</ul>
                <IDXSKIP><form class="navbar-form form-inline hidden-md-down" action="/search/">
                    <input class="form-control" type="text" name="q"
					   placeholder='Поиск...' required>
					<button class="btn btn-link">
						<i class="fa fa-search"></i>
					</button>
                </form></IDXSKIP>
			</div>
		</div>
	</nav>

    <div class="wrapper-default  no-fixed ">
        <IDXSKIP><section class="upload-info">
            <div class="container">
                <button type="button" class="close">
                    <span aria-hidden="true">&times;</span>
                </button>

                <progress class="progress" max="100">
                    <div class="progress">
                        <span class="progress-bar"></span>
                    </div>
                </progress>
            </div>
        </section></IDXSKIP>

		






<style>
    

    .above-content,
    .below-content {
        background: #404040 url(/viewer_next/web/images/texture.png);
        padding: 1rem 0;
    }

                .above-content,
        .below-content {
            background: inherit;
        }

        .above-content {
            padding-top: 6rem;
            padding-bottom: 2rem;
        }
        
    .below-content {
        display: none;
    }

    
    @media (min-width: 544px) {
        .below-content {
            display: block;
        }
    }

    .sidebar-top,
    .sidebar-bottom {
        display: none;
    }

    @media (min-width: 768px) {
        .viewer-next {
            width: calc(100% - 170px);
            min-height: 633px;
        }

        .sidebar-bottom {
            display: block;
            float: right;
            width: 160px;
            height: 600px;
        }
    }

    @media (min-width: 1200px) {
        .viewer-next {
            width: calc(100% - 310px);
        }

        .sidebar-bottom {
            width: 300px;
        }
    }
    
    @media (min-width: 1740px) {
        .viewer-next {
            width: 100%;
        }

        .sidebar-bottom {
            position: absolute;
            top: 0;
            left: calc((100vw + 1140px) / 2);
        }
    }

            
    .viewer-next {
        height: calc(100vh - 6.5rem - 90px);
    }

    @media (min-height: 600px) {
        .viewer-next {
            height: calc(100vh - 6.5rem - 90px * 2);
        }
    }
</style>

        


                    <div class="above-content">
            <div class="container"><script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- StudylibRU::above viewer -->
<ins class="adsbygoogle"
     style="display:block"
     data-ad-client="ca-pub-6961070524526180"
     data-ad-slot="8561403356"
     data-ad-format="auto"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script></div>
        </div>
            
    
        <section class="viewer-wrapper-1">
        <div class="container">
                            <pre class="viewer-text" itemprop="text">ВЕРСИЯ 7.10.1
СБОРНИК ТЕХНИЧЕСКИХ ИНСТРУКЦИЙ
ПО ОБСЛУЖИВАНИЮ
СИСТЕМЫ ГАРАНТ
версия 7.10.1
1
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
СОДЕРЖАНИЕ
1. Система ГАРАНТ аэро.
Краткое техническое описание............................................................... 5
Локальная версия...................................................................................... 11
Версии на переносном носителе. Мобильная версия. Рабочая
версия. Мобильный ГАРАНТ онлайн………..…...................................15
Сетевая клиент-серверная версия………………...............…………………..21
Сетевая файл-серверная версия……………………………………………………37
2. Переход на версию ГАРАНТ аэро 7.10.1
аэро
с версии ГАРАНТ
7.9...................................................................... 45
3. Описание Мастера установки данных .............................................. 50
4. Описание Мастера загрузки пакетного пополнения ................... 63
5. Описание Мастера установки пакетного пополнения ................ 78
6. Описание Мастера настройки автоматического
обновления .............................................................................................. 102
7. Описание Панели управления сервером ...................................... 114
8. Рекомендации по выбору оптимального типа носителя
для установки системы ГАРАНТ аэро ........................................... 120
9. Инструкция по обновлению мобильной версии
системы ГАРАНТ аэро . ....................................................................... 128
10. Инструкция по эксплуатации флеш-накопителя ...................... 134
11. Инструкция по установке (обновлению)
системы ГАРАНТ аэро с переносного жесткого диска . ........... 137
12. Инструкция по сбору лог-файлов ................................................... 140
13. Порядок действий специалистов по обслуживанию
системы ГАРАНТ аэро при настройке индивидуальных
новостных лент ПРАЙМ .................................................................... 144
14. Описание утилиты создания рассылки ПРАЙМ . ..................... 148
15. Инструкция по заполнению индивидуальной
анкеты ПРАЙМ ..................................................................................... 153
16. Описание механизмов резервного
копирования /восстановления пользовательских
настроек системы ГАРАНТ аэро ....................................................... 157
17. Вопросы и ответы . ................................................................................ 165
a. Возможные сообщения Мастера загрузки
пакетного пополнения ......................................................................... 166
b. Возможные сообщения Мастера установки
пакетного пополнения ......................................................................... 168
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
2
3
с. Возможные сообщения Мастера установки данных ............ 172
d. Частые вопросы по техническим особенностям
реализации услуги Правовая поддержка онлайн........................ 176
e. Вопросы, часто задаваемые специалистам
cлужбы технической поддержки . ............................................... 188
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОБЗОР ОСНОВНЫХ ИЗМЕНЕНИЙ
УВАЖАЕМЫЕ КОЛЛЕГИ!
ОБРАТИТЕ ВНИМАНИЕ НА СЛЕДУЮЩИЕ ОСНОВНЫЕ
ИЗМЕНЕНИЯ В ДАННОЙ РЕДАКЦИИ СБОРНИКА
ТЕХНИЧЕСКИХ ИНСТРУКЦИЙ ПО СРАВНЕНИЮ С ПРЕДЫДУЩЕЙ:
СТР. 5 – СИСТЕМА ГАРАНТ аэро . КРАТКОЕ ТЕХНИЧЕСКОЕ
ОПИСАНИЕ
СТР. 45 – ПЕРЕХОД НА ВЕРСИЮ ГАРАНТ аэро 7.10.1
С ВЕРСИИ ГАРАНТ аэро 7.9
СТР. 78 – ОПИСАНИЕ МАСТЕРА УСТАНОВКИ ПАКЕТНОГО
ПОПОЛНЕНИЯ
СТР. 127 – ДАННЫЕ ПО ОБЪЕМАМ ДИСТРИБУТИВОВ.
ОБЗОР ОСНОВНЫХ ИЗМЕНЕНИЙ
СТР. 144 – ПОРЯДОК ДЕЙСТВИЙ СПЕЦИАЛИСТОВ
ПО ОБСЛУЖИВАНИЮ СИСТЕМЫ ГАРАНТ аэро
ПРИ НАСТРОЙКЕ ИНДИВИДУАЛЬНЫХ НОВОСТНЫХ ЛЕНТ
ПРАЙМ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
4
СИСТЕМА ГАРАНТ аэро.
КРАТКОЕ ТЕХНИЧЕСКОЕ
ОПИСАНИЕ
ВИДЫ ПОСТАВКИ
ПОДДЕРЖИВАЕМЫЕ ПЛАТФОРМЫ
ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ
БЫСТРОЕ ВВЕДЕНИЕ В ПРОЦЕСС УСТАНОВКИ
И ИСПОЛЬЗОВАНИЯ СИСТЕМЫ
ЛОКАЛЬНАЯ ВЕРСИЯ
ВЕРСИИ НА ПЕРЕНОСНОМ НОСИТЕЛЕ.
МОБИЛЬНАЯ ВЕРСИЯ. РАБОЧАЯ ВЕРСИЯ.
МОБИЛЬНЫЙ ГАРАНТ ОНЛАЙН
СЕТЕВАЯ КЛИЕНТ-СЕРВЕРНАЯ ВЕРСИЯ
СЕТЕВАЯ ФАЙЛ-СЕРВЕРНАЯ ВЕРСИЯ
5
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ВИДЫ ПОСТАВКИ
Система ГАРАНТ аэро поставляется в следующих вариантах:
1) инсталляционная локальная версия;
2) локальная или сетевая рабочая версия (DVD);
3) локальная мобильная версия (USB флеш-накопитель),
Мобильный ГАРАНТ онлайн;
4) инсталляционная сетевая клиент-серверная версия;
5) инсталляционная сетевая файл-серверная версия.
(Подробное описание технических аспектов работы всех перечисленных видов поставки см. ниже.)
ПОДДЕРЖИВАЕМЫЕ ПЛАТФОРМЫ
Локальная версия и клиентская часть сетевой (клиент-серверной
и файл-серверной) версии работают под управлением следующих версий Windows: Windows XP, Windows 2003, Windows Vista,
Windows 2008, Windows 7, Windows 8, Windows 2012, Windows 8.1.
Под операционными системами, отличными от Windows, они не
работают.
См. также Примечание 6.
Серверная часть сетевой клиент-серверной версии работает под
управлением Windows XP и выше (XP, 2003, Vista, 2008, 7, 8, 2012, 8.1).
Сетевую файл-серверную версию можно устанавливать на любые
файловые серверы, в том числе работающие под управлением
следующих операционных систем:
• XP, 2003, Vista, 2008, 7, 8, 2012, 8.1;
• Novell Netware;
• Linux;
• Solaris;
• FreeBSD;
• и др.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
6
Примечание 1
Установка сетевой файл-серверной версии должна запускаться
на компьютере под управлением Windows XP и выше вне зависимости
от операционной системы на сервере. То есть установка на сервер под
управлением Novell или Linux должна запускаться с рабочей станции.
Примечание 2
Для установки и работы сетевой клиент-серверной версии требуется, чтобы на сервере и клиентских компьютерах был установлен
и настроен протокол TCP/IP.
Примечание 3
Для того чтобы встроенная помощь (Help) ГАРАНТа работала
корректно, необходимо, чтобы на компьютере был установлен
Internet Explorer версии 4.0 или выше.
Примечание 4
Дизайн системы предполагает работу с разрешением экрана
не менее 1024 х 768 пикселей.
Примечание 5
Для корректной работы функции &laquo;Новости онлайн&raquo; необходимо, чтобы в системе был установлен Internet Explorer версии 6.0
или выше.
Примечание 6
Компания &laquo;Этерсофт&raquo; (www.etersoft.ru) заявляет о поддержке со
своей стороны работы системы ГАРАНТ в среде запуска Windowsприложений <a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="54031d1a111411203126273b3220">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script> в операционных системах ALTLinux,
Ubuntu, SUSE, Mandriva и других наиболее популярных дистрибутивах. Таким образом, возможны запуск и работа системы ГАРАНТ
на компьютерах под управлением операционной системы Linux.
Обновлено!!! Примечание 7
Для корректной работы автоматической онлайн-проверки актуальности документов требуется доступ к серверу revision.garant.ru.
Для обеспечения возможностей пользователей по заполнению
и редактированию новостных лент ПРАЙМ требуется доступ к
7
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
серверу service.garant.ru. Для корректной работы интернет-версии
системы ГАРАНТ, запускаемой из настольных версий ГАРАНТ,
требуется, чтобы в системе были установлены Internet Explorer, начиная с версии 10.0, или актуальная версия Mozilla Firefox, Google
Chrome или Opera.
Примечание 8
Функция вызова системы ГАРАНТ по ссылке в тексте работает
в MS Word и MS Outlook, начиная с версии 2002 (XP), а также
OpenOffice.org Writer, начиная с версии 3.2. В продуктах Почта Windows Vista, Почта Windows 7, Outlook Express ссылки
либо вставляются как обычный текст, либо визуально выглядят
как настоящая ссылка, но не позволяют перейти к нужному
документу.
Примечание 9
Панель инструментов ГАРАНТ добавляется в продукты MS Word
и MS Outlook версий, начиная с 2003.
Примечание 10
Если присутствие панели инструментов ГАРАНТ в MS Word
и MS Outlook нежелательно (например, внешний вид этих программ настроен под определенные нужды), эту панель инструментов можно удалить. Для этого во всех локальных версиях
системы ГАРАНТ (локальная инсталляционная, мобильная, Мобильный ГАРАНТ онлайн) нужно запустить оболочку ГАРАНТ,
вызвать пункт главного меню &laquo;Файл/Настройка конфигурации&raquo;, перейти в раздел &laquo;Поведение системы&raquo;, снять галочку
&laquo;Включить интеграцию с MS Office&raquo;, нажать OK, закрыть
оболочку ГАРАНТ и снова запустить ее – в этот момент произойдет деактивация панели инструментов ГАРАНТ. Для сетевых версий каждый пользователь может удалить панель инструментов ГАРАНТ на своем компьютере таким же образом.
Если требуется удалить панель инструментов ГАРАНТ со всех
рабочих станций, на которых запускался ГАРАНТ, без специальных действий пользователей, нужно в файле garant.ini, лежащем
в одном каталоге с файлом garant.exe, через который пользователи запускают ГАРАНТ, раскомментировать (убрать &laquo;;&raquo;) строку
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
8
&laquo;;RegistrationEnabled=0&raquo; в секции &laquo;[Launcher]&raquo; (это действие
запретит автоматическую регистрацию панели инструментов
ГАРАНТ при первом запуске ГАРАНТа), раскомментировать
строку &laquo;;Item02=$(ExecuteRoot)\apps\F1Shell.dll&raquo; в секции
&laquo;[LauncherUnRegistration]&raquo; и сохранить изменения. При первом
же запуске ГАРАНТа на рабочей станции каждого пользователя
произойдет деактивация панели инструментов ГАРАНТ. Если
в момент деактивации панели инструментов ГАРАНТ на компьютере пользователя были запущены MS Outlook и (или) MS Word,
удаление панели инструментов ГАРАНТ из этих приложений
произойдет после их закрытия.
ТЕХНИЧЕСКИЕ ТРЕБОВАНИЯ
• Клиентские компьютеры сетевой версии, локальная версия,
рабочий диск: минимальной конфигурацией можно считать
Celeron 500 МГц, 128 Мб ОЗУ. Для работы мобильной версии необходимо, чтобы носитель (Flash Drive) подключался
к компьютеру через интерфейс USB 2.0 или 3.0.
• Сервер клиент-серверной версии: минимальной конфигурацией компьютера для работы серверной части ГАРАНТа является
Pentium3-800Мгц, 512 Мб ОЗУ.
БЫСТРОЕ ВВЕДЕНИЕ В ПРОЦЕСС УСТАНОВКИ
И ИСПОЛЬЗОВАНИЯ СИСТЕМЫ
1. Для первичной установки инсталляционных версий запустите
файл F1Setup.exe (находится в корне каталога GARANT поставляемого вам накопителя) и следуйте указаниям Мастера
установки.
2. Для запуска мобильной или рабочей версии запустите файл
garant.exe (находится в корне каталога GARANT поставляемого вам накопителя – USB флеш-накопитель, DVD-диск).
3. Для запуска инсталляционных версий запускайте ярлык
ГАРАНТ на вашем рабочем столе или файл garant.exe
(находится в корне каталога с установленным ГАРАНТом).
9
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
4. Для обновления инсталляционных версий с полученного
вами накопителя всегда запускайте ярлык &laquo;Установка данных&raquo; из программной группы &laquo;ГАРАНТ / Информационный
банк&raquo; или файл datasetup.exe (находится в корне каталога с установленным ГАРАНТом). Если программа установки
данных обнаружит на полученном вами накопителе более новую версию оболочки ГАРАНТ, она сообщит вам об этом и
предложит запустить инсталлятор программной оболочки
(см. пункт 1). При обновлении установленной на компьютер версии инсталлятор автоматически определит параметры прошлой
установки и вам не придется вводить их снова. Обновление всегда
производится по указанному сценарию – поверх установленной у
вас версии; удаление каких-либо файлов или правка каких-либо
разделов системного реестра Windows перед обновлением системы строго не рекомендованы, так как могут привести к потере
пользовательских настроек.
5. Для пакетного обновления (при помощи полученных через
Интернет файлов обновления небольшого объема) информационного банка ГАРАНТ инсталляционных версий скопируйте эти файлы в каталог DELTA установленного у вас ГАРАНТа
и запустите ярлык &laquo;Пакетное Пополнение&raquo; из программной группы &laquo;ГАРАНТ / Информационный банк&raquo; или файл
dataupd.exe (находится в корне каталога с установленным
ГАРАНТом). Удобнее всего использовать пакетное обновление в автоматическом режиме (автоматическое скачивание
и применение файлов обновления, запускаемое в заданное
время, например по ночам). Для включения и настройки параметров автоматического обновления предназначена программа
%Garant%\ apps\F1EasyUpdate.
6. Для получения файлов пакетного обновления (см. предыдущий пункт) запустите ярлык &laquo;Загрузка файлов Пакетного
Пополнения&raquo; из программной группы &laquo;ГАРАНТ/Информационный банк&raquo; или файл download.exe (находится в корне
каталога с установленным ГАРАНТом).
7. Для удаления системы ГАРАНТ с вашего компьютера ис-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
10
пользуйте ярлык &laquo;Удаление продукта&raquo; из программной
группы &laquo;ГАРАНТ&raquo; или воспользуйтесь пунктом &laquo;Установка и удаление программ&raquo; панели управления Windows.
Внимание!!! В результате выполнения этого действия будут безвозвратно удалены настройки пользователей системы ГАРАНТ,
хранящиеся на данном компьютере. Пожалуйста, не выполняйте
этого действия, если потеря настроек нежелательна.
ЛОКАЛЬНАЯ ВЕРСИЯ
Краткое описание
Локальная версия предназначена для установки и запуска на
одном компьютере под управлением Windows.
Особенности установки, обновления и функционирования
1. Запуск локальной версии возможен только на том компьютере,
на котором производилась установка.
2. Для работы инсталлятора локальной версии требуются администраторские права на компьютере.
3. Для обновления и установки информационного банка предназначены следующие программы: Мастер установки данных
(%Garant%\datasetup.exe), программа пакетного пополнения (%Garant%\dataupd.exe), программа загрузки файлов
пакетного пополнения (%Garant%\download.exe). Подробное описание этих программ см. во встроенном файле справки (%Garant%\Help\F1DataTools.chm). Для их запуска не
требуется никаких дополнительных прав, кроме прав записи
в каталог %Garant% (и его подкаталоги).
Удобнее всего использовать пакетное обновление в автоматическом режиме (автоматическое скачивание и применение
файлов обновления, запускаемое в заданное время, например
по ночам). Для включения и настройки параметров автоматического обновления предназначена программа %Garant%\
apps\F1EasyUpdate. Подробнее – см. встроенную справку к
программе F1EasyUpdate. Оболочка системы ГАРАНТ должна
быть закрыта во время запуска автоматического обновления в
локальной версии.
11
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
4. Для установки запустите F1Setup.exe из каталога GARANT
на дистрибутиве и следуйте дальнейшим инструкциям
(вам предложат указать каталог для установки системы).
5. Обновлено!!! На последнем шаге работы инсталлятора запустится конфигуратор настроек доступа в Интернет
(F1ConsultingChecker). В большинстве случаев эти настройки будут определены автоматически и никаких действий от
установщика не потребуется (не исключено, что окно промелькнет так быстро, что вы не заметите его). В случае если
автоматически настройки Интернета не определились, покажется диалоговое окно, в котором можно указать порт и адрес
используемого для подключения к Интернету прокси-сервера,
а также (в случае если используется авторизация на прокси)
логин и пароль на прокси. Проверить введенные настройки
можно нажатием кнопки &laquo;Тест&raquo;. Если тест показал, что сервер
консультаций доступен, нужно сохранить настройки (кнопка
&laquo;Сохранить настройки&raquo;) и нажать кнопку &laquo;Закрыть&raquo;. Программа проверки соединения (F1ConsultingChecker), а
позже и оболочка ГАРАНТ устанавливают соединение с сервером консультаций по адресу consulting1.garant.ru. Соединение
устанавливается по 80-му порту, поэтому в большинстве случаев особых (отличных от разрешений для браузера Интернета)
разрешений для такого соединения не потребуется. Однако не
исключено, что для корректной работы консультаций в ГАРАНТе в фаерволе на рабочей станции потребуется разрешить
установление такого соединение для F1ConsultingChecker и
программной оболочки ГАРАНТ (F1Shell.run). Также оболочка
может устанавливать соединение с сервером revision.garant.ru
(для проверки доступности более новых редакций документов в системе ГАРАНТ) и сервером service.garant.ru (для обеспечения возможностей пользователей по самостоятельному
заполнению и редактированию новостной ленты ПРАЙМ). В
обоих случаях соединение устанавливается по 80-му порту.
Для этих соединений также может потребоваться разрешение
такого соединения для оболочки ГАРАНТ в фаерволе в случае
надобности.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
12
6. При первом запуске локальной версии автоматически создается ярлык для запуска программы на рабочем столе, производится автоматическая регистрация пользователя в системе
(с логином ADMINISTRATOR и паролем ADMINISTRATOR).
При первом запуске автоматически выставляется параметр
&laquo;Автоматический вход в систему&raquo; (его можно изменить при
помощи пункта в меню Файл в оболочке), следовательно, при
последующих запусках системы пользователю не придется
вводить свои логин и пароль (если только он не отменит этот
параметр).
7. На компьютере с установленной локальной версией можно зарегистрировать несколько пользователей ГАРАНТа (с тем, чтобы
каждый пользователь, имеющий доступ к этому компьютеру, имел
возможность работать с собственными настройками в системе
ГАРАНТ). Для регистрации нового пользователя нужно снять
галочку с пункта &laquo;Автоматический вход в систему&raquo; в настройках,
закрыть систему, снова запустить ее и выбрать пункт &laquo;Новый
пользователь&raquo; в диалоговом окне &laquo;Вход в систему ГАРАНТ&raquo;.
8 Настройки локальной версии хранятся в каталоге %Application
Data%\Garant-Local\Settings.
9. Для работы с учетными записями пользователей предназначен
Администратор пользователей. С его помощью можно создавать
пользователей, удалять их, редактировать учетные записи (менять
пароли, имена, адреса электронной почты пользователей), а также
регулировать доступ пользователей к платным консультациям.
Кроме того, можно запретить самостоятельную регистрацию
пользователей в системе для данной рабочей станции (может
потребоваться для запрета доступа к платным консультациям
пользователям данной рабочей станции, см. также пункт 11). Для
входа в интерфейс администратора нужно запустить файл garant.
exe с параметром f1admin и войти в систему с логином ADMIN и
паролем по умолчанию – ADMIN. Менять этот пароль администратора не рекомендуется. Пример запуска интерфейса администратора: %GARANT%\garant.exe f1admin.
Пользователь может самостоятельно изменять свои учетные
данные в системе: пароль, ФИО, электронную почту. Для этого
13
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
в запущенной оболочке программы нужно выбрать пункт меню
&laquo;Файл / Изменить мои регистрационные данные&raquo;.
10. В случае локальной версии настройки доступа системы
ГАРАНТ в Интернет для отправки запросов на консультации
и получения ответов на них хранятся в каталоге с установленным ГАРАНТом. Можно в любой момент изменить эти
настройки (например, указать отличный от указанного при
инсталляции адрес прокси-сервера или ввести пользовательский логин и пароль на прокси). Для этого нужно:
• запустить на рабочей станции программу настройки
доступа к серверу консультаций – %Garant%\apps\
F1ConsultingChecker.exe;
• задать (изменить) в ней настройки доступа в Интернет
(имя и порт прокси-сервера и – если есть – логин и пароль
на прокси);
• проверить работоспособность новых настроек (кнопка
&laquo;Тест&raquo;);
• в случае если сервер консультаций доступен, сохранить
новые настройки (кнопка &laquo;Сохранить настройки&raquo;);
• закрыть программу настройки доступа.
Изменения настроек доступа в Интернет вступят в силу после
перезапуска оболочки ГАРАНТ на этой рабочей станции.
11. Возможность пользования платными консультациями может
быть ограничена администратором системы. По умолчанию
платные консультации доступны всем пользователям на данной рабочей станции. Через интерфейс Администратора пользователей (см. пункт 10) можно:
• запретить получение платных консультаций конкретному
пользователю на данной рабочей станции (в этом случае
он сможет зарегистрировать в системе нового пользователя
и получить таким образом доступ к этой услуге);
• запретить по умолчанию получение платных консультаций
всем пользователям на данной рабочей станции (включая
и вновь регистрируемых) и разрешать его конкретным доверенным пользователям.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
14
Запрет на получение платных консультаций не затрагивает
возможности получать бесплатные консультации.
Если пользователь, которому запрещено получение платных
консультаций, подтвердит свою готовность оплатить консультацию в форме пришедшего ему уведомления, он увидит сообщение о недоступности данной услуги и предложение обратиться
по этому поводу к администратору системы. Если администратор системы разрешит этому пользователю получение платных
консультаций, он сможет повторно подтвердить оплату услуги
и получить через некоторое время ответ консультанта.
12. Локальная версия системы ГАРАНТ обращается к следующим
разделам системного реестра:
• HKEY_CURRENT_USER\Software\Garant.F1;
• H
KEY_CURRENT_USER\Software\Garant. F1-Launcher
(создаются при первом запуске оболочки).
ВЕРСИИ НА ПЕРЕНОСНОМ НОСИТЕЛЕ. МОБИЛЬНАЯ
ВЕРСИЯ. РАБОЧАЯ ВЕРСИЯ. МОБИЛЬНЫЙ ГАРАНТ
ОНЛАЙН
Краткое описание
Версии на переносном носителе представляют собой набор программных файлов и файлов с данными, записанных на USB флешнакопитель, переносной жесткий диск (мобильная версия) или DVDдиск (рабочая версия).
Мобильный ГАРАНТ онлайн поставляется только на USB флешнакопителях.
Для использования версий на переносном носителе не требуется никакой установки (их установка сводится к подключению USB флешнакопителя либо установке диска в считывающее устройство), обновление сводится к смене накопителя, подключенного к компьютеру
(либо, в случае использования USB флеш-накопителя, возможно
обновление в виде копирования файлов со специального DVD-диска).
Ограничением рабочей версии (поставляемой на DVD-диске) являет-
15
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ся то, что она работает медленнее инсталляционной, так как скорость
чтения данных с DVD-диска ниже, чем с жесткого диска. Мобильный
ГАРАНТ онлайн поставляется только на USB флеш-накопителях.
Запуск мобильной версии (на флеш-накопителе) возможен только
на том компьютере, к которому подключен носитель; запуск по сети
невозможен.
Особенности запуска и функционирования
1. З апуск версии на переносном носителе не требует администраторских или других дополнительных прав на
компьютере.
2. Запуск версии на переносном носителе на рабочих станциях
сводится к запуску программы garant.exe из каталога Garant,
находящегося на USB флеш-накопителе, либо на локальном
или доступном по сети DVD-диске. В случае если доступ к рабочему DVD-диску осуществляется по сети, необходимо подключить его как сетевой диск (запуск оболочки, путь к которой
указан в формате \\имя_сервера\имя_каталога, невозможен).
При первом запуске на клиентском компьютере на рабочем
столе автоматически создается ярлык для запуска системы
ГАРАНТ. Также при первом запуске предлагается выбор каталога для сохранения пользовательских настроек (по умолчанию –
%Application Data%\ Garant-DVD). После выбора каталога
происходит копирование настроек, автоматическая регистрация
пользователя в системе (с логином ADMINISTRATOR и паролем ADMINISTRATOR). При первом запуске автоматически
выставляется параметр &laquo;Автоматический вход в систему&raquo; (его
можно изменить при помощи меню Файл в оболочке). Следовательно, при последующих запусках системы пользователю
не придется вводить свои логин и пароль (если только он не
отменит этот параметр).
3. Обновлено!!! При первом запуске версии на переносном
носителе на компьютере запустится конфигуратор настроек
доступа в Интернет (F1ConsultingChecker).
В большинстве случаев эти настройки будут определены
автоматически и никаких действий от установщика не потре-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
16
буется (не исключено, что окно промелькнет так быстро, что
вы не заметите его). В случае если автоматически настройки
Интернета не определились, покажется диалоговое окно,
в котором можно указать порт и адрес используемого для
подключения к Интернету прокси-сервера, а также (в случае
если используется авторизация на прокси) логин и пароль на
прокси. Проверить введенные настройки можно нажатием
кнопки &laquo;Тест&raquo;. Если тест показал, что сервер консультаций
доступен, нужно сохранить настройки (кнопка &laquo;Сохранить
настройки&raquo;) и нажать кнопку &laquo;Закрыть&raquo;.
17
Программа проверки соединения (F1ConsultingChecker), а позже
и оболочка ГАРАНТ устанавливают соединение с сервером консультаций по адресу consulting1.garant.ru. Соединение устанавливается по 80-му порту, поэтому в большинстве случаев особых
(отличных от разрешений для браузера Интернета) разрешений
для такого соединения не потребуется. Однако не исключено, что
для корректной работы консультаций в ГАРАНТе в фаерволе на
рабочей станции потребуется разрешить установление такого
соединения для F1ConsultingChecker и программной оболочки
ГАРАНТ (F1Shell.run). Также оболочка может устанавливать
соединение с сервером revision.garant.ru (для проверки доступности более новых редакций документов в системе ГАРАНТ)
и сервером service.garant.ru (для обеспечения возможностей
пользователей по самостоятельному заполнению и редактированию новостных лент ПРАЙМ). В обоих случаях соединение
устанавливается по 80-му порту. Для этих соединений также
может потребоваться разрешение такого соединения для оболочки ГАРАНТ в фаерволе в случае надобности.
4. В случае версии на переносном носителе настройки доступа
системы ГАРАНТ в Интернет для отправки запросов на консультации и получения ответов на них хранятся в каталоге
для сохранения пользовательских настроек (см. пункт 2).
Можно в любой момент изменить эти настройки (например, указать отличный от указанного при инсталляции адрес
прокси-сервера или ввести пользовательский логин и пароль
на прокси).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Для этого нужно: • з апустить на рабочей станции программу настройки доступа к серверу консультаций %Garant%\apps\
F1ConsultingChecker.exe;
• задать (изменить) в ней настройки доступа в Интернет
(имя и порт прокси-сервера и – если есть – логин и пароль
на прокси);
• проверить работоспособность новых настроек (кнопка
&laquo;Тест&raquo;);
• в случае если сервер консультаций доступен, сохранить
новые настройки (кнопка &laquo;Сохранить настройки&raquo;);
• закрыть программу настройки доступа.
Изменения настроек доступа в Интернет вступят в силу после
перезапуска оболочки ГАРАНТ на этой рабочей станции.
Таким же образом в случае надобности можно изменить настройки доступа мобильного ГАРАНТ онлайн к серверу ревизий документов.
5. На каждом компьютере можно зарегистрировать несколько пользователей версии ГАРАНТа на переносном носителе (для того чтобы каждый пользователь, имеющий доступ к этому компьютеру,
мог работать со своими настройками в системе ГАРАНТ). Для
регистрации нового пользователя нужно снять галочку с пункта
&laquo;Автоматический вход в систему&raquo; в настройках, закрыть систему,
снова запустить ее и выбрать пункт &laquo;Новый пользователь&raquo; в диалоговом окне &laquo;Вход в систему ГАРАНТ&raquo;.
6. Для работы с учетными записями пользователей предназначен
Администратор пользователей. С его помощью можно создавать пользователей, удалять их, редактировать учетные записи
(менять пароли, имена, адреса электронной почты пользователей), а также регулировать доступ пользователей к платным
консультациям. Кроме того, можно запретить самостоятельную регистрацию пользователей в системе для данной рабочей
станции (может потребоваться для запрета доступа к платным
консультациям пользователям данной рабочей станции, см.
также следующий пункт).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
18
Для входа в интерфейс администратора нужно запустить файл
garant.exe с параметром f1admin и войти в систему с логином
ADMIN и паролем по умолчанию – ADMIN. Менять этот
пароль администратора не рекомендуется. Пример запуска интерфейса администратора: %GARANT%\garant.exe f1admin.
Пользователь может самостоятельно изменять свои учетные
данные в системе: пароль, ФИО, электронную почту. Для этого
в запущенной оболочке программы нужно выбрать пункт меню
&laquo;Файл / Изменить мои регистрационные данные&raquo;.
7. Возможность пользования платными консультациями может
быть ограничена администратором системы. По умолчанию
платные консультации доступны всем пользователям. Через
интерфейс Администратора пользователей (см. предыдущий
пункт), запущенный на каждой рабочей станции, можно:
• запретить получение платных консультаций конкретному
пользователю на данной рабочей станции (в этом случае он
сможет зарегистрировать в системе нового пользователя
и получить таким образом доступ к этой услуге);
• запретить по умолчанию получение платных консультаций
всем пользователям на данной рабочей станции (включая
и вновь регистрируемых) и разрешать его конкретным доверенным пользователям.
Запрет на получение платных консультаций не затрагивает
возможности получать бесплатные консультации. Если пользователь, которому запрещено получение платных консультаций, подтвердит свою готовность оплатить консультацию
в форме пришедшего ему уведомления, он увидит сообщение
о недоступности данной услуги и предложение обратиться по
этому поводу к администратору системы. Если администратор
системы разрешит этому пользователю получение платных
консультаций, он сможет повторно подтвердить оплату услуги
и получить через некоторое время ответ консультанта.
Кроме того, администратор системы может запретить использование консультаций (и платных, и бесплатных) для
конкретных пользователей или же для всех пользователей
сети, за исключением доверенных лиц, путем регулирования
доступа к серверу консультаций (consulting1.garant.ru, порт
19
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
80). Запрет на доступ к этому серверу приведет к недоступности консультационных услуг.
8. Версия на переносном носителе обращается к следующим
разделам системного реестра:
• HKEY_CURRENT_USER\Software\Garant.F1;
• HKEY_CURRENT_USER\Software\Garant.F1-Launcher
(они создаются при первом запуске оболочки).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
20
СЕТЕВАЯ КЛИЕНТ-СЕРВЕРНАЯ ВЕРСИЯ
Краткое описание
Сетевая клиент-серверная версия ГАРАНТ построена на клиентсерверной архитектуре, подразумевающей разделение на две программные части: серверную и клиентскую.
Сервером называется специализированная программа, работающая на высокопроизводительном выделенном компьютере. Термин &laquo;сервер&raquo; используется как для названия программы, так и для
названия этого компьютера. Из контекста обычно бывает понятно,
о каком именно сервере – программном или аппаратном – идет
речь.
Клиентом (клиентской частью) называется пользовательское приложение, запускаемое на рабочих станциях, то есть персональных
компьютерах пользователей. Клиентская часть является, по сути,
&laquo;лицом&raquo; системы. Именно с клиентской частью ассоциируется
у пользователя всякое клиент-серверное приложение. Так, программная оболочка ГАРАНТа – это клиентская часть составной
системы.
В процессе работы программные оболочки, запускаемые пользователями на своих компьютерах, обращаются за данными к серверу
системы. Сервер непосредственно считывает документы из базы
данных, обрабатывает их нужным образом и передает их программной оболочке, где полученные данные отображаются в интерфейсе пользователя. Многие ресурсоемкие операции, такие как,
скажем, поиск документов, выполняются также на сервере.
Такое разделение преследует несколько целей, но две из них мы
выделим особо. Первая: сервер системы выполняет самую трудоемкую часть работы, что позволяет снизить нагрузку на персональные компьютеры пользователей. Следовательно, существенно
снижаются и технические требования к рабочим станциям. Второе
преимущество клиент-серверной архитектуры, которые мы хотим
здесь отметить, – значительное снижение сетевого трафика. Дело
в том, что передача запроса от оболочки к серверу и получение ответных данных создают гораздо меньшую нагрузку на локальную
21
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
сеть, чем если бы каждая пользовательская оболочка самостоятельно общалась с информационным банком системы. Снижение
сетевого трафика при запуске и работе клиент-серверной версии
заметно увеличивает быстродействие системы по сравнению с
файл-серверной версией, особенно в сетях с низкой пропускной
способностью. Кроме того, в клиент-серверной версии реализованы некоторые пользовательские функции, невозможные в
файл-серверной версии, поэтому клиент-серверная версия является предпочтительной для установки по сравнению с файлсерверной.
Особенности установки, обновления и функционирования
1. Серверная часть клиент-серверной сетевой версии системы
ГАРАНТ (далее – сервер) устанавливается только на компьютеры под управлением Windows XP и выше (XP, 2003, Vista,
2008, 7, 8, 2012, 8.1).
2. Установку оболочки сервера ГАРАНТа необходимо запускать
только непосредственно на сервере (компьютере, на котором
будут работать серверная часть системы ГАРАНТ и храниться
данные). Можно запускать инсталлятор на сервере через терминального клиента c какой-либо рабочей станции.
3. Для установки и запуска сервера ГАРАНТа необходимы администраторские права на сервере (компьютере).
Перезагрузка компьютера не требуется ни при каких условиях.
4. Для установки запустите F1Setup.exe из каталога GARANT на
дистрибутиве и следуйте дальнейшим инструкциям. На одном
из шагов инсталлятор попросит указать имя сервера (компьютера) и номер порта, по которому клиенты будут обращаться
к серверу. Инсталлятор автоматически определит доменное
имя сервера и его IP-адрес. Выберите нужное значение имени
сервера (доменное имя или IP-адрес) в окне инсталлятора
или – в случае необходимости – впишите иное имя сервера, не
определившееся автоматически. По умолчанию инсталлятор
предлагает порт 5051, обычно он свободен. Самостоятельно
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
22
посмотреть список соединений можно следующим образом: в
командной строке наберите команду netstat –a (если выданный на экран результат не уместится на одну страницу, наберите netstat –a | more – результат будет выдаваться поэкранно;
следующий экран – после нажатия на пробел).
5. Можно ввести данные сервера исходящей почты для того, чтобы
этим сервером могла осуществляться рассылка пользователям забытых ими паролей в системе ГАРАНТ. Рассылка будет производиться на адрес электронной почты, указанный при регистрации
пользователя (если он был указан). Для задания этих параметров
нажмите кнопку &laquo;Настройки почты&raquo; на экране &laquo;Параметры
Сервера&raquo;. Параметры сервера исходящей почты можно не указывать, в таком случае рассылка паролей работать не будет.
6. Обновлено!!! На предпоследнем шаге запустится конфигуратор настроек доступа в Интернет (F1ConsutingChecker). В
большинстве случаев эти настройки будут определены автоматически и никаких действий от установщика не потребуется
(не исключено, что окно промелькнет так быстро, что вы не заметите его). В случае если автоматически настройки Интернета
не определились, покажется диалоговое окно, в котором можно
указать порт и адрес используемого для подключения к Интернету прокси-сервера, а также (в случае если используется авторизация на прокси) логин и пароль на прокси. Проверить введенные настройки можно нажатием кнопки &laquo;Тест&raquo;. Если тест
показал, что сервер консультаций доступен, нужно сохранить
настройки (кнопка &laquo;Сохранить настройки&raquo;) и нажать кнопку
&laquo;Закрыть&raquo;. После этого инсталлятор перейдет к последнему
шагу установки – запуску службы сервера приложений.
Программа проверки соединения (F1ConsultingChecker), а позже и сервер приложений ГАРАНТ устанавливают соединение
с сервером консультаций по адресу consulting1.garant.ru. Соединение устанавливается по 80-му порту, поэтому в большинстве случаев особых (отличных от разрешений для браузера
Интернета) разрешений для такого соединения не потребуется.
Однако не исключено, что для корректной работы консультаций
в ГАРАНТе в фаерволе на рабочей станции потребуется разре-
23
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
шить установление такого соединения для F1ConsultingChecker
и сервера приложений ГАРАНТ (F1Server.exe). Также сервер
приложений ГАРАНТ может устанавливать соединение с сервером revision.garant.ru (для проверки доступности более новых
редакций документов в системе ГАРАНТ) и сервером service.
garant.ru (для обеспечения возможностей пользователей по
самостоятельному заполнению и редактированию новостных
лент ПРАЙМ). В обоих случаях соединение устанавливается по
80-му порту. Для этих соединений также может потребоваться
разрешение такого соединения для сервера ГАРАНТ в фаерволе
в случае надобности.
7. В конце работы инсталлятора сетевой версии запускается (как
служба) сервер ГАРАНТа. По умолчанию служба устанавливается как запускающаяся автоматически при старте операционной системы. Если служба сервера не запускается, проверьте
наличие достаточных прав на выполнение этой операции (поскольку служба запускается из-под системной учетной записи,
то необходимо предоставить права полного доступа к каталогу
%Garant%\ группе безопасности SYSTEM или группе &laquo;ВСЕ&raquo;
на сервере). Управлять (останавливать и запускать) службой сервера ГАРАНТа можно при помощи Панели управления сервером
(см. ее описание во встроенном файле справки %Garant%\help\
F1serverMng.chm), а также при помощи универсального раздела &laquo;Службы&raquo; панели управления Windows. Остановка сервера
ГАРАНТа длится около двух минут – время, необходимое для корректного автоматического завершения работы всех клиентов.
8. Процедура установки и обновления данных клиент-серверной
версии может запускаться как на сервере, так и на любой рабочей станции. Администраторских прав для этого не требуется.
Для запуска удаленного обновления данных нужно, чтобы
с рабочей станции был доступен с правами на чтение каталог
%Garant%\. Для того чтобы рядовые пользователи не смогли
запускать программы обновления данных (и, соответственно,
не могли повредить их), у них не должно быть прав доступа
в этот каталог. В клиент-серверной версии возможно обновление данных без отключения работающих в системе поль-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
24
зователей. Для обновления и установки информационного
банка предназначены следующие программы: Мастер установки данных (%Garant%\datasetup.exe), программа пакетного
пополнения (%Garant%\dataupd.exe), программа загрузки
файлов пакетного пополнения (%Garant%\download.exe).
Подробное описание этих программ см. во встроенном файле
справки (%Garant%\Help\F1DataTools.chm).
Удобнее всего использовать пакетное обновление в автоматическом режиме (автоматическое скачивание и применение
файлов обновления, запускаемое в заданное время, например
по ночам). Для включения и настройки параметров автоматического обновления предназначена программа %Garant%\
apps\F1EasyUpdate. Подробнее см. встроенную справку к
программе F1EasyUpdate.
9. Для запуска клиентской оболочки доступ к каталогу на сервере,
в котором установлена серверная часть системы ГАРАНТ, не
нужен. К каталогу с клиентской частью (инсталлятор сетевой
версии запрашивает путь к этому каталогу отдельно, по умолчанию – %Program Files%\GarantClient\) нужен доступ с правами
на чтение. Устанавливаться клиентская часть может на любой
доступный клиентам файловый ресурс, необязательно на ту же
машину, на которой установлен сервер ГАРАНТа (в том числе
клиентский каталог можно (но необязательно) копировать на
рабочую станцию и запускать оболочку оттуда).
10. Запуск клиентской оболочки сетевой версии системы ГАРАНТ
сводится к запуску программы garant.exe из клиентского каталога; какой-либо установки на компьютерах пользователей
не требуется. При первом запуске на клиентском компьютере
на рабочем столе автоматически создается ярлык для запуска системы ГАРАНТ. При работе клиентской части системы ГАРАНТ обращение к реестру сводится к записи в ветку
HKEY_CURRENT_USER\Software\Garant.F1 – в этот раздел у всех пользователей есть права записи (не потребуется
перезагрузок и вмешательства администратора). Подробное
описание оболочки ГАРАНТ см. во встроенном файле справки
%Garant%\Help\F1Shell.chm.
25
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
11. С целью сокращения времени запуска и уменьшения сетевого
трафика при запуске реализовано кеширование исполняемых
файлов. При первом запуске garant.exe происходит копирование исполняемых файлов в каталог %appdata%\GarantClient на пользовательском компьютере. При последующих
запусках исполняемые файлы запускаются уже из этого локального каталога. Версия закешированных исполняемых
файлов проверятся и автоматически обновляется при необходимости. Если при запуске ГАРАНТа данные файлы будут
отсутствовать, то копирование запустится повторно. Данная
функциональность включена по умолчанию, отключить ее
можно в garant.ini клиентской части, раскомментировав
строку LocalCacheEnabled=0 в секции [Launcher]. Удалить
кешированные файлы можно через стандартный механизм
&laquo;Установки/удаления программ&raquo; или запуском утилиты
%appdata%\Garant-Client\settings\gclean.exe. Список копируемых файлов перечислен в разделе [Updates] файла
garant.cache из каталога с клиентской частью. Для случаев,
когда каталог %appdata% недоступен с полными правами для
пользователя, можно изменить используемый по умолчанию
каталог хранения кешированных файлов. Для этого можно
активировать диалог выбора каталога, чтобы каждый пользователь при первом запуске программы мог выбрать каталог
сам. Для этого в клиентском garant.ini в секции [Launcher]
нужно изменить значение параметра ShowInstallRootDialog
следующим образом: ShowInstallRootDialog=Yes. Кроме
того, можно указать другой путь для хранения кешированных файлов, который будет использоваться для всех пользователей по умолчанию. Для этого в клиентском garant.ini
в секции [Launcher] нужно изменить значение параметра
DefaultDirectory таким образом, чтобы вместо переменной $(DefaultPath) был прописан путь к новому каталогу
в явном виде или в виде переменной окружения. Например,
DefaultDirectory=C:\Garant-Client.
12. При помощи редактирования файла garant.ini клиентской
части клиент-серверной версии можно настроить режим создания ярлыка на рабочих станциях, а именно:
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
26
• П
араметр ShowCreateDesktopShortcutsDialog= в разделе
[Default]
Yes (предлагается по умолчанию) – выдается диалог, запрашивающий при первом запуске подтверждение на создание
ярлыка на garant.exe на рабочем столе;
No – диалог не выводится.
• Параметр CreateDesktopShortcuts= в разделе [Default].
Действует только в случае, если ShowCre ateDesktopShortc
utsDialog=No, в противном случае игнорируется.
Yes (предлагается по умолчанию) – при первом запуске создается ярлык на рабочем столе (и диалог не показывается);
No – ярлык не создается (и диалог не показывается).
13. Для работы многих важных функций системы ГАРАНТ необходима авторизация пользователей в системе. Процедура
регистрации максимально упрощена для того, чтобы пользователи прошли ее самостоятельно. При первом запуске сетевой
версии на клиентском компьютере автоматически появляется
диалоговое окно регистрации нового пользователя. В нем требуется ввести логин, пароль, имя пользователя и его электронную почту (не обязательно). В дальнейшем для регистрации
нового пользователя на этом компьютере нужно снять галочку
с пункта &laquo;Автоматический вход в систему&raquo; в меню &laquo;Файл&raquo;,
закрыть систему, снова запустить ее и выбрать пункт &laquo;Новый
пользователь&raquo; в диалоговом окне &laquo;Вход в систему ГАРАНТ&raquo;.
Если описанный выше механизм вызывает вопросы у пользователей, можно воспользоваться возможностью автоматической регистрации в системе ГАРАНТ. При активации
режима автоматической регистрации при запуске ГАРАНТа
(включая первый запуск) пользователю не будет выводиться
дополнительных окон регистрации или ввода логина/пароля,
и он сразу сможет приступить к работе с системой. Чтобы
включить режим автоматической регистрации пользователей
(по умолчанию он не включен), необходимо в клиентском
garant.ini в секции [Default] раскомментировать (удалить
&laquo;;&raquo;) строку
&laquo;;CommandLine=-F1ShellLogin &laquo;%USERNAME%&raquo;
$(CommandLineParams)
27
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
и закомментировать (поставить &laquo;;&raquo; в начале строки) строку
&laquo;;CommandLine=$(CommandLineParams) &raquo;.
В результате при первом запуске программы произойдет автоматическая регистрация в системе ГАРАНТ пользователя с логином, совпадающим с логином этого пользователя в Windows
(равным переменной окружения Windows %USERNAME%),
полем ФИО, также равным этому %USERNAME%, пустым паролем и пустой электронной почтой. При последующих запусках
ГАРАНТа окно ввода логина и пароля пользователя выводиться
не будет. Если у части пользователей есть потребность заходить в 
ГАРАНТ под учетной записью с логином, отличным от логина
в Windows, они могут сделать это, зажав во время запуска программы клавишу Shift, либо для таких пользователей нужно
создать отдельный клиентский каталог без описанных выше
изменений в garant.ini.
Логины пользователей в ГАРАНТе регистрозависимы (то
есть пользователи Petrov и PETROV – разные для системы
ГАРАНТ). Чтобы при работе в режиме автоматической регистрации пользователей избежать ситуации, когда пользователь
Windows Petrov заходит в профиль ГАРАНТа Petrov, отличный
от профиля ГАРАНТа пользователя PETROV, можно включить режим трансляции всех логинов пользователей Windows
в нижний регистр для ГАРАНТа. Для этого нужно в серверном
garant.ini в секции &laquo;[F1Server Params]&raquo; раскомментировать
(убрать &laquo;;&raquo;) строку
&laquo;;-IgnoreUserNameCase=1&raquo;,
Изменения вступят в силу после сохранения изменений и перезапуска сервера ГАРАНТ.
Если в настройках ГАРАНТа наличие профилей неактивных
пользователей нежелательно, можно включить режим их автоматического удаления по истечении задаваемого периода
неактивности. Для этого нужно в серверном garant.ini в секции
&laquo;[F1Server Params]&raquo; раскомментировать (убрать &laquo;;&raquo;) строку
&laquo;;-InactiveUsersLifePeriod=60&raquo;
и изменить в случае необходимости значение параметра периода бездействия (отсутствия событий входа в ГАРАНТ).
По умолчанию период бездействия равен 60 дням. Изменения вступят в силу после сохранения и перезапуска серве-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
28
ра ГАРАНТ. Период бездействия проверяется через 5 минут
после старта сервера и затем каждые 12 часов. Описанный
выше механизм не удаляет пользователей, у которых выставлен флажок &laquo;Не удалять при бездействии&raquo; в Администраторе
пользователей (см. также пункт 28).
14. Самостоятельную регистрацию пользователей можно запретить в Администраторе пользователей (см. пункт 16).
15. Все пользовательские настройки системы ГАРАНТ (в том
числе и настройки новостных лент пользователей) хранятся
на сервере в каталоге %Garant%\Settings.
16. Для работы с учетными записями пользователей предназначен
Администратор пользователей. С его помощью можно создавать пользователей, удалять их, редактировать учетные записи
(менять пароли, имена, адреса электронной почты пользователей), определять пользователей, работающих с системой,
и отключать их от системы, регулировать доступ пользователей к платным консультациям, запрещать самостоятельную
регистрацию пользователей в системе (в этом случае работать
с системой смогут только пользователи, зарегистрированные
администратором системы), ограничивать доступ пользователей к информационным блокам (см. пункт 25), а также предоставлять фильтры этого пользователя в общий доступ (см.
пункт 28).
Для входа в интерфейс администратора нужно запустить файл
garant.exe с параметром f1admin и войти в систему с логином
ADMIN и паролем по умолчанию – ADMIN. Пример запуска интерфейса администратора: %GARANT%\garant.exe
f1admin.
Пользователь может самостоятельно изменять свои учетные
данные в системе: пароль, ФИО, электронную почту. Для этого в запущенной оболочке программы нужно выбрать пункт
меню &laquo;Файл / Изменить мои регистрационные данные&raquo;.
Пароль администратора рекомендуется изменить (чтобы
рядовые пользователи не могли им пользоваться). При
смене пароля администратора важно помнить, что после
29
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
этой замены при установке данных с дистрибутива и при
пакетном обновлении данных потребуется вводить этот
измененный пароль. Если настроено автоматическое пакетное обновление данных – потребуется задание нового
пароля в качестве параметра командной строки программы
обновления (подробности в файле помощи пакетного обновления %Garant%\Help\F1DataTools.chm). Кроме того,
очень важно запоминать измененный пароль администратора – его потеря потребует дополнительных действий (см.
следующий пункт).
17.Если пароль администратора был изменен и забыт, можно вернуть его значение по умолчанию. Для этого в файл
garant.ini в серверной части нужно вписать в раздел [f1server
params] строку –GCMResetAdminPassword=1, сохранить
изменения в ini-файле и перезапустить службу сервера приложений. После перезагрузки службы пароль администратора (пользователь ADMIN) станет ADMIN.
18. Кроме самостоятельной регистрации пользователей (пункт 13)
и Администратора пользователей (пункт 16) существует еще
один способ добавления, удаления и редактирования учетных
записей пользователей клиент-серверной версии системы ГАРАНТ – операция пакетного импорта пользователей из файла специального формата. Для того чтобы воспользоваться
этим способом, запустите на сервере утилиту %Garant%\tools\
uimport.bat.
Формат использования:
%Garant%\tools\uimport.bat -f &lt;file_name&gt; -pwd
&lt;password&gt;, где
-f file_name: путь к файлу с данными, обязательный параметр.
-pwd password: пароль администратора (пользователя
ADMIN) системы ГАРАНТ. Задание этого параметра нужно
только в том случае, если пароль администратора отличается
от умолчательного (ADMIN) – то есть если он был изменен.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
30
31
Пример запуска:
%Garant%\tools\uimport.bat -f &laquo;C:\tmp\import&raquo; -pwd &laquo;XYZ&raquo;
– импортировать пользователей из файла C:\tmp\import, пароль администратора XYZ
Формат файла:
&lt;action&gt;&lt;разделитель&gt;&lt;login&gt;&lt;разделитель&gt;&lt;ФИО&gt;
&lt;раз делите л ь&gt;&lt;p a s s w or d&gt;&lt;р а зде л и т е л ь &gt; &lt; e - ma i l &gt;
&lt;разделитель&gt;&lt;using_consulting_status&gt;&lt;разделитель&gt;
&lt;privileged_status&gt;&lt;разделитель&gt;&lt;group_name&gt;, где:
• &lt;разделитель&gt; – в качестве разделителя могут быть использованы: &laquo;;&raquo; (точка с запятой), &laquo;,&raquo; (запятая), &laquo;|&raquo; (вертикальная черта), &laquo;(0х09)&raquo; (символ табуляции), использование
разных разделителей в одном файле не допускается, выбранный (первый упомянутый с начала файла) разделитель не
может быть использован в значениях параметров. В первом
&lt;login&gt; в файле не допускается использование ни одного из
символов разделителей;
• &lt;action&gt; – тип действия, производимого с пользователем,
необязательный параметр. Может иметь следующие значения:
&laquo;+&raquo; – добавление пользователя (значение по-умолчанию);
&laquo;=&raquo; – изменение данных пользователя;
&laquo;-&raquo; – удаление пользователя.
Пользователь всегда идентифицируется логином (т. е. для
удаления или редактирования используется логин как уникальный ID). При изменении данных пользователя все поля,
указанные в файле, будут переписаны поверх имеющихся,
а все поля, значения которых не будут указаны, не поменяют своего состояния. Если явно указано – &laquo;изменить&raquo;
(&laquo;=&raquo;), а пользователя с таким логином нет в системе, такой
пользователь добавляется. Если явно указано – &laquo;удалить&raquo;
(&laquo;-&raquo;), а пользователя с таким логином нет в системе, просто
выдается ошибка в лог, других действий не происходит.
• &lt;login&gt; – регистрационное имя (логин) пользователя,
обязательный параметр, уникальное значение, длина – не
более 32 знаков;
• &lt;ФИО&gt; – ФИО пользователя, обязательный параметр,
длина – не более 255 знаков;
• &lt;password&gt; – пароль пользователя, необязательный пара-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
метр, длина – не более 255 знаков;
• &lt;
e-mail&gt; – e-mail пользователя, необязательный параметр,
если указан, в нем обязательно должны быть &laquo;@&raquo; и &laquo;.&raquo;;
• &lt;using_consulting_status&gt; – право использования услуги
Правового консалтинга (подробнее см. пункт 26), необязательный параметр, возможные значения (&laquo;,&raquo;, &laquo;0&raquo;, &laquo;1&raquo;):
&laquo;значение не указано&raquo; (по умолчанию) – право наследуется в соответствии с групповой настройкой политик на
право доступа к консультациям для новых пользователей,
&laquo;0&raquo; – запрещено, &laquo;1&raquo; – разрешено;
• &lt;privileged_status&gt; – свойство привилегированности пользователя, необязательный параметр, возможные значения (&laquo;,&raquo;,
&laquo;0&raquo;, &laquo;1&raquo;): &laquo;значение не указано&raquo; (по умолчанию) – непривилегированный пользователь, &laquo;0&raquo; – непривилегированный
пользователь, &laquo;1&raquo; – привилегированный пользователь.
• &lt;group_name&gt;: – группа (см. пункт 26), к которой принадлежит пользователь. Необязательный параметр, строка
произвольного вида. Если значение не указано, пользователь будет добавлен только в группу &laquo;Все&raquo;. При обнаружении нового значения параметра &laquo;Группа пользователей&raquo;
создается соответствующая группа и пользователь помещается в нее; если группа уже существует – пользователь
помещается в существующую группу.
19. Клиенты посылают запросы серверу на указанный при инсталляции сервера порт (по умолчанию – 5051), поэтому если
сервер защищен брандмауэром (фаерволом), то нужно разрешить в нем этот порт (по умолчанию – 5051) для входящих
соединений (incoming connections).
20. Сервер в режиме работы по умолчанию отправляет ответ рабочим станциям на порт из диапазона с 3600 по 3609, поэтому
если рабочая станция защищена брандмауэром (фаерволом),
то нужно разрешить в нем этот диапазон (3600–3609) для входящих соединений (incoming connections). В некоторых фаерволах (например, в фаерволе из SP2 для Windows XP) можно
разрешить входящие вызовы от определенного приложения
на любой порт – в этом случае открывать целый диапазон не
потребуется (см. также пункт 22).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
32
21. Для работы клиента в режиме по умолчанию необходимо,
чтобы сервер имел возможность устанавливать прямое TCPсоединение по внутреннему IP-адресу рабочей станции. Это
накладывает ограничение на работу с клиентских компьютеров, расположенных относительно сервера в разных подсетях,
связанных между собой посредством NAT или прокси-сервера
(см. также следующий пункт).
22. Существует возможность такого режима работы, который не требовал бы установления соединения сервера с рабочей станцией. Для активации этого режима требуется раскомментировать
(убрать точку с запятой) строку -GCMBiDirectional=1 в серверном и в клиентском garant.ini в разделе [GCM Params], сохранить
изменения и перезапустить службу сервера приложений и оболочку. Включение режима BiDirectional снимает ограничения,
изложенные в пунктах 20 и 21 (не требуется разрешать на рабочих
станциях входящий трафик, и есть возможность работы клиентов
из подсетей, подключающихся через NAT).
23. Обновлено!!! В случае клиент-серверной версии соединение с:
• сервером консультаций компании &laquo;Гарант&raquo; (consulting1.
garant.ru) для отправки запросов на консультации и получения ответов на них;
• сервером revision.garant.ru для проверки доступности
более новых редакций документов в системе ГАРАНТ;
• сервером service.garant.ru для обеспечения возможностей пользователей по самостоятельному заполнению
и редактированию новостных лент ПРАЙМ;
создает только одна машина – та, на которой установлен сервер приложений ГАРАНТа. Остальным компьютерам (клиентским) не требуется соединения с Интернетом для работы
с указанной выше функциональностью. Настройки доступа
в Интернет можно указать (изменить) и после завершения
установки ГАРАНТа. Для этого нужно:
• з апустить на сервере программу настройки доступа к серверу консультаций – %Garant%\apps\
F1ConsultingChecker.exe;
• задать (изменить) в ней настройки доступа в Интернет
(имя и порт прокси-сервера и – если есть – логин и пароль
33
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
на прокси);
• п
роверить работоспособность новых настроек (кнопка
&laquo;Тест&raquo;);
• в случае если сервер консультаций доступен – сохранить
новые настройки (кнопка &laquo;Сохранить настройки&raquo;);
• закрыть программу настройки доступа.
Изменения настроек доступа в Интернет вступят в силу после
перезапуска сервера приложений.
24.Возможность пользования платными консультациями может быть ограничена администратором системы. По умолчанию платные консультации доступны всем пользователям. Через интерфейс Администратора пользователей (см.
пункт 16) можно:
• запретить получение платных консультаций конкретному
пользователю (в этом случае он сможет зарегистрировать
в системе нового пользователя и получить таким образом
доступ к этой услуге);
• запретить получение платных консультаций всем пользователям по умолчанию (включая и вновь регистрируемых)
и разрешать его конкретным доверенным пользователям.
Запрет на получение платных консультаций не затрагивает
возможности получать бесплатные консультации.
Если пользователь, которому запрещено получение платных консультаций, подтвердит свою готовность оплатить консультацию
в форме пришедшего ему уведомления, он увидит сообщение о
недоступности данной услуги и предложение обратиться по этому
поводу к администратору системы. Если администратор системы
разрешит этому пользователю получение платных консультаций,
он сможет повторно подтвердить оплату услуги и получить через
некоторое время ответ консультанта.
25. Существует возможность уменьшать состав комплекта для
отдельных пользователей. Эта возможность может быть
использована в случае, если документы, принадлежащие к
определенным информационным блокам, входящим в состав
установленного комплекта, не интересны этому пользователю (например, региональные документы) или считаются по
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
34
каким-то причинам недопустимыми для просмотра этим пользователем. В результате включения ограничения из списков,
полученных любым поиском, будут исключены документы,
содержащиеся только в запрещенных блоках (если документ
принадлежит как запрещенным, так и разрешенным блокам, он будет по-прежнему доступен пользователю). Перейти на
документы, содержащиеся только в запрещенных блоках, по
ссылке из других документов будет также невозможно. Для
включения ограничения спектра видимых пользователю баз
нужно зайти в Администратор пользователей (см. пункт 16).
В Администраторе пользователей нужно создать (или выбрать
имеющуюся) группу пользователей, поместить в эту группу
всех пользователей, включить ограничения, нажать правой
кнопкой мыши по названию группы и выбрать в появившемся
контекстном меню пункт &laquo;Изменить доступ к информационным блокам&raquo;. В появившемся окне отметить блоки, которые
мы хотим сделать невидимыми для выбранной группы пользователей, и нажать кнопку &laquo;ОК&raquo;. С помощью специального
фильтра &laquo;Не сгруппированные&raquo; можно посмотреть пользователей, которые еще не были присоединены к какой-либо
группе.
26. Если политика безопасности клиента запрещает использование функции Совещание онлайн, ее можно отключить. Для
этого нужно открыть garant.ini серверной части, найти в разделе [F1Server Params] строку -EmbedChatEnabled=1, изменить ее на -EmbedChatEnabled=0, сохранить изменения и
перезапустить службу сервера ГАРАНТ. Обратите особое внимание – Совещание онлайн не потребляет интернет-трафика
и не требует соединения с внешними серверами, чем выгодно
отличается от любого интернет-пейджера. На это следует обратить особое внимание клиента перед принятием решения об
отключении, поскольку, как правило, политика безопасности
предприятия ориентирована именно на предотвращение этих
моментов.
27. Для того, чтобы фильтры пользователя были доступны
остальным пользователям, нужно зайти в Администратор
35
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
пользователей (см. пункт 16), выбрать этого пользователя
и поставить галочку &laquo;Фильтры этого пользователя являются
общими&raquo;. Общие фильтры из предыдущих версий сохраняются в профиле &laquo;Общие фильтры (перенесено из 7.06)&raquo;. Если
удалить этого пользователя или снять галочку &laquo;Фильтры этого
пользователя являются общими&raquo;, то общие фильтры из прошлых версий перестанут быть доступны пользователям. Если
зайти в ГАРАНТ под этим пользователем (пароль пустой),
можно редактировать (удалять) сохраненные общие фильтры.
Обратите внимание на то, что если включен механизм удаления пользователей после периода бездействия, описанный
в пункте 13, то во избежание пропадания общих фильтров
нужно выставить в Администраторе пользователей галочку
&laquo;Не удалять при бездействии&raquo; у пользователя, чьи фильтры
назначены общими.
28. Сетевая клиент-серверная версия обращается к следующим
разделам системного реестра:
• HKEY_CURRENT_USER\Software\Garant.F1;
• HKEY_CURRENT_USER\Software\Garant.F1-Launcher
(создаются на рабочих станциях при первом запуске клиентской оболочки).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
36
СЕТЕВАЯ ФАЙЛ-СЕРВЕРНАЯ ВЕРСИЯ
Краткое описание
Сетевая файл-серверная версия представляет собой набор программных файлов и файлов с данными, расположенных на доступном по сети файловом ресурсе. Запуск файл-серверной версии
сводится к запуску клиентской оболочки на рабочих станциях; выделенная серверная часть отсутствует. Из этого следует возможность устанавливать файл-серверную версию на любые серверы,
вне зависимости от операционной системы, под управлением которой они работают, а также возможность устанавливать и обновлять программные оболочки и данные с любой рабочей станции
под управлением Windows. Отсюда же следует и функциональное ограничение файл-серверной версии по сравнению с клиентсерверной – невозможность обмена папками и закладками между
пользователями, а также ряд других ограничений. В частности, использование файл-серверной версии порождает ощутимо больший
(по сравнению с клиент-серверной) сетевой трафик при запуске и
работе, что приводит к снижению ее быстродействия по сравнению
с клиент-серверной версией, особенно заметному в сетях с низкой
пропускной способностью. Из-за этих ограничений файл-серверной
версии устанавливать ее рекомендуется только в случаях, когда
установка клиент-серверной версии невозможна, например когда
отсутствует компьютер под управлением Windows XP и выше, отвечающий минимальным требованиям клиент-серверной версии.
Особенности установки, обновления и функционирования
1. Установку как оболочки, так и информационного банка файлсерверной версии можно производить с любой рабочей станции под управлением Windows, с которой доступен с правами
на запись ресурс, выделенный для ГАРАНТа.
2. Для работы инсталлятора оболочки требуются администраторские права на компьютер, на котором он запускается.
3. Для обновления и установки информационного банка предназначены следующие программы: Мастер установки данных
37
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
(%Garant%\datasetup.exe), программа пакетного пополнения (%Garant%\dataupd.exe), программа загрузки файлов
пакетного пополнения (%Garant%\download.exe). Подробное описание этих программ см. во встроенном файле справки (%Garant%\Help\F1DataTools.chm). Для их запуска не
требуется никаких дополнительных прав, кроме прав записи
в каталог %Garant% (и его подкаталоги).
Удобнее всего использовать пакетное обновление в автоматическом режиме (автоматическое скачивание и применение файлов обновления, запускаемое в заданное время,
например по ночам). Для включения и настройки параметров автоматического обновления предназначена программа %Garant%\apps\F1EasyUpdate. Подробнее – см.
встроенную справку к программе F1EasyUpdate. Программа
должна запускаться непосредственно на том компьютере,
на котором установлена файл-серверная версия. Оболочка
системы ГАРАНТ должна быть закрыта во время запуска
автоматического обновления.
4. Для установки запустите F1Setup.exe из каталога GARANT
на дистрибутиве и следуйте дальнейшим инструкциям (вам
предложат выбрать каталог для установки).
5. На последнем шаге работы инсталлятора запустится конфигуратор эталонных настроек доступа в Интернет (для отправки
и получения консультаций). В большинстве случаев эти настройки будут определены автоматически и никаких действий
от установщика не потребуется (не исключено, что окно промелькнет так быстро, что вы не заметите его). Автоматически
могут определиться только настройки доступа в Интернет того
компьютера, на котором запускается инсталлятор. В случае
если автоматически настройки Интернета не определились,
покажется диалоговое окно, в котором можно указать порт
и адрес используемого для подключения к Интернету прокси-сервера, а также (в случае если используется авторизация
на прокси) логин и пароль на прокси. Проверить введенные
настройки можно нажатием кнопки &laquo;Тест&raquo;. Если тест показал, что сервер консультаций доступен, нужно сохранить на-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
38
стройки (кнопка &laquo;Сохранить настройки&raquo;) и нажать кнопку
&laquo;Закрыть&raquo;.
Внимание!!! В случае файл-серверной версии соединение
с сервером консультаций НПП &laquo;Гарант-Сервис&raquo; будет устанавливаться с каждой рабочей станции, на которой отправляются консультации и принимаются ответы на них. При первом
запуске файл-серверной версии на рабочей станции с сервера
скопируются эталонные настройки, указанные при инсталляции файл-серверной версии. Настройки доступа в Интернет в принципе могут быть различными для разных рабочих
станций. Поэтому настройки доступа в Интернет хранятся
в домашнем каталоге ГАРАНТа на каждой рабочей станции.
Поэтому может потребоваться настройка доступа в Интернет
на рабочих станциях (см. пункты 13, 14). Если в организации
используется прокси с авторизацией, будет удобно завести на
прокси-сервере специальный одинаковый для всех аккаунт для
пользователей ГАРАНТа и указать его при инсталляции файлсерверной версии (чтобы не указывать настройки авторизации
на прокси на каждой рабочей станции).
6. Для работы клиентов файл-серверной версии нужно, чтобы
им был доступен с правами на чтение ресурс с установленным
ГАРАНТом.
7 Процедура первого запуска сетевой файл-серверной версии
максимально упрощена для того, чтобы пользователи прошли
ее самостоятельно. Каких-либо дополнительных прав на пользовательский компьютер и, соответственно, вмешательства
администратора не требуется.
8. Запуск системы ГАРАНТ на рабочих станциях сводится к запуску программы garant.exe из доступного по сети каталога
%Garant%. При первом запуске на клиентском компьютере на
рабочем столе автоматически создается ярлык для запуска Платформы F1. Также при первом запуске предлагается выбор каталога для сохранения пользовательских настроек (по умолчанию
– %Application Data%\Garant-NET). После выбора каталога
происходит копирование настроек и автоматическая регистра-
39
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ция пользователя в системе (с логином ADMINISTRATOR и
паролем ADMINISTRATOR). При первом запуске автоматически
выставляется параметр &laquo;Автоматический вход в систему&raquo; (его
можно изменить при помощи пункта меню &laquo;Файл&raquo; в оболочке),
следовательно, при последующих запусках системы пользователю
не придется вводить свои логин и пароль (если только он не отменит этот параметр).
С целью сокращения времени запуска и уменьшения сетевого трафика при запуске реализовано кеширование исполняемых файлов. При первом запуске garant.exe происходит
копирование исполняемых файлов в каталог, выбранный для
сохранения пользовательских настроек, на пользовательском
компьютере. При последующих запусках исполняемые файлы
запускаются уже из этого локального каталога. Версия закешированных исполняемых файлов проверятся и автоматически
обновляется при необходимости. Если при запуске ГАРАНТа
данные файлы будут отсутствовать, то копирование запустится
повторно. Данная функциональность включена по умолчанию,
отключить ее можно в garant.ini, раскомментировав строку
LocalCacheEnabled=0 в секции [Launcher]. Удалить каталог
пользовательских настроек можно через стандартный механизм &laquo;Установки/удаления программ&raquo; или запуском утилиты %appdata%\Garant-NET\settings\gclean.exe. Список
копируемых файлов перечислен в разделе [Updates] файла
garant.cache из каталога с клиентской частью.
9. При помощи редактирования файла garant.ini установленной файл-серверной версии можно настроить под свои нужды
процедуру первого запуска оболочки на рабочих станциях, а
именно:
• Параметр ShowCreateDesktopShortcutsDialog= в разделе
[Default]
Y
es (предлагается по умолчанию) – выдается диалог,
запрашивающий при первом запуске подтверждение
на создание ярлыка на garant.exe на рабочем столе;
No – диалог не выводится.
• П араметр CreateDesktopShortcuts= в разделе
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
40
[Default]. Действует только в случае, если ShowCre
ateDesktopShortcutsDialog=No, в противном случае игнорируется.
Y
es (предлагается по умолчанию) – при первом запуске создается ярлык на рабочем столе (и диалог не
показывается);
N
o – ярлык не создается (и диалог не показывается).
• Параметр ShowInstallRootDialog= в разделе [Launcher]
Y
es (предлагается по умолчанию) – показывается диалог, запрашивающий путь к каталогу с настройками;
No – диалог не показывается.
• Параметр DefaultDirectory= в разделе [Launcher]
По умолчанию – $(DefaultPath)\Garant-NET, где
$(DefaultPath) равен %Application Data%. Можно изменить
значение этого параметра – тогда при первом запуске оболочки
на каждой рабочей станции настройки будут по умолчанию
сохраняться в указанный в ini-файле каталог. Например, если
указать ShowInstallRootDialog=No и DefaultDirectory=C:\
garant.net – при первом запуске на всех рабочих станциях
без запроса каких бы то ни было подтверждений произойдет
сохранение настроек в каталог C:\garant.net.
10.На каждой рабочей станции можно зарегистрировать несколько пользователей ГАРАНТа (с тем, чтобы каждый
пользователь, имеющий доступ к этому компьютеру, имел
возможность работать с собственными настройками в системе ГАРАНТ). Для регистрации нового пользователя нужно
снять галочку с пункта &laquo;Автоматический вход в систему&raquo; в
настройках, закрыть систему, снова запустить ее и выбрать
пункт &laquo;Новый пользователь&raquo; в диалоговом окне &laquo;Вход в
систему ГАРАНТ&raquo;.
11. Для работы с учетными записями пользователей на каждой
рабочей станции предназначен Администратор пользователей. С его помощью можно создавать пользователей, удалять
их, редактировать учетные записи (менять пароли, имена,
адреса электронной почты пользователей), а также регулировать доступ пользователей к платным консультациям. Кроме
41
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
того, можно запретить самостоятельную регистрацию пользователей в системе для данной рабочей станции (может потребоваться для запрета доступа к платным консультациям
пользователям данной рабочей станции (см. также пункт 16).
Для входа в интерфейс администратора нужно запустить файл
garant.exe с параметром f1admin и войти в систему с логином
ADMIN и паролем по умолчанию – ADMIN. Менять этот пароль
администратора не рекомендуется. Пример запуска интерфейса
администратора: %GARANT%\garant.exe f1admin.
Пользователь может самостоятельно изменять свои учетные данные в системе: пароль, ФИО, электронную почту.
Для этого в запущенной оболочке программы нужно выбрать пункт меню &laquo;Файл / Изменить мои регистрационные
данные&raquo;.
12. Подробное описание оболочки ГАРАНТ см. во встроенном
файле справки – %Garant%\Help\F1Shell.chm.
13. На каждой рабочей станции можно в любой момент изменить
настройки доступа системы ГАРАНТ в Интернет для этой
рабочей станции (например, указать отличный от эталонного
адрес прокси-сервера или ввести пользовательский логин и
пароль на прокси). Для этого нужно:
• запустить на рабочей станции программу настройки
доступа к серверу консультаций – %Garant%\apps\
F1ConsultingChecker.exe;
• задать (изменить) в ней настройки доступа в Интернет
(имя и порт прокси-сервера и – если есть – логин и пароль
на прокси);
• проверить работоспособность новых настроек (кнопка
&laquo;Тест&raquo;);
• в случае если сервер консультаций доступен, сохранить
новые настройки (кнопка &laquo;Сохранить настройки&raquo;);
• закрыть программу настройки доступа.
Изменения настроек доступа в Интернет вступят в силу после
перезапуска оболочки ГАРАНТ на этой рабочей станции.
14. Кроме того, есть возможность централизованно изменить на-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
42
стройки доступа в Интернет для всех пользователей файлсерверной версии, не изменявших эти настройки самостоятельно (то есть для тех, кто не запускал на своем компьютере
утилиту F1ConsultingChecker). Для этого нужно:
• запустить утилиту F1ConsultingChecker.exe c ключом –
4all (при запуске с этим ключом утилита будет сохранять
настройки не в домашний каталог, а в каталог с эталонными
настройками в серверной части – %Garant%\Settings\
garant.ini);
• вписать в полях настройки этой утилиты нужные параметры (адрес и порт прокси-сервера, данные для авторизации
на прокси – в случае надобности);
• сохранить изменения.
После этого на всех компьютерах, на которых не задавались отдельно настройки прокси (не запускался
F1ConsultingChecker), оболочки начнут запускаться с измененными параметрами доступа к прокси-серверу.
15.Программа проверки соединения (F1ConsultingChecker),
а позже и оболочка ГАРАНТ устанавливают соединение
с сервером консультаций, находящимся в НПП &laquo;ГарантСервис&raquo;. Адрес этого сервера консультаций в настоящее
время – consulting1.garant.ru. Соединение устанавливается по 80-му порту, поэтому в большинстве случаев
особых (отличных от разрешений для браузера Интернета) разрешений для такого соединения не потребуется.
Однако не исключено, что для корректной работы консультаций в ГАРАНТе в фаерволе на рабочих станциях потребуется разрешить установление такого соединения для
F1ConsultingChecker и оболочки ГАРАНТ.
16. Возможность пользования платными консультациями может
быть ограничена администратором системы. По умолчанию
платные консультации доступны всем пользователям. Через
интерфейс Администратора пользователей (см. пункт 11), запущенный на каждой рабочей станции, можно:
• запретить получение платных консультаций конкретному
пользователю на данной рабочей станции (в этом случае он
сможет зарегистрировать в системе нового пользователя
43
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
и получить таким образом доступ к этой услуге);
• з апретить по умолчанию получение платных консультаций
всем пользователям на данной рабочей станции (включая
и вновь регистрируемых) и разрешать его конкретным доверенным пользователям.
Запрет на получение платных консультаций не затрагивает
возможности получать бесплатные консультации. Если пользователь, которому запрещено получение платных консультаций, подтвердит свою готовность оплатить консультацию
в форме пришедшего ему уведомления, он увидит сообщение
о недоступности данной услуги и предложение обратиться по
этому поводу к администратору системы. Если администратор
системы разрешит этому пользователю получение платных
консультаций, он сможет повторно подтвердить оплату услуги
и получить через некоторое время ответ консультанта.
Кроме того, администратор системы может запретить использование консультаций (и платных, и бесплатных) для конкретных пользователей или же для всех пользователей сети, за
исключением доверенных лиц, путем регулирования доступа к
серверу консультаций (consulting1.garant. ru, порт 80). Запрет
на доступ к этому серверу приведет к недоступности консультационных услуг.
17. Сетевая файл-серверная версия обращается к следующим разделам системного реестра:
• HKEY_CURRENT_USER\Software\Garant.F1;
• HKEY_CURRENT_USER\Software\Garant.F1-Launcher
(создаются на рабочих станциях при первом запуске оболочки).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
44
ПЕРЕХОД НА ВЕРСИЮ
ГАРАНТ аэро 7.10.1
С ВЕРСИИ ГАРАНТ аэро 7.9
ОБНОВЛЕНИЕ ИНСТАЛЛЯЦИОННЫХ КОМПЛЕКТОВ
ОБНОВЛЕНИЕ МОБИЛЬНЫХ КОМПЛЕКТОВ
ОБНОВЛЕНИЕ РАБОЧИХ КОМПЛЕКТОВ
ФОРМАТЫ ДАННЫХ, НАСТРОЕК, ДЕЛЬТ
45
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОБНОВЛЕНИЕ ИНСТАЛЛЯЦИОННЫХ КОМПЛЕКТОВ
Внимание!!! Не следует удалять какие-либо файлы перед обновлением системы ГАРАНТ.
Внимание!!! Не следует запускать программу деинсталляции системы ГАРАНТ перед установкой более новой версии.
Внимание!!! Не следует редактировать какие-либо разделы системного реестра Windows перед обновлением системы
ГАРАНТ.
Нарушение вышеуказанных правил может привести к потере
пользовательских настроек.
С учетом приведенных выше правил процесс обновления инсталляционных комплектов системы ГАРАНТ всегда производится по
одной и той же схеме:
1) запускается Мастер установки данных (через ярлык &laquo;Установка данных&raquo; из программной группы &laquo;ГАРАНТ/Информационный банк&raquo; или файл datasetup.exe) (находится в корне
каталога с установленным ГАРАНТом);
2) если программа установки данных обнаружит на дистрибутиве
более новую версию оболочки ГАРАНТ, она сообщит вам об
этом и предложит запустить инсталлятор программной оболочки;
3) при обновлении установленной на компьютер версии инсталлятор автоматически определит параметры прошлой установки и вам не придется вводить их снова – достаточно просто
подтверждать определенные автоматически параметры установки, нажимая кнопку &laquo;Далее&raquo; в инсталляторе.
То есть обновление инсталляционных комплектов системы
ГАРАНТ всегда производится поверх имеющейся версии, без каких-либо дополнительных действий, в тот же каталог и с теми же
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
46
параметрами, что указывались при прошлой установке. Параметры определяются инсталлятором автоматически.
Точно таким же способом следует производить и обновление инсталляционных комплектов с версии 7.9 на версию 7.10.1.
В Мастере установки данных ГАРАНТ реализована функция автоматического получения отзыва на пароль через Интернет. После
выбора комплекта для установки сформированный пароль отправляется на сервер паролей НПП &laquo;Гарант-Сервис&raquo; http://datasetup.
garant.ru. Далее сервер передает Мастеру установки данных отзыв
на пароль, после чего установка данных начинается автоматически
(получение отзыва по телефону не требуется).
По умолчанию для выхода в Интернет используются настройки
браузера Internet Explorer. Если для выхода в Интернет для Мастера установки данных требуется указать настройки прокси-сервера, отличные от настроек, заданных в Internet Explorer, нажмите
кнопку &laquo;Настройки&raquo; в окне выбора комплекта и задайте нужные
настройки прокси-сервера в появившемся окне.
Внимание!!! Получение отзыва на пароль через Интернет работает
для каждого дистрибутива только один раз.
В случае невозможности получения отзыва на пароль по какойлибо причине (отсутствует соединение с Интернетом, отзыв для
данного дистрибутива запрашивается повторно, какие-то другие непредвиденные проблемы) Мастер установки данных (как
и раньше) выдаст окно для ручного ввода отзыва. Получить этот
отзыв (как и прежде) нужно по телефону.
Если соединение с Интернетом есть и отзыв для данного дистрибутива запрашивается в первый раз, но получение отзыва на пароль
в автоматическом режиме не происходит, обратитесь, пожалуйста,
к техническим специалистам вашей организации. Для анализа им
потребуется файл %GARANT%\LOGS\datasetup.log и содержимое каталога %GARANT%\LOGS\DATASETUP.
47
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОБНОВЛЕНИЕ МОБИЛЬНЫХ КОМПЛЕКТОВ
Если обновление мобильной версии происходит сменой носителя,
то обновление с мобильной версии 7.9 на версию 7.10.1 произойдет
так же как обычное обновление данных версии 7.9 — отключением
старого носителя и подключением нового.
Если носитель (флеш-накопитель или переносной жесткий диск)
у пользователя один, процедура перехода со старой версии на
новую будет иной – нужно удалить имеющиеся на носителе файлы оболочки и данных старой версии, затем скопировать на них
файлы оболочки и данных новой версии. Подробнее об этом написано в &laquo;Инструкции по обновлению мобильной версии системы
ГАРАНТ&raquo;.
Последующие обновления данных в версии 7.10.1 будут производиться точно так же, как в версии 7.9 (это описано в &laquo;Инструкции
по обновлению мобильной версии системы ГАРАНТ&raquo;).
ОБНОВЛЕНИЕ РАБОЧИХ КОМПЛЕКТОВ
Переход с рабочих DVD-дисков версии 7.9 на рабочие DVD-диски
версии 7.10.1 сводится (как обычно) к замене старого диска на
новый.
ФОРМАТЫ ДАННЫХ, НАСТРОЕК, ДЕЛЬТ
Также при обновлении с версии 7.9 на версию 7.10.1 полезно знать
следующие подробности:
1) Формат пользовательских настроек изменился. Оболочка
версии 7.9 не будет корректно работать с настройками версии
7.10.1, и наоборот.
2) Настройки пользователей по умолчанию изменились. При
первом запуске оболочки после обновления до версии 7.10.1
пользователи увидят соответствующее сообщение.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
48
3) Формат данных изменился – оболочка 7.10.1 не будет работать с
данными 7.9, и наоборот. Это означает, что пользователям версии
7.9 (включая пакетно обновляющихся пользователей) необходима не только переустановка оболочки, но и переустановка данных.
4) Формат дельт по сравнению с версией 7.9 изменился – после
установки версии 7.10.1 пакетно обновляющимся пользователям требуется перерегистрировать дельты на Сервере Пакетных
Пополнений. Это произойдет автоматически после заказа комплекта в АРМе на версию 7.10.1 и установки для этого комплекта в АРМе статуса &laquo;установлен&raquo;.
49
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОПИСАНИЕ
МАСТЕРА УСТАНОВКИ ДАННЫХ
ПРОГРАММЫ УСТАНОВКИ
ОПИСАНИЕ МАСТЕРА УСТАНОВКИ ДАННЫХ
ПОРЯДОК ДЕЙСТВИЙ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
50
ПРОГРАММЫ УСТАНОВКИ
Установка системы ГАРАНТ состоит из двух шагов:
• установка программной оболочки;
• установка информационного банка.
Предусмотрено два вида обновления информационного банка:
• обновление с дистрибутива, с полной заменой предыдущей
версии информационного банка;
• пакетное пополнение, при котором происходит обновление
информационного банка на основе данных только о новых
и измененных документах.
Процедура пакетного обновления состоит из следующих этапов:
• определение интервала времени, за который требуется получить обновление;
• получение дельт за этот интервал;
• применение полученных дельт к базе данных.
Данное справочное руководство посвящено описанию программ,
используемых для установки и обновления системы ГАРАНТ.
В их числе:
• Мастер установки оболочки;
• Мастер установки данных;
• Мастер установки пакетного пополнения;
• Мастер загрузки пакетного пополнения.
ОПИСАНИЕ МАСТЕРА УСТАНОВКИ ДАННЫХ
Назначение
Мастер установки данных предназначен для установки или переустановки (обновления) информационного банка системы
ГАРАНТ с дистрибутива.
51
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Запуск
Запуск Мастера установки данных может быть выполнен двумя
способами:
1) через программную группу, созданную при установке программных оболочек – &laquo;ГАРАНТ (...)&raquo; (&laquo;Пуск&raquo; -&gt; &laquo;Программы&raquo; -&gt; &laquo;ГАРАНТ (Сервер)&raquo;, например).
Запуск Мастера установки данных из программной группы
2) из каталога, куда установлена система ГАРАНТ. Формат команды для запуска через &laquo;Пуск&raquo;-&gt; &laquo;Выполнить&raquo;:
&lt;Garant-F1 path&gt;\DataSetup.exe.
Для запуска Мастера с английским интерфейсом следует использовать параметр &laquo;-eng&raquo;.
В зависимости от типа оболочки программа предлагает различную последовательность диалоговых окон. Шаги для всех трех
видов рассмотрены в разделе &laquo;Порядок действий&raquo;, а пояснения
к прочим диалоговым окнам приведены в разделе &laquo;Сообщения
программы&raquo;.
ПОРЯДОК ДЕЙСТВИЙ
Порядок действий зависит от типа установленной оболочки. Ниже
перечислены последовательности шагов для:
• локальной оболочки;
• клиент-серверной оболочки;
• файл-серверной оболочки.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
52
Локальная оболочка
Установку/обновление данных локальной версии необходимо производить с правами полного доступа к каталогу, в который установлена
система ГАРАНТ. Порядок действий следующий:
• шаг 1. Выбор клиента и продукта – вам будет предложено
выбрать информационный банк, который следует установить,
или он будет выбран автоматически в случае обновления;
• шаг 2. Авторизация данных по схеме &laquo;пароль-отзыв&raquo; – вас
попросят ввести отзыв на пароль для проверки легальности
установки;
• шаг 3. Отключение пользователей – на этом этапе вам будет предложено отключить пользователей на время обновления базы;
• шаг 4. Выбор параметров установки – вам будет предложено
выбрать степень упакованности данных;
• шаг 5. Копирование данных – на этом этапе произойдет копирование файлов базы с преобразованием их в формат, понятный программной оболочке;
• шаг 6. Завершение установки – в случае успешной установки
будет выведено сообщение об этом, а также вам будет предложено завершить работу Мастера установки данных.
Клиент-серверная оболочка
Установку/обновление данных клиент-серверной версии можно
производить как непосредственно на сервере, так и с удаленной
рабочей станции. При этом пользователю рабочей станции достаточно прав на чтение содержимого каталога, куда установлена
серверная часть системы ГАРАНТ и откуда запускается Мастер
установки данных. Ниже приведен порядок действий по установке\ обновлению данных с рабочей станции:
53
• шаг *. Авторизация пользователя – вас попросят ввести логин
и пароль администратора системы ГАРАНТ;
• шаг 1. Выбор клиента и продукта – вам будет предложено
выбрать информационный банк, который следует установить,
или он будет выбран автоматически в случае обновления;
• шаг 2. Авторизация данных по схеме &laquo;пароль-отзыв&raquo; – вас
попросят ввести отзыв на пароль для проверки легальности
установки;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
• шаг 3. Выбор временного каталога – вам будет предложено
выбрать каталог на локальном диске, куда будут скопированы
данные с дистрибутива;
• шаг 4. Выбор параметров установки – вам будет предложено
выбрать степень упакованности данных;
• шаг 5. Копирование данных – на этом этапе произойдет копирование файлов базы с преобразованием их в формат, понятный программной оболочке;
• шаг 6. Отключение пользователей – на этом этапе вам будет предложено отключить пользователей на время обновления базы;
• шаг 7. Копирование данных на сервер – на этом этапе произойдет копирование преобразованных на шаге 5 файлов
базы из каталога, выбранного на шаге 3, в каталог на сервере,
где установлена программная оболочка;
• шаг 8. Завершение установки – в случае успешной установки
будет выведено сообщение об этом, а также вам будет предложено завершить работу Мастера установки данных.
Порядок действий при запуске Мастера установки данных на
сервере выглядит так же, как и для случая установки\ обновления локальной оболочки. Это обусловлено тем, что копирование
данных будет производиться сразу в нужный каталог.
Файл-серверная оболочка
Установку/обновление данных файл-серверной версии можно
производить с любой машины локальной сети под операционной
системой семейства Windows. При этом пользователю необходимы полные права доступа к каталогу, куда установлена файлсерверная система ГАРАНТ.
Порядок действий такой же, как и для случая локальной оболочки.
Прочие сообщения рассмотрены в разделе &laquo;Сообщения
программы&raquo;.
Авторизация пользователя
Окно выводится, если пароль для пользователя ADMIN отличается от значения по умолчанию.
По умолчанию для администратора действительны следующие
параметры входа в систему:
• имя пользователя: ADMIN;
• пароль: ADMIN.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
54
Для работы с Мастером установки данных в системе ГАРАНТ
предусмотрен специальный пользовательский профиль администратора.
Для продолжения работы вам нужно ввести имя пользователя
и пароль этого профиля в соответствующие поля диалогового
окна, а затем нажать кнопку &laquo;Далее&raquo;.
Пример авторизации пользователя
Регистр вводимых символов имеет значение.
Выбор клиента и продукта
На этом шаге Мастер установки определяет и отображает список
пользователей, для которых предназначается данный дистрибутив.
Развернув пиктограммой &laquo;+&raquo; соответствующий раздел списка,
можно увидеть комплекты информационных блоков, записанные
на дистрибутив для данного пользователя. Выберите комплект
для установки и нажмите кнопку &laquo;Далее&raquo;.
Также на этом этапе можно вызвать окно настройки проксисервера для получения отзыва на пароль через интернет (кнопка
&laquo;Настройки&raquo;).
55
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Пример выбора комплекта
Параметр &laquo;Установка потребует&raquo; означает объем нераспакованного комплекта &laquo;ГАРАНТ-Практик&raquo;.
Имя присваивается комплекту для упрощения идентификации
нужного комплекта в группе нескольких комплектов. Обычно
это осмысленное название, отражающее наполнение комплекта
или несущее другую полезную информацию. Имя особенно полезно, когда в одной организации устанавливается более одного
комплекта.
Например, имя &laquo;Строительство дороги&raquo; может быть присвоено комплекту, содержащему подборку информационных блоков
строительной тематики или предназначенному для установки
в инженерном подразделении компании.
Авторизация данных по схеме &laquo;пароль-отзыв&raquo;
Для получения отзыва следует обратиться в обслуживающую вас
организацию, сообщить ваши регистрационные данные и продик-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
56
товать пароль, который вы видите на экране. Полученный отзыв
введите в соответствующее поле и нажмите кнопку &laquo;Далее&raquo;. Программа начнет процедуру установки.
При вводе неверного отзыва программа выдаст сообщение и предложит ввести корректный отзыв.
Авторизация данных по схеме &laquo;пароль-отзыв&raquo;
Для авторизации комплекта &laquo;ГАРАНТ-Мастер. ПРАЙМ&raquo; необходимо ввести отзыв на пароль 174-297-584-478-302-336-47. Отзыв можно
получить в обслуживающей организации по телефону 647-62-38.
Выбор временного каталога
Окно выводится при следующих условиях:
• тип оболочки: сетевая клиент-серверная;
• обновление запускается с клиентской машины.
На данном этапе вас попросят указать временный каталог, в который будет выполнено промежуточное копирование данных с дистрибутива. На выбранном диске должно быть достаточно свободного
места, объем которого приводится в диалоговом окне программы.
57
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Пользователю необходимы полные права доступа на этот каталог.
По умолчанию предлагается корневой каталог диска C:.
Выбор временного каталога для копирования данных
Отключение пользователей
Мастер установки предложит отключить пользователей, работающих с информационным банком, для проведения обновления.
В случае отключения:
• работающим в системе пользователям будет предложено сохранить результаты работы и выйти из системы, в противном
случае они будут отключены от системы автоматически по
истечении времени ожидания;
• работа пользователей с системой ГАРАНТ будет блокирована
до окончания обновления информационного банка.
Если пользователи не будут отключены на время обновления,
они смогут продолжить работу с системой и будут переключены
на обновленную версию информационного банка по завершении
работы Мастера установки данных.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
58
Если не отключать пользователей, программа будет выполнять
установку данных в параллельный каталог, что потребует дополнительного объема дискового пространства в размере устанавливаемого информационного банка.
Диалоговое окно &laquo;Отключение пользователей&raquo;
После нажатия кнопки &laquo;Далее&raquo; начнется установка данных, во время которой пользователи смогут продолжить работу с системой.
Выбор параметров установки
На этом этапе вам предлагается выбрать тип упаковки устанавливаемых
данных: в упакованном или распакованном виде. Программные оболочки могут работать с базой данных в любом виде, а при выборе типа
упаковки нужно руководствоваться следующими соображениями:
• установка базы в упакованном виде – это экономия дискового пространства, которая может быть вполне ощутима при
установке комплектов большого размера;
• к комплекту, установленному в сжатом виде, неприменима
процедура пакетного пополнения.
59
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Распаковать установленный комплект в процессе работы нельзя.
Для изменения типа упаковки можно только переустановить данные, выбрав вариант с распаковкой.
Выбор типа упаковки данных
Предлагается выбрать тип упаковки данных. При нажатии &laquo;Да&raquo;
– информационный банк будет установлен в распакованном виде,
а объем, занимаемый им на жестком диске, составит 461 Мб. При
выборе &laquo;Нет&raquo; объем, занимаемый информационным банком
в упакованном виде, будет всего 304 Мб, однако к такой базе неприменимо пакетное пополнение.
Копирование данных
На этом этапе Мастер установки данных копирует информационный банк с дистрибутива на ваш диск.
Время, требуемое для установки, зависит от множества факторов
(объем комплекта, производительность ПК, пропускная способность сети, способ установки и т. д.) и не может быть заранее определено. Однако в заголовке программы отображается общий
процент выполнения установки, а также исчисляется оставшееся
на диске свободное место.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
60
Выполнение процедуры копирования данных
Программа выполняет установку выбранного комплекта. 36% данных уже скопировано. В настоящий момент идет копирование
файла DATA.ndt. На диске осталось свободно 1528 Мб.
Копирование базы на сервер
Окно выводится при следующих условиях:
• тип оболочки: сетевая клиент-серверная;
• обновление запускается с клиентской машины.
На этом этапе выполняется копирование обновленной базы
непосредственно на сервер.
Копирование базы на сервер
61
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Завершение установки
Данный диалог выводится в завершение установки данных. Отображается время, затраченное на установку, и объем свободного
дискового пространства, оставшегося на диске. Нажмите кнопку
&laquo;Выход&raquo;, чтобы завершить работу программы установки.
При обновлении информационного банка, если не были отключены пользователи, при нажатии кнопки &laquo;Выход&raquo; происходит
переключение пользователей на обновленную версию базы. Это
может привести к неожиданному для пользователя, работающего
в системе, переходу в Основное меню системы.
Завершение установки данных
Работа Мастера установки данных продолжалась 4 минуты 31 секунду. После установки информационного банка на жестком диске
осталось 1696 Мб.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
62
ОПИСАНИЕ МАСТЕРА ЗАГРУЗКИ
ПАКЕТНОГО ПОПОЛНЕНИЯ
НАЗНАЧЕНИЕ
ЗАПУСК
ПОРЯДОК ДЕЙСТВИЙ
АВТОМАТИЧЕСКИЙ РЕЖИМ РАБОТЫ
РЕЖИМ ДОКАЧКИ
63
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
НАЗНАЧЕНИЕ
Мастер загрузки пакетного пополнения предназначен для загрузки файлов пакетного пополнения (обновлений) системы ГАРАНТ
по сети Интернет. Программа подключается к серверу пакетного
пополнения, определяет версию установленного у вас информационного банка и загружает необходимые файлы в указанный
вами каталог.
ЗАПУСК
Запуск Мастера загрузки пакетного пополнения может быть выполнен двумя способами:
• Через программную группу, созданную при установке программных оболочек – &laquo;ГАРАНТ (...)&raquo; (&laquo;Пуск&raquo; -&gt; &laquo;Программы&raquo;
-&gt; &laquo;ГАРАНТ (Сервер)&raquo;, например).
Запуск Мастера загрузки пакетного пополнения из программной
группы
• из каталога, куда установлена версия ГАРАНТ. Формат
команды для запуска через &laquo;Пуск&raquo; -&gt; &laquo;Выполнить&raquo;:
&lt;Garant-F1 path&gt;\Download.exe
Для запуска Мастера с английским интерфейсом следует использовать параметр &laquo;-eng&raquo;.
Диалог программы (для общего случая) рассмотрен по шагам
в разделе &laquo;Порядок действий&raquo;. Пояснения к прочим сообщениям
приведены в разделе &laquo;Сообщения программы&raquo;. Программа также
поддерживает автоматический режим работы и работу в режиме
докачки.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
64
ПОРЯДОК ДЕЙСТВИЙ
В общем случае процесс загрузки пакетного пополнения данных
состоит из перечисленных ниже шагов:
• шаг 1. Подключение к серверу – вам будет предложено указать регистрационные данные для подключения к серверу
пакетного пополнения, а также при необходимости настроить
Мастер в соответствии с особенностями подключения вашего
компьютера к Интернету;
• шаг 2. Настройка параметров – вам предложат выбрать параметры загружаемого обновления;
• шаг 3. Подготовка данных – запрос будет проанализирован
сервером. При наличии на сервере необходимых для пакетного пополнения данных вам будет предложено продолжить
загрузку;
• шаг 4. Загрузка данных – на этом шаге происходит загрузка
(скачивание) дельт с сервера;
• шаг 5. Завершение загрузки данных – в случае успешной
загрузки будет выведено сообщение об этом.
Шаг 1. Подключение к серверу
Для авторизации на сервере следует ввести логин и пароль, которые вы получили от менеджера обслуживающей вас организации.
Программа запомнит введенные данные и при последующих запусках будет использовать их по умолчанию.
65
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Подключение к серверу
Для авторизации на сервере пакетного пополнения введены логин
login и пароль password.
Для доступа в Интернет программа использует соответствующие
настройки операционной системы. К таким настройкам относится,
например, адрес прокси-сервера, который обеспечивает доступ
к внешним интернет-ресурсам. Просмотреть или изменить эти
параметры можно в окне настроек веб-браузера Internet Explorer
или Пуск(Start): Панель управления(Control Panel): Свойства обозревателя (Internet Options): вкладка &laquo;Подключение&raquo;
(Connections).
Кнопка &laquo;Настройки&raquo; позволит в случае необходимости указать
параметры подключения Мастера загрузки пакетного пополнения
к Интернету вручную.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
66
Настройки подключения к серверу
Мастер загрузки пакетного пополнения будет подключаться к
Интернету через порт 8080 прокси-сервера proxy.server.ru. Доступ
в Интернет через этот прокси может быть осуществлен пользователем user, авторизованным с паролем password.
Шаг 2. Настройка параметров
После успешного подключения к серверу вам будет предложено
настроить параметры загружаемого пакетного пополнения:
• если вы подписаны на несколько комплектов, то вы сможете
выбрать тот из них, для которого следует загрузить обновление;
• интервал дат, за который нужно получить обновление, формируется программой автоматически на основе версии текущего (установленного в данном каталоге системы ГАРАНТ)
комплекта. В качестве даты &laquo;c&raquo; подставляется версия данного информационного банка, а в качестве даты &laquo;по&raquo; – текущая
дата.
Изменять предложенные даты не рекомендуется, поскольку пробелы в обновлении комплекта недопустимы.
67
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
На этом же шаге можно указать каталог, в который следует поместить загружаемые файлы пакетного пополнения.
По умолчанию предлагается подкаталог Delta, папки, в которую
установлен ГАРАНТ.
Настройка параметров
При нажатии кнопки &laquo;Начать&raquo; на сервер будет отправлен запрос
на получение пакетного пополнения с 31.01.2006 по 28.02.2007 для
комплекта &laquo;ГАРАНТ-Максимум&raquo;. При загрузке сформированная дельта будет сохранена в каталог C:\Program Files\GarantServer\delta.
Шаг 3. Подготовка данных
На этом этапе сервер пакетного пополнения анализирует параметры запроса.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
68
Анализ запроса сервером
В случае если дельта с указанными параметрами может быть
сформирована, у вас будет запрошено подтверждение загрузки,
в котором также будут указаны имя загружаемого файла и его
размер в байтах.
Подтверждение закачки
Сервером формируется файл пакетного пополнения 49165с.zip
размером 97526908 байт, который будет загружен при нажатии
кнопки &laquo;OK&raquo;.
69
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Шаг 4. Загрузка данных
На этом этапе происходит формирование и загрузка пакетного
пополнения. Статус-индикатор выполнения операции позволяет
судить о завершенности процесса получения данных.
Непосредственно после перехода на данную страницу возможна
некоторая пауза, связанная с ожиданием отклика сервера. В это
время сервер формирует заказанный вами файл обновления, что
может потребовать от нескольких секунд до одной-двух минут, в
зависимости от объема запрашиваемой информации и загрузки
сервера.
Загрузка данных
Шаг 5. Завершение загрузки
Данный диалог выводится в завершении успешной загрузки пакетного пополнения. Для подключения дельт к информационному банку, следует запустить Мастер установки пакетного пополнения.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
70
Завершение загрузки пакетного пополнения
АВТОМАТИЧЕСКИЙ РЕЖИМ РАБОТЫ
Параметры запуска
Данные при автоматическом запуске программа берет из конфигурационного файла, поэтому для сохранения настроек регистрационных данных пользователя и параметров подключения ее
необходимо хотя бы один раз подключить к серверу пакетного
пополнения вручную и успешно загрузить обновление.
Интервал дат в автоматическом режиме будет определен следующим образом:
• дата &laquo;С&raquo;: версия установленного информационного банка
(комплекта);
• дата &laquo;По&raquo;: текущая дата.
Если при старте в режиме автозагрузки условие &laquo;первого запуска
в ручном режиме&raquo; соблюдено не будет, программа переключится
71
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
в интерактивный режим работы с ожиданием действий пользователя.
Формат запуска
&laquo;&lt;Garant-F1 path&gt;\Download.exe&raquo; -auto [options]
Все решения будут приниматься программой самостоятельно.
После загрузки обновления программа завершит работу. Информация о работе программы в автоматическом режиме протоколируется в файле download.log каталога &lt;Garant-F1 path&gt;\logs.
Параметры командной строки
Все параметры являются регистрозависимыми, то есть обязательно должны быть набраны строчными буквами.
Формат ключа
Описание
-eng
Программа будет запущена с английским
интерфейсом (основная часть сообщений,
выводимых в лог, также будет на английском языке)
-ie
Идентифицировать программу как Microsoft
Internet Explorer. Используется для проксисерверов, не пропускающих неизвестных
клиентов. Версия Internet Explorer берется
из системного реестра
-path
Поместить загружаемые файлы обновления
в указанный каталог
-from dd-mm-yyyy В значение поля Дата &laquo;С&raquo; будет использована указанная дата (dd-mm-yyyy), а не
версия установленного информационного
банка
-to dd-mm-yyyy
В значение поля Дата &laquo;По&raquo; будет подставлена
указанная дата. Если дельт по указанную дату
нет (например, текущая дата меньше указанной в -to), то ничего не будет скачано
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
72
-week
Скачиваются ТОЛЬКО недельные дельты.
Интервал определяется правилами:
• с даты ревизии или указанной в ключе
-from по текущую;
• если дата ревизии установленного информационного банка или дата, указанная в ключе
-from – не суббота, скачиваться будут дельты
с предшествующей субботы;
• если текущая дата – не суббота, скачиваться будет(ут) недельная(ые) дельта(ы), по
субботу, предшествующую текущей дате;
• параметр -week имеет приоритет выше
параметра -to при их совместном использовании
-dsc num
При аппаратном обрыве соединения в течение num минут Мастером будет осуществляться попытка восстановления соединения
и докачки. Подробнее см. раздел &laquo;Работа в
режиме докачки&raquo;
По окончании загрузки дельт запускает
Мастер установки пакетного пополнения в
автоматическом режиме. При этом ключи
программы пакетного пополнения должны быть указаны через &laquo;-&raquo; (Например,
-nofinalmessage)
Запускать после завершения работы Мастера загрузки пакетного пополнения указанное приложение. Необходимо указывать
абсолютный путь к запускаемому файлу.
Параметры, с которыми запускается приложение по ключу &laquo;-run&raquo;
-runupdate
-run
&laquo;путь\приложение&raquo;
-runargs
&laquo;параметры&raquo;
См. &laquo;Примеры запуска программы в автоматическом режиме&raquo;.
Работа с планировщиком задач
Возможность работы в автоматическом режиме может быть использована для выполнения обновления банка данных в любое время
73
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
(например, ночью), а также на серверах с терминальным доступом.
Для этого следует использовать специальное (не входящее в состав
системы ГАРАНТ) приложение – планировщик задач (scheduler),
такой, как команда at в операционной системе Windows NT.
Примеры запуска программы в автоматическом режиме
Пример 1
&laquo;C:\Program Files\Garant-Server\download.exe&raquo; -auto -from 2310-2004 -to 06-11-2004 -dsc 5 -runupdate -nofinalmessage
• Данная команда запустит в автоматическом режиме Мастер
загрузки пакетного пополнения системы ГАРАНТ, которая
установлена в папку C:\Program Files\Garant-Server\.
• Мастером будет скачана с сервера пакетного пополнения
дельта за период с 23.10.2004 по 6.11.2004.
• В случае обрыва соединения в течение 5 минут будет осуществляться попытка восстановления соединения.
• Результат работы программы будет выведен в файл протокола C:\Program Files\Garant-Server\logs\download.log.
• По завершении работы Мастера загрузки пакетного пополнения будет запущен Мастер применения пакетного пополнения
в автоматическом режиме с параметром nofinalmessage.
• Мастер установки пакетного пополнения будет запущен со
стандартными параметрами учетной записи администратора
ADMIN/ADMIN.
Пример 2
&laquo;C:\Program Files\Garant-Server\Download.exe&raquo; -auto -from
23-10-2004 -to 06-11-2004 -dsc 5 -run &laquo;C:\Program Files\GarantServer\dataupd&raquo; -runargs &laquo;auto -login ADMIN -pwd flvbybcnhfnjh
nobackup nofinalmessage -run &laquo;c:\report.bat&raquo;&raquo;
• Данная команда запустит в автоматическом режиме Мастер
загрузки пакетного пополнения системы ГАРАНТ, которая
установлена в папку C:\Program Files\Garant-Server\.
• Мастером будет скачана с сервера пакетного пополнения
дельта за период с 23.10.2004 по 6.11.2004.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
74
• В случае обрыва соединения в течение 5 минут будет осуществляться попытка восстановления соединения.
• Результат работы программы будет выведен в файл протокола C:\Program Files\Garant-Server\logs\download.log.
• По завершении работы Мастера загрузки пакетного пополнения будет запущен Мастер применения пакетного пополнения в автоматическом режиме.
• Запуск Мастера будет выполнен из-под учетной записи администратора ADMIN с паролем flvbybcnhfnjh.
• Обновление будет произведено без создания резервной копии.
• Результат работы программы (независимо от результата)
будет выведен только в файл протокола C:\Program Files\
Garant-Server\logs\update.log.
• После завершения работы Мастера загрузки пакетного пополнения из корня диска С: будет запущен командный файл
report.bat.
Пример 3
&laquo;C:\Program Files\Garant-Server\Download.exe&raquo; -auto -from 2310-2004 -to 06-11-2004 -dsc 5 -runupdate -nobackup -nofinalmessage
-run &laquo;c:\report.bat&raquo;
75
• Данная команда запустит в автоматическом режиме Мастер
загрузки пакетного пополнения системы ГАРАНТ, которая
установлена в папку C:\Program Files\Garant-Server\.
• Мастером будет скачана с сервера пакетного пополнения
дельта за период с 23.10.2004 по 6.11.2004.
• В случае обрыва соединения в течение 5 минут будет осуществляться попытка восстановления соединения.
• Результат работы программы будет выведен в файл протокола
C:\Program Files\Garant-Server\logs\download.log.
• По завершении работы Мастера загрузки пакетного пополнения будет запущен Мастер применения пакетного пополнения в автоматическом режиме с параметрами nobackup
nofinalmessage.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
• Мастер установки пакетного пополнения будет запущен со
стандартными параметрами учетной записи администратора
ADMIN/ADMIN.
• Параллельно Мастеру установки пакетного пополнения из
корня диска C: будет запущен командный файл report.bat. РЕЖИМ ДОКАЧКИ
Одним из полезных свойств программы является поддержка режима докачки дельты при обрыве соединения.
В случае обрыва соединения или преднамеренного прерывания
работы программы при следующем запуске и выборе параметров,
соответствующих прерванной закачке, вам будет предложено продолжить прерванную закачку.
Предложение продолжить закачку при следующем
запуске Мастера
Предыдущая попытка получения обновления была прервана.
Мастер загрузки пакетного пополнения предлагает продолжить
прерванную загрузку файла 475b.zip (1114112 байт которого уже
закачано) или начать загрузку по новой.
Если вы знаете о нестабильной работе вашего канала связи, а настройки машины таковы, что в случае обрыва автоматически восстанавливают соединение с Интернетом в течение определенного
промежутка времени, величина которого вам приблизительно
известна, вы можете настроить запуск Мастера загрузки пакетного
пополнения, добавив в командную строку ключ -dsc num.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
76
Особенности докачки в интерактивном режиме
При обрыве сеанса связи с поддержкой докачки в интерактивном режиме появляется сообщение с предложением повторить
попытку закачки.
Предложение продолжить закачку, прерванную из-за обрыва
соединения с сервером в текущем сеансе работы Мастера
При утвердительном ответе в течение num минут осуществляется
попытка восстановления соединения и докачки текущего задания.
По истечении этого времени, если соединение не будет восстановлено, программа выдаст сообщение с предложением повторить
попытку получения обновления позднее.
Особенности докачки в автоматическом режиме
В автоматическом режиме сообщение не появляется, а отсчет num
минут ведется с момента обрыва соединения. По истечении времени при невосстановленном соединении программа автоматически
закрывается с занесением соответствующей информации в файл
протокола.
77
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОПИСАНИЕ
МАСТЕРА УСТАНОВКИ
ПАКЕТНОГО ПОПОЛНЕНИЯ
НАЗНАЧЕНИЕ
ЗАПУСК
ОСОБЕННОСТИ ОБНОВЛЕНИЯ
СИСТЕМЫ ГАРАНТ аэро
ПОРЯДОК ДЕЙСТВИЙ
ПЕРЕЧЕНЬ ШАГОВ
АВТОМАТИЧЕСКИЙ РЕЖИМ РАБОТЫ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
78
НАЗНАЧЕНИЕ
Мастер установки пакетного пополнения предназначен для применения дельт к информационному банку. С его помощью можно
также определить интервал времени, за который требуется получить обновление для актуализации банка данных.
ЗАПУСК
Запуск Мастера установки данных может быть выполнен двумя
способами:
• через программную группу, созданную при установке программных оболочек – &laquo;ГАРАНТ (...)&raquo; (&laquo;Пуск&raquo; -&gt; &laquo;Программы&raquo;
-&gt; &laquo;ГАРАНТ (Сервер)&raquo;, например).
Запуск Мастера установки пакетного пополнения из программной группы
• из каталога, куда установлена система ГАРАНТ. Формат
команды для запуска через &laquo;Пуск&raquo; -&gt; &laquo;Выполнить&raquo;:
&lt;Garant-F1 path&gt;\DataUpd.exe
Для запуска мастера с английским интерфейсом следует использовать параметр &laquo;-eng&raquo;.
Диалог программы в интерактивном режиме, в зависимости от
типа оболочки рассмотрен по шагам в разделе &laquo;Порядок действий&raquo;, а пояснения к ситуациям, возникающим при анализе дельт
приведены в разделе &laquo;Сообщения программы&raquo;.
Программа также поддерживает автоматический режим работы.
79
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОСОБЕННОСТИ ОБНОВЛЕНИЯ СИСТЕМЫ аэро
(СВОБОДНОЕ МЕСТО НА ДИСКЕ,
НЕОБХОДИМОЕ ДЛЯ ПАКЕТНОГО ОБНОВЛЕНИЯ)
Для пакетного обновления базы, производимого с отключением
пользователей (то есть без резервного копирования), требуется
следующий объем свободного места на диске:
(объем файлов data.6*)/10 + (объем файлов data.2*) + (объем
файлов data.7*), что, по приблизительной оценке, составляет 4%
от общего объема файлов базы.
При вычислении минимального объема свободного дискового
пространства для обновления, производимого без отключения
пользователей (то есть с резервным копированием), к указанному
выше объему добавляется общий объем файлов базы.
ПОРЯДОК ДЕЙСТВИЙ
Порядок действий зависит от типа установленной оболочки. Ниже
перечислены последовательности шагов для:
• локальной оболочки;
• клиент-серверной оболочки;
• файл-серверной оболочки.
Локальная оболочка
Пакетное пополнение данных локальной версии необходимо производить с правами полного доступа к каталогу, в который установлена система ГАРАНТ. Порядок действий следующий:
• шаг 1. Приветствие программы;
• шаг 2. Выбор типа обновления – вас попросят выбрать &laquo;Тип&raquo;
диалога обновления;
• шаг 3. Выбор каталога с дельтами – вас попросят указать
каталог, в котором размещены полученные дельты;
• шаг 4. Распознавание дельт – на этом шаге будут проанализированы дельты на предмет возможности их применения
к информационному банку;
• шаг 5. Создание копии базы для обновления – вам будет
предложено создать резервную копию информационного
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
80
банка;
• шаг 6. Применение дельт – на этом шаге происходит применение дельт к базе;
• шаг 7. Завершение обновления – в случае успешной установки будет выведено сообщение об этом, а также вам будет
предложено завершить работу Мастера установки пакетного
пополнения.
Клиент-серверная оболочка
Пакетное пополнение данных клиент-серверной версии можно
производить как непосредственно на сервере, так и с удаленной
рабочей станции. При этом пользователю рабочей станции достаточно прав на чтение содержимого каталога, куда установлена серверная часть системы ГАРАНТ. Можно выделить три вида
диалога в зависимости от того, где запускается Мастер установки
пакетного пополнения и где выполняется непосредственное применение дельт:
• запуск Мастера и применение дельты выполняется на клиентской машине;
• запуск Мастера выполняется на клиентской машине, а применение дельты – на сервере;
• запуск Мастера выполняется на сервере.
Ниже приведен порядок действий для случая, когда запуск Мастера установки пакетного пополнения и применение дельт выполняется на рабочей станции:
• шаг *. Авторизация пользователя – вас попросят ввести логин и пароль администратора системы ГАРАНТ;
• шаг 1. Приветствие программы;
• шаг 2. Выбор типа обновления – вам предложат выбрать
&laquo;тип&raquo; диалога обновления;
• шаг 3. Выбор каталога с дельтами – вас попросят указать
каталог, в котором размещены полученные дельты;
• шаг 4. Распознавание дельт – на этом шаге будут проанализированы дельты на предмет возможности их применения
к информационному банку;
• шаг 5. Выбор способа обновления – вам предложат выбрать,
откуда запускать процесс применения дельты;
81
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
• шаг 6. Копирование исходной базы для последующего обновления – вам будет предложено выбрать каталог на локальном
диске, куда будет скопирован информационный банк, для
последующего обновления;
• шаг 7. Применение дельт – на этом шаге происходит применение дельт к базе;
• шаг 8. Копирование обновленного банка на сервер – вам
предложат скопировать базу на сервер с созданием или без
создания резервной копии;
• шаг 9. Копирование на сервер – на этом шаге произойдет
копирование обновленного информационного банка из каталога на клиентской машине на сервер;
• шаг 10. Завершение обновления – в случае успешной установки будет выведено сообщение об этом, а также вам будет
предложено завершить работу Мастера установки пакетного
пополнения.
Порядок действий для случая, когда только запуск пакетного пополнения выполняется на рабочей станции, а применение дельт проходит
непосредственно на сервере:
• шаг 1. Приветствие программы;
• шаг 2. Выбор типа обновления – вам предложат выбрать
&laquo;тип&raquo; диалога обновления;
• шаг 3. Выбор каталога с дельтами – вас попросят указать
каталог, в котором размещены полученные дельты;
• шаг 4. Распознавание дельт – на этом шаге будут проанализированы дельты на предмет возможности их применения
к информационному банку;
• шаг 5. Выбор способа обновления – вам предложат выбрать,
откуда запускать процесс применения дельты;
• шаг 6. Серверное обновление – вам предложат создать резервную копию информационного банка;
• шаг 7. Применение дельт – на этом шаге происходит применение дельт к базе;
• шаг 8. Завершение обновления – в случае успешной установки будет выведено сообщение об этом, а также вам будет
предложено завершить работу Мастера установки пакетного
пополнения.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
82
Порядок действий для случая, когда запуск Мастера установки
пакетного пополнения выполняется на сервере, выглядит так же,
как и при пакетном обновлении локальной оболочки.
Файл-серверная оболочка
Пакетное пополнение данных файл-серверной версии можно
производить с любой машины локальной сети под операционной
системой семейства Windows. При этом пользователю необходимы полные права доступа к каталогу, куда установлена файлсерверная система ГАРАНТ.
Порядок действий выглядит так же, как и для случая пакетного
пополнения локальной оболочки.
ПЕРЕЧЕНЬ ШАГОВ
Авторизация пользователя
Окно выводится, если пароль для пользователя ADMIN отличается от значения по умолчанию.
По умолчанию для администратора действительны следующие
параметры входа в систему:
• имя пользователя – ADMIN;
• пароль – ADMIN.
Изменить пароль администратора можно в интерфейсе администратора.
Для работы с Мастером установки пакетного пополнения в системе ГАРАНТ предусмотрен специальный пользовательский профиль администратора.
Для продолжения работы нужно ввести имя пользователя и пароль этого профиля в соответствующие поля диалогового окна,
а затем нажать кнопку &laquo;Далее&raquo;.
83
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Авторизация пользователя
Регистр вводимых символов имеет значение.
Приветствие программы
На этом этапе вам будет предложено закрыть другие приложения,
чтобы они не препятствовали работе Мастера установки пакетного
пополнения.
Также приводится текст предупреждения для случаев несанкционированного использования программы и нарушения авторских
прав.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
84
Приветствие программы
Выбор типа обновления
На этом этапе вам будет предложено выбрать тип проводимого
обновления. От выбранного типа зависит степень детализации
последующего диалога программы.
Упрощенный тип – рекомендуется для обычных пользователей,
у которых нет цели вдаваться в тонкости системного администрирования и распределение системных ресурсов. При выборе
данного типа обновление будет выполнено на сервере с созданием
резервной копии, то есть без отключения пользователей на время
обновления.
Расширенный тип – рекомендуется для продвинутых пользователей и системных администраторов, стремящихся оптимизировать
распределение системных ресурсов на время пакетного пополнения системы ГАРАНТ. При выборе данного типа вам будет представлен расширенный диалог программы.
85
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Выбор типа обновления
Выбор каталога с дельтами
На этом шаге вам будет предложено указать каталог, в который
вы поместили полученные ранее дельты.
По умолчанию предлагается подкаталог &lt;Garant-F1 path&gt;\
delta.
Если дельта была получена как набор томов, то в каталог должны быть помещены все тома с сохранением структуры (&lt;имя_
тома&gt;.&lt;порядковый_номер_тома&gt;) их названия. Это необходимо для объединения дельты на этапе ее распознавания.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
86
Выбор каталога с дельтами
Распознавание дельт
На этом этапе программа проанализирует содержимое каталога,
указанного на шаге &laquo;Выбор каталога с дельтами&raquo;:
• обнаруженные тома будут объединены в дельту;
• обнаруженные архивы будут распакованы;
• обнаруженные дельты будут проанализированы на предмет
применимости к банку данных.
Программа также проанализирует интервал дат, и для случаев,
отличных от возможности полного пополнения, вам будет приведен интервал, за который требуются дельты для актуализации
информационного банка.
В случае возможности полного или частичного обновления вам
будет предложено продолжить диалог.
87
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Возможно полное обновление
Возможно частичное обновление
При выборе значка Internet Explorer будет запущен Мастер
загрузки пакетного пополнения.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
88
Все остальные ситуации рассмотрены в разделе &laquo;Сообщения программы&raquo;.
Выбор способа обновления
Окно выводится при следующих условиях:
• тип оболочки – сетевая клиент-серверная;
• обновление запускается с клиентской машины;
• на шаге &laquo;Выбор типа обновления&raquo; был выбран Расширенный
тип.
На данном этапе вам будет предложено выбрать: скопировать
информационный банк на локальную машину для последующего
обновления или произвести обновление удаленно на сервере.
Аргументами в пользу обновления на сервере служит экономия
сетевого трафика, а аргументом за обновление с копированием
на локальную машину служит то, что ресурсы сервера не будут
тратиться на пакетное обновление.
Выбор способа обновления
89
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Серверное обновление
Окно выводится при следующих условиях:
• тип оболочки – сетевая клиент-серверная;
• обновление запускается с клиентской машины;
• на шаге &laquo;Выбор типа обновления&raquo; был выбран Расширенный
тип;
• на шаге &laquo;Выбор способа обновления&raquo; был выбран способ
обновления непосредственно на сервере.
На этом этапе вам будет предложено создать копию базы для последующего обновления. Копирование базы предназначено для
того, чтобы:
• пользователи могли продолжать работу с системой во время
обновления информационного банка;
• информационный банк не был утрачен в случае аварийного
завершения пакетного пополнения.
При выполнении копирования после успешного завершения применения дельт система автоматически переключится на работу
с обновленной версией банка данных.
В случае отказа от копирования базы пакетное пополнение будет
применено к текущей версии базы, при этом:
• работающим в системе пользователям будет предложено сохранить результаты работы и выйти из системы, в противном
случае они будут отключены от системы автоматически по
истечении времени ожидания;
• работа пользователей с системой ГАРАНТ будет блокирована
до окончания обновления информационного банка;
• в случае аварийного завершения процесса базу придется
восстанавливать переустановкой с дистрибутива.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
90
Выбор способа обновления непосредственно на сервере
Копирование исходной базы для последующего обновления
Окно выводится при следующих условиях:
• тип оболочки – сетевая клиент-серверная;
• обновление запускается с клиентской машины;
• на шаге &laquo;Выбор типа обновления&raquo; был выбран Расширенный
тип;
• на шаге &laquo;Выбор способа обновления&raquo; был выбран способ
обновления копировать на локальную машину.
На данном этапе вас попросят указать каталог, в который следует
скопировать копию информационного банка для последующего
пакетного пополнения. На выбранном диске должно быть достаточно свободного места, объем которого приводится в диалоговом
окне программы. По умолчанию предлагается корневой каталог
диска C:.
91
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Копирование исходной базы для последующего обновления
После нажатия кнопки &laquo;Далее&raquo; начнется процесс копирования.
Копирование информационного банка в выбранный каталог
Создание копии базы для обновления
На этом этапе вам будет предложено создать копию базы для последующего обновления. Копирование базы предназначено для
того, чтобы:
• пользователи могли продолжать работу с системой во время
обновления информационного банка;
• информационный банк не был утрачен в случае аварийного
завершения пакетного пополнения.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
92
При выполнении копирования после успешного завершения применения дельт система автоматически переключится на работу
с обновленной версией банка данных.
В случае отказа от копирования базы пакетное пополнение будет
применено к текущей версии базы. При этом:
• работающим в системе пользователям будет предложено сохранить результаты работы и выйти из системы, в противном
случае они будут отключены от системы автоматически по
истечении времени ожидания;
• работа пользователей с системой ГАРАНТ будет блокирована
до окончания обновления информационного банка;
• в случае аварийного завершения процесса базу придется
восстанавливать переустановкой с дистрибутива.
Создание копии базы для обновления
При нажатии кнопки &laquo;Далее&raquo;, в зависимости от того где находится рабочая база, копия базы будет создана в каталоге Data1
или Data2.
93
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Применение дельт
На этом шаге распознанные дельты будут применены к созданной
копии.
Применение дельт состоит из двух этапов:
• внесение изменений в тексты документов;
• перестроение поисковых индексов и рубрикатора.
Файлы протоколов
Информация о ходе процесса обновления протоколируется в логфайлы каталога &lt;Garant-F1 path&gt;\logs:
• update.log – протокол работы Мастера установки пакетного
пополнения;
• data.log – протокол внесения изменений в тексты документов.
Информация из этих протоколов может быть востребована сотрудниками службы технической поддержки для локализации
проблемы в случае ее возникновения.
Применение дельты
Копирование обновленной базы на сервер
Окно выводится при следующих условиях:
• тип оболочки: сетевая клиент-серверная;
• обновление запускается с клиентской машины;
• на шаге &laquo;Выбор типа обновления&raquo; был выбран Расширенный
тип;
• на шаге &laquo;Выбор способа обновления&raquo; был выбран способ
обновления копировать на локальную машину.
На этом этапе вам будет предложено выполнить копирование
обновленной базы обратно на сервер. Копирование может быть
выполнено с созданием резервной копии или без. В случае создания резервной копии:
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
94
• пользователи могли продолжать работу с системой во время
копирования информационного банка;
• информационный банк не будет утрачен в случае аварийного
завершения пакетного пополнения.
При выполнении копирования после успешного завершения применения дельт система автоматически переключится на работу с
обновленной версией банка данных.
В случае отказа от резервного копирования базы копирование
будет осуществлено поверх рабочей версии базы, при этом:
• работающие в системе пользователям будут отключены от
системы автоматически;
• работа пользователей с системой ГАРАНТ будет блокирована
до окончания обновления информационного банка;
• в случае аварийного завершения процесса базу придется
восстанавливать переустановкой с дистрибутива.
Выбор способа копирования обновленной базы на сервер
После нажатия кнопки &laquo;Далее&raquo; начнется процесс копирования.
95
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Завершение обновления
Данный диалог выводится в завершении установки пакетного
пополнения. Отображается время, затраченное на установку. Нажмите кнопку &laquo;Выход&raquo;, чтобы завершить работу программы установки.
При нажатии кнопки &laquo;Выход&raquo; происходит переключение пользователей на обновленную версию базы. Это может привести к
неожиданному для пользователя, работающего в системе, переходу
в основное меню системы.
Завершение установки пакетного пополнения
АВТОМАТИЧЕСКИЙ РЕЖИМ РАБОТЫ
Помимо интерактивного режима работы, Мастер установки пакетного пополнения допускает запуск из командной строки с указанием параметров автоматического режима обновления.
Формат запуска в автоматическом режиме
&lt;Garant-F1 path&gt;\dataupd.exe auto [options]
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
96
Параметры командной строки
Формат ключа
Описание
-eng
Программа будет запущена с английским
интерфейсом
-login ADMIN
Регистрационное имя администратора системы.
Данный параметр необходимо указывать в
том случае, если пароль администратора отличается от значения по умолчанию ADMIN
-pwd &laquo;пароль&raquo;
Пароль администратора системы.
Данный параметр необходимо указывать
в том случае, если пароль администратора отличается от значения по умолчанию
ADMIN
путь
Путь к каталогу с дельтами (пользователю
необходим полный доступ к указанному
подкаталогу/сетевому ресурсу)
nobackup
Отказаться от создания резервной копии
deletezips
Удалять архивы распакованных дельт из
подкаталога Archive
-run
&laquo;путь\
приложение&raquo;
Запускать после завершения работы Мастера установки пакетного пополнения
указанное приложение. Необходимо указывать абсолютный путь к запускаемому
файлу
-runargs
&laquo;параметры&raquo;
Параметры, с которыми запускается приложение по ключу &laquo;-run&raquo;
nofinalmessage
Не выводить сообщение о результате запуска программы
См. &laquo;Пример запуска программы в автоматическом режиме&raquo;.
Если не задана опция nofinalmessage, то по окончании работы программа выведет на экран сообщение о результатах обновления
– будь то положительный результат (база данных обновлена час-
97
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
тично или полностью) или отрицательный (причина, по которой
обновление не произведено). Если же команда указана, то программа завершит свою работу без сообщений; вся диагностика ее
работы будет доступна только через файл протокола &lt;Garant-F1
path&gt;\logs\update.log.
Работа с планировщиком задач
Возможность работы в автоматическом режиме может быть использована для выполнения обновления банка данных в любое
время (например, ночью), а также на серверах с терминальным
доступом. Для этого следует использовать специальное (не входящее в состав системы ГАРАНТ) приложение – планировщик
задач (scheduler), такой как команда at в операционной системе
Windows NT.
Будьте внимательны при настройке формата команды для запуска
из-под планировщика! Если не будут указана опция nofinalmessage,
выполнение программы обновления не будет завершено, что может
нарушить регулярность выполнения задачи планировщиком.
При использовании в качестве планировщика задач команды at
обратите внимание, что запускать ее следует с опцией /interactive.
В противном случае операционная система блокирует всякий вывод сообщений на экран, и вы в любом случае не увидите финального сообщения программы.
Пример запуска программы в автоматическом режиме
&laquo;C:\Program Files\Garant-Server\dataupd.exe&raquo; auto \\
workstation1\Delta -login ADMIN -pwd flvbybcnhfnjh nobackup
-run &laquo;C:\Program Files\Garant-Server\report.bat&raquo; -runargs
&laquo;09/05/2005&raquo; nofinalmessage
• Данная команда запустит в автоматическом режиме Мастер
установки пакетного пополнения системы ГАРАНТ , которая
установлена в &laquo;C:\Program Files\Garant-Server\&raquo;.
• Запуск программы будет выполнен из-под учетной записи
администратора ADMIN с паролем &laquo;flvbybcnhfnjh&raquo;.
• Мастер установки проанализирует содержимое расшарен-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
98
ного ресурса delta, рабочей станции, доступной в сети под
именем workstation1, на предмет наличия подходящих для
обновления дельт.
• Обновление будет произведено без создания резервной копии.
• Результат работы программы (независимо от результата)
будет выведен только в файл протокола C:\Program Files\
Garant-Server\logs\update.log.
• После завершения работы Мастера установки пакетного
пополнения из папки C:\Program Files\Garant-Server\
будет запущен командный файл report.bat с параметром
09/05/2005.
ОПРЕДЕЛЕНИЕ ИНТЕРВАЛА ОБНОВЛЕНИЯ
Мастер установки пакетного пополнения вычисляет его на шаге
&laquo;Распознавание дельт&raquo; общего порядка действий. В случае если
каталог с дельтами, выбираемый на шаге &laquo;Выбор каталога&raquo; пуст,
интервал обновления определяется разницей между датой ревизии
комплекта и текущей датой.
Этот же интервал определяется, если для получения дельт вы используете Мастер загрузки пакетного пополнения.
99
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Определение интервала обновления
при отсутствии дельт в каталоге
При выборе значка Internet Explorer будет запущен Мастер
загрузки пакетного пополнения.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
100
Определение интервала обновления
при наличии дельт в каталоге
Если в выбранном каталоге уже имеются какие-то дельты, программа проанализирует возможность их применения и скорректирует начальную дату с учетом уже имеющихся файлов. При
этом программа руководствуется принципом хронологической
непрерывности пакетного пополнения: пропуски в обновлениях
недопустимы, то есть к базе данной версии нельзя применить
дельту, предназначенную для обновления базы с другой версией.
101
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОПИСАНИЕ
МАСТЕРА НАСТРОЙКИ
АВТОМАТИЧЕСКОГО ОБНОВЛЕНИЯ
НАЗНАЧЕНИЕ
ТРЕБОВАНИЯ
УПРАВЛЕНИЕ
ПОРЯДОК РАБОТЫ
НАСТРОЙКА
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
102
НАЗНАЧЕНИЕ
Мастер настройки автоматического обновления предназначен для
выполнения комплексной настройки автоматического пакетного пополнения информационного банка инсталляционных версий системы
ГАРАНТ, включающей настройку параметров загрузки и применения
обновления, а также настройку параметров задания в планировщике
задач. Программа имеет графический интерфейс и проста в использовании даже неопытными пользователями.
ТРЕБОВАНИЯ
• Программа работает под ОС семейства Windows версии XP
и выше.
• Программа должна запускаться непосредственно с машины,
где установлена программная оболочка ГАРАНТ. Запуск по
сети не поддерживается.
• Для локальной и сетевой файл-серверной оболочек во время
выполнения автоматического обновления (работы задания
планировщика) на рабочей станции не должна быть запущена программная оболочка ГАРАНТ.
УПРАВЛЕНИЕ
Диалог программы для работы с умолчательными параметрами рассмотрен в разделе Порядок работы, а ознакомиться с описанием полного перечня доступных настроек можно в разделе Настройка.
ПОРЯДОК РАБОТЫ
Перед началом работы программы настройки автоматического обновления нужно один раз скачать файлы обновления утилитой download
в ручном режиме. Это необходимо для того, чтобы сохранить регистрационные данные пользователя и параметры подключения к серверу пакетного пополнения в конфигурационном файле (garant.ini),
откуда они будут браться в дальнейшем, при запуске Мастера загрузки
пакетного пополнения в автоматическом режиме.
103
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Если все необходимые параметры подключения к серверу пакетного пополнения заданы в конфигурационном файле, при
запуске откроется основное окно программы.
Рис. 1
Основное окно Мастера настройки автоматического обновления
Основное окно Мастера настройки автоматического обновления представляет собой панель управления, которая включает
следующие элементы:
Тип
Название
Описание
Окно
Состояние
Монитор состояния задачи, включающий информацию о:
• текущем состоянии задачи
• времени последнего запуска
• времени следующего запуска
• статусе последнего запуска
Если автоматическое обновление выключено, остальные параметры неактивны и не отслеживаются
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
104
Кнопка
Справка
Кнопка
Включить
Кнопка
Отключить
Кнопка
Запустить
Кнопка
Настроить параметры
Надпись
Имя задачи
Вызывает данное справочное руководство
Включает задачу с текущими настройками в расписание планировщика
Исключает задачу автоматического
обновления из расписания планировщика
Немедленно запускает автоматическое обновление с текущими настройками
Открывает окно настроек параметров запуска автоматического обновления
Название, с которым задача вносится
в расписание планировщика
Параметры по умолчанию
По умолчанию первое нажатие кнопки &laquo;Включить&raquo; будет приводить к внесению в расписание следующего задания. Каждый
день недели, кроме субботы, в выбранное случайным образом1 из
заданного интервала2 время:
• запускать Мастер скачивания дельт, идентифицирующий
себя как F1Download;
• сохранять скачанные дельты в подкаталог Delta папки
с ГАРАНТом;
• запускать Мастер применения дельт с созданием резервной
копии базы без отправки уведомлений о завершении по
электронной почте.
Для изменения параметров воспользуйтесь кнопкой &laquo;Настроить
параметры&raquo;.
Выбор выполняется для каждого компьютера с расчетом, чтобы обновление успело завершиться до начала
рабочего дня. Это сделано с целью распределения одновременной нагрузки на сервер пакетного пополнения.
Рекомендуем не менять значение времени, предложенное по умолчанию.
1
2
105
Пн. – пт. (01.00–05.00), сб. – вс. (00.01–23.59).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
НАСТРОЙКА
Настройки автоматического обновления размещаются на трех
вкладках:
• Скачивание обновлений – для настройки параметров запуска Мастера загрузки файлов пакетного пополнения
(download);
• Применение обновления – для настройки параметров запуска Мастера применения файлов пакетного пополнения
(dataupd);
• Расписание – для настройки параметров задания в планировщике.
Также на вкладках параметров утилит скачивания и применения
дельт доступна ссылка на группу Настройки почты, необходимую для отправки по электронной почте уведомлений о результате работы этих утилит.
Настройка Мастера загрузки дельт
На этой странице приводится перечень и описание настроек
Мастера загрузки файлов пакетного пополнения:
Рис. 2
Параметры скачивания обновлений
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
106
Название
Тип
Описание
В случае отсут- Флаговая
ствия обновле- кнопка
ния повторять (checkbox)
попытку скачивания каждые 20 минут
Если флаг установлен, при отсутствии дельты программа будет выполнять повторный запрос дельты через 20 минут
При обрыве Флаговая
с о е д и н е н и я кнопка
пытаться вос- (checkbox)
станавливать
в течение NN
минут
Если флаг установлен, в случае
обрыва соединения в течение
NN минут будет выполняться
попытка его восстановить и продолжить начатую загрузку
Сохранять об- Текстовое
новления в
поле + Кнопка выбора
каталога
Позволяет задать путь к каталогу, в который будут сохраняться
загружаемые файлы пакетного
пополнения
Идентифици- Текстовое
ровать как
поле
По заверше- Флаговая
нии скачива- кнопка
ния посылать (checkbox)
уведомление
по почте
Если флаг установлен, по завершении загрузки дельты в соответствии с настройками почты
на указанный адрес будет отправляться уведомление
Настроить па- Гипертексто- Открывает окно Настройки параметров почты
раметры по- вая ссылка
чты
Восстановить Кнопка
значения по
умолчанию
107
Восстанавливает умолчательные значения настроек скачивания обновлений
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Настройка Мастера применения дельт
На этой странице приводится перечень и описание настроек
Мастера применения файлов пакетного пополнения:
Рис. 3
Параметры применения обновлений
Название
Тип
Описание
О т к а з а т ь с я Флаговая
от создания кнопка
резервной ко- (checkbox)
пии
Если флаг установлен, применение дельты будет проводиться
без создания резервной копии
базы. Разработчики настоятельно не рекомендуют отказываться от создания резервной копии,
так как в случае аварийного завершения процесса базу придется восстанавливать переустановкой с дистрибутива
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
108
Удалять ар- Флаговая
хивы распа- кнопка
кованных об- (checkbox)
новлений из
подкаталога
Archive
Если флаг установлен, резервные копии скачанных и распакованных архивов с дельтами
будут удалены из подкаталога
Archive
Искать обнов- Текстовое
Позволяет задать путь к каталения в
поле + Кноп- логу, в котором следует искать
ка выбора
файлы пакетного пополнения
каталога
Задать пароль Гипертексто- Если пароль администраторпользователя вая ссылка
ской учетной записи в системе
ADMIN
ГАРАНТ (ADMIN) отличается
от умолчательного значения,
для запуска процедуры применения обновления в автоматическом режиме необходимо
указать новое значение пароля
в полях &laquo;Пароль пользователя&raquo;
и &laquo;Подтверждение пароля пользователя&raquo;
По заверше- Флаговая
нии примене- кнопка
ния посылать (checkbox)
уведомление
по почте
Если флаг установлен, по завершении загрузки дельты в соответствии с настройками почты
на указанный адрес будет отправляться уведомление
Настроить па- Гипертексто- Открывает окно Настройки параметров почты
раметры по- вая ссылка
чты
Восстановить Кнопка
значения по
умолчанию
109
Восстанавливает умолчательные значения настроек скачивания обновлений
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Настройка планировщика
На этой странице приводится перечень и описание настроек задачи в планировщике:
Рис. 4.
Параметры задачи в планировщике
Название
1
Тип
Описание
Включить ав- Флаговая
томатическое кнопка
скачивание об- (checkbox)
новлений
Если флаг установлен, задание
будет включать автоматическое
скачивание обновлений
Включить ав- Флаговая
томатическое кнопка
п р и м е н е н и е (checkbox)
обновлений
Если флаг установлен, задание
будет включать автоматическое
применение обновлений
Запускать
конце
Если флаг установлен, по завершении работы Мастера применения дельты будет запускаться
локальное приложение1, путь
к которому будет указан в текстовом поле
в Флаговая
кнопка +
Текстовое
поле + Кнопка выбора
каталога
Расположено на одном из локальных дисков той машины, с которой запущен Мастер применения дельты.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
110
С параметрами Текстовое
поле
Здесь могут быть перечислены
параметры, с которыми будет
запускаться приложение, заданное настройкой &laquo;Запускать
в конце&raquo;. Для запуска bat-файла
нужно настроить параметры
специальным образом1
Запускать каждый
Понедельник
Вторник
Среда
Четверг
Пятница
Суббота
Воскресенье
Если флаг установлен, в расписание запуска задания будет
включен запуск в указанный
день недели во время, заданное в текстовом поле в формате
&laquo;чч:мм&raquo;
Флаговая
кнопка +
Текстовое
поле
Для запуска bat-файла нужно настроить параметры специальным образом:
• в поле &laquo;Запускать в конце&raquo; нужно написать: %comspec%
• в поле &laquo;С параметрами&raquo;: /c bat-файл параметры
• в bat-файле нужно дописать: exit /b
1 111
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Настройка параметров почты
На этой странице приводится перечень и описание параметров
почты:
Рис. 5
Параметры скачивания обновлений
Название
Тип
Описание
Введите элек- Текстовое
тронный адрес поле
отправителя
Адрес, с которого будет отправляться уведомление
Введите имя Текстовое
сервера исхо- поле
дящей почты
Имя сервера исходящей почты
(SMTP-сервер, с которого будет
отправляться уведомление)
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
112
113
Введите логин Текстовое
на почтовом поле
сервере
Это поле необходимо заполнить,
если для отправки сообщения
сервер исходящей почты требует авторизации. В этом случае
сюда следует вписать логин для
авторизации на SMTP-сервере
Введите па- Текстовое
роль на почто- поле
вом сервере
Это поле необходимо заполнить,
если для отправки сообщения
сервер исходящей почты требует авторизации. В этом случае
сюда следует вписать пароль для
авторизации на SMTP-сервере
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОПИСАНИЕ
ПАНЕЛИ УПРАВЛЕНИЯ
СЕРВЕРОМ
НАЗНАЧЕНИЕ
ИНДИКАЦИЯ
ДИАГНОСТИКА
УПРАВЛЕНИЕ
НАСТРОЙКИ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
114
НАЗНАЧЕНИЕ
Панель управления сервером предназначена для индикации, диагностики и управления состоянием службы сервера приложений
сетевой клиент-серверной версии системы ГАРАНТ.
Запуск панели управление сервером
Запуск Панели управления может быть выполнен двумя способами:
• из программной группы, созданной при установке серверной части системы ГАРАНТ (&laquo;Пуск&raquo; -&gt; &laquo;Программы&raquo; -&gt;
&lt;программная группа&gt; -&gt; &laquo;Панель управления сервером&raquo;);
• из командной строки. Формат команды: &lt;Garant-F1 path&gt;
\apps\winNT\F1ServerMng.exe.
При установке сетевой версии системы ГАРАНТ на терминальный сервер допускается запуск Панели управления под каждым
терминальным подключением. Однако следует помнить о том,
что перед обновлением программной оболочки системы ГАРАНТ
все копии программы должны быть закрыты.
После запуска в системном трее появляется пиктограмма, отображающая состояние сервера.
При выборе из меню пункта &laquo;Выход&raquo; программа будет закрыта и
выгружена из памяти. Панель управления сервером можно будет
запустить вновь в любое время.
Перед выгрузкой панели вам будет предложено остановить службу сервера, что не является обязательным требованием для завершения работы Панели управления.
115
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Мигающий индикатор на пиктограмме означает, что связь между
панелью управления и службой сервера нарушена. Если перезапуск панели, перезапуск службы и переустановка оболочки
системы ГАРАНТ не исправят ситуацию, обратитесь в службу
технической поддержки обслуживающей вас организации.
ИНДИКАЦИЯ
При выборе из контекстного меню к пиктограмме в системном
трее команды &laquo;Показать&raquo; перед вами появится окно программы,
в котором будет отражено текущее состояние службы сервера
системы ГАРАНТ.
Сервер ГАРАНТ запущен
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
116
Сервер ГАРАНТ остановлен
Про управление состоянием службы смотрите раздел
&laquo;Управление&raquo;.
ДИАГНОСТИКА
Если сервер запущен, в окне Панели управления в область &laquo;Состояние&raquo; выводится информация:
• о времени работы сервера с момента запуска;
• о количестве пользователей, работающих с системой в данный момент.
Частота диагностики определяется значением настройки
RefreshTimeout.
Принудительно обновить информацию о сервисе можно нажатием
кнопки &laquo;Диагностика&raquo;.
117
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
УПРАВЛЕНИЕ
Запуск/Остановка
Для запуска или остановки службы сервера ГАРАНТ используйте
соответственно кнопки &laquo;Запустить&raquo; и &laquo;Остановить&raquo; на Панели
управления или в меню пиктограммы.
Действия по запуску и остановке сервера занимают определенное время
(в пределах минуты), в течение которого обе кнопки недоступны для нажатия. По завершении действия изображение-индикатор покажет новое
состояние сервера, а соответствующая ему кнопка станет доступной.
Если вы хотите, чтобы служба запускалась автоматически при каждом старте операционной системы, поставьте соответствующую отметку на Панели управления. Служба сервера ГАРАНТ будет запускаться после каждой перезагрузки операционной системы – вне
зависимости от того, в каком состоянии она находилась на момент
начала перезагрузки или выключения питания компьютера.
Перезапуск
Для перезапуска службы сервера ГАРАНТ используйте кнопку
&laquo;Перезапустить&raquo; на Панели управления или в меню пиктограммы.
Если в результате автоматической или принудительной диагностики программа не получает отклика от службы, служба может
быть перезапущена автоматически. Для этого необходимо, чтобы
в настройках среди прочих был указан параметр -Restart=.
Также в настройках можно задать параметры для отправки по
электронной почте уведомлений о перезагрузке или невозможности ее выполнения.
Технические трудности
В случае если сервер ГАРАНТ запустить не удается (то есть после
нажатия кнопки &laquo;Запуск&raquo; индикатор снова возвращается в состояние &laquo;Сервер остановлен&raquo;), следует обращаться в обслуживающую организацию, координаты которой можно уточнить в файле
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
118
dealer.inf дистрибутива или каталога &lt;Garant-F1 path&gt;\Data&lt;n&gt;.
При этом вам может понадобиться файл протокола работы сервера
garant.log из каталога &lt;Garant-F1 path&gt;\logs
НАСТРОЙКИ
Настройки Панели управления собраны в секции [ServerManager] файла настроек garant.ini. На этой странице описаны настройки, которые
вы можете определить в соответствии с вашими предпочтениями.
Для вступления измененных настроек в силу необходимо перезапустить панель управления сервером.
Название
Описание
-EMailTo
Электронный адрес, куда следует отправлять письма с уведомлением о состоянии сервера ГАРАНТ
-RefreshTimeout
Задает периодичность выполнения
диагностики сервиса в секундах. По
умолчанию – 15 секунд
-Restart=
Указывает, что сервис должен быть перезапущен, если при выполнении диагностики программа не получает ответа
от сервера ГАРАНТ. Если параметр не
задан или закомментирован, сервис автоматически не перезапускается
-SMTPServer
Адрес SMTP-сервера, с которого будет
производиться рассылка уведомлений
о состоянии сервера
-SMTPServerLogin
Логин для доступа к SMTP-серверу,
если необходима авторизация
-SMTPServerPassword Пароль для доступа к SMTP-серверу,
если необходима авторизация
-SMTPServerPort
119
Порт SMTP-сервера
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
РЕКОМЕНДАЦИИ ПО ВЫБОРУ
ОПТИМАЛЬНОГО ТИПА НОСИТЕЛЯ
ДЛЯ УСТАНОВКИ СИСТЕМЫ ГАРАНТ аэро
ЭТАПЫ ВЫБОРА (КРИТЕРИИ)
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
120
Система ГАРАНТ предоставляет клиенту множество вариантов обслуживания. Система может поставляться в мобильном (мобильный ГАРАНТ или,
в отдельных случаях, рабочая версия) или инсталляционном варианте для
работы на локальном компьютере или в сети. Выбор конкретного варианта
осуществляется клиентом в зависимости от своих потребностей. Выбранные
клиентом параметры системы ГАРАНТ и конфигурация его компьютерного
парка определяют возможные варианты поставки системы на различных
видах носителей. Наша задача – помочь клиенту сделать правильный выбор,
удовлетворяющий его профессиональные потребности и минимизирующий
время на обновление системы.
Система ГАРАНТ поставляется на четырех видах носителей, у каждого есть
свои особенности:
Носитель
Особенности
ФЛЕШНАКОПИТЕЛЬ
• Я вляется носителем только для мобильного
ГАРАНТа
• Применяется в случае наличия USB-контроллера
на компьютере клиента
• На данный момент поставляется объемом 8 Гб,
16 Гб, 32 Гб, 64 Гб, 128 Гб
• Преимущественно применяется для записи дистрибутива инсталляционной версии и группового
дистрибутива2
• Применяется в случае наличия на компьютере клиента USB 2.0
• DVD-R может применяться для записи рабочей
версии и дистрибутива инсталляционной версии
• DVD + R DL может применяться для записи рабочей версии
• Максимальный объем записываемых данных на
один диск не может превышать 4450 Мб (для DVD-R)
и 8100 Мб (для DVD + R DL)3
USB
ЖЕСТКИЙ
ДИСК1
DVD-R
DVD+R DL
При выборе вида носителя перед поставкой (или сменой вида носителя с одного на другой в период регулярного обслуживания) решение должно приниматься с участием ответственного сотрудника клиента и сотрудника (или
руководителя группы сопровождения). При осуществлении выбора следует
пользоваться схемой (приведенной на следующей странице), после которой
следует описание соответствующей схеме последовательности действий.
В данном документе USB жесткий диск рассматривается как носитель для записи дистрибутива системы ГАРАНТ.
В ряде случаев, если у клиента нет свободного места на жестком диске, существует возможность использовать
USB жесткий диск в качестве ресурса, на который производится установка и обновление инсталляционной версии
системы ГАРАНТ.
2
Групповой дистрибутив – дистрибутив системы ГАРАНТ, записанный на переносном носителе (например, USB
жесткий диск), в состав которого входят дистрибутивы для нескольких клиентов.
3
Руководитель группы сопровождения должен контролировать увеличение объемов данных комплектов системы
ГАРАНТ. В случаях когда размер установленного у пользователя комплекта системы ГАРАНТ приближается к
максимальной емкости используемого вида носителя, следует провести все необходимые процедуры по переходу
с рабочей версии на мобильный ГАРАНТ или носитель большей емкости.
1
121
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
122
ФЛЕШНАКОПИТЕЛЬ
Рекомендовать
установку USBконтроллера
Мобильный ГАРАНТ
&gt; 8,1 Гб
4,4 Гб
4,4 - 8,1 Гб
Рабочая версия
USBЖЕСТКИЙ
ДИСК
Инсталляционный вариант
(инсталляционная версия)
*Если у клиента нет современного DVD-привода, необходимо рекомендовать установку USB-контроллера с последующим выбором мобильного ГАРАНТа на флеш-накопителе.
**Данные по объемам для разных комплектов приведены в таблице в конце раздела.
&divide;ешение принимает
&not; &shy; &laquo;&reg; &cent; &Ucirc; њ
Мобильный вариант
(мобильный ГАРАНТ/
рабочая версия)
ЭТАПЫ ВЫБОРА (КРИТЕРИИ)
I. Мобильность
Первым критерием, от которого зависит выбор того или иного
вида носителя, является выбор между версией, устанавливаемой
на компьютер клиента (инсталляционная версия), и версией на
мобильных носителях (мобильный ГАРАНТ или рабочая версия).
Этот выбор осуществляется клиентом исходя из своих потребностей.
Для того чтобы ответственный сотрудник клиента смог обдуманно
осуществить такой выбор, ему необходимо предоставить информацию об особенностях каждого продукта.
Особенности мобильного ГАРАНТа (в части выбора носителя):
+ компактность носителя флеш-накопителя и возможность
работы с системой ГАРАНТ на различных компьютерах
(в т. ч. на ноутбуке) обеспечивают удобство его использования в различных ситуациях;
- невозможность работы с системой ГАРАНТ в сетевом режиме (однопользовательская и многопользовательская сетевая
версии).
Особенности рабочей версии (в части выбора носителя):
+ возможность работы с системой ГАРАНТ на различных компьютерах (в т. ч. на ноутбуке);
- вследствие растущего объема дистрибутивов и превышения
объема дистрибутива емкости DVD-R или DVD + R DL многие комплекты не могут быть записаны на этих носителях;
ожидается, что в ближайшей перспективе увеличение размера дистрибутива приведет к невозможности использования
рабочей версии на указанных носителях.
Особенности инсталляционной версии системы ГАРАНТ (в части
выбора носителя для первичной поставки и обновления):
+ возможность поставки как локальной, так и сетевой версии
системы ГАРАНТ;
123
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
– возможность работы с системой ГАРАНТ только на тех компьютерах, где установлена система ГАРАНТ.
II. Привод
Следующим критерием при выборе носителя является выбор варианта носителя исходя из перечня возможных носителей (ограниченного предыдущими этапами) и возможностей компьютера
конечного пользователя. Этот выбор должен осуществляться совместно сотрудником (руководителем группы сопровождения)
и ответственным сотрудником клиента.
Порядок выбора вида носителя, если клиентом выбрана инсталляционная версия:
• в случае наличия на компьютере пользователя USB 2.0 рекомендуется использовать USB жесткий диск, так как это
значительно сокращает время установки. При этом если гнездо USB находится на задней панели компьютера, следует
использовать специальный удлинитель;
• в случае если на компьютере пользователя отсутствует USB 2.0,
но имеется DVD-привод, возможно использование DVD-R.
Порядок выбора вида носителя, если клиентом выбран Мобильный ГАРАНТ или рабочая версия:
• в случае наличия на компьютере пользователя USB рекомендуется использовать мобильный ГАРАНТ на флешнакопителе. При этом наличие USB 2.0 является желательным условием, но не обязательным;
• в случае если на компьютере пользователя отсутствует USB,
рекомендуется использовать рабочую версию на DVD-R или
DVD + R DL. Выбор того или иного вида носителя определяется на этапе &laquo;Объем дистрибутива&raquo;.
Для точного определения типа DVD-привода или USB 2.0 следует
использовать следующие способы:
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
124
DVD-привод:
• отличительной особенностью DVD-привода от CD-привода является наличие надписи DVD на передней панели привода;
• для проверки возможности использования DVD + R DL следует использовать тестовый DVD + R DL; если диск читается
(удается открыть тестовый файл), то применение DVD + R DL
возможно.
Примечание: При визите к клиенту сотрудник должен иметь с собой набор тестовых дисков (DVD-R и DVD + R DL).
USB 2.0:
• открыть &laquo;Диспетчер устройств&raquo; (Device Manager);
• выбрать &laquo;Контроллеры универсальной последовательной
шины USB&raquo; (Universal Serial Bus controllers);
• проверить наличие одного из следующих слов: расширенный,
enhanced, 2.0;
• если хотя бы одно из слов имеется, то USB 2.0 присутствует.
III. Объем дистрибутива (для рабочих версий)
Данный этап выбора существенен только для рабочей версии системы ГАРАНТ. Выбор осуществляется в зависимости от объема
дистрибутива. Проведение анализа и выбора на этом этапе – задача
сотрудника или руководителя группы сопровождения.
125
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Порядок выбора вида носителя:
• для использования комплектов, объем дистрибутива которых
не превышает 4,4 Гб, рекомендуется использовать DVD-R;
• для использования комплектов, объем дистрибутива которых от
4,4 Гб до 8,1 Гб, рекомендуется использовать DVD + R DL;
• для использования комплектов, объем дистрибутива которых превышает 8,1 Гб, рекомендуется установить USBконтроллер с последующим выбором мобильного ГАРАНТа
на флеш-накопителе; в случае когда клиент отказывается от
установки USB-контроллера, клиенту следует предложить
инсталляционную версию.
В нижеследующей таблице приведены данные по объему дистрибутива популярных комплектов.
Внимание!!! Данные по объемам дистрибутивов и объему требуемого свободного места на жестком диске компьютера пользователя
приведены оценочно и зависят от состава комплекта и наличия
региональных блоков.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
126
127
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
19 733
20 630
23 254
30 099
23 549
66 556
34 243
72 678
195 815
ГАРАНТ-Классик+
ГАРАНТ-Универсал
ГАРАНТ-Универсал+
ГАРАНТ-Профессионал
ГАРАНТ-Мастер
ГАРАНТ-Аналитик
ГАРАНТ-Аналитик+
ГАРАНТ-Максимум
ГАРАНТ-Максимум. Вся Россия
2 810
293 135
108 799
51 262
99 634
35 253
45 058
34 811
30 883
29 540
27 834
9 105
Распакованные данные
* При добавлении блока &laquo;База знаний службы Правового консалтинга&raquo; или &laquo;Актуальная бухгалтерия&raquo; размер комплекта увеличивается примерно на 50 Мб.
** Вариант с распаковкой данных требует больше свободного места на жестком диске компьютера клиента и применяется при пакетном обновлении
информационного банка системы ГАРАНТ. Если не отключать пользователей от работы с системой ГАРАНТ во время обновления информационного
банка, программа будет выполнять установку данных в параллельный каталог, что потребует дополнительного объема дискового места в размере устанавливаемого информационного банка.
Для пакетного обновления базы, производимого с отключением пользователей (то есть без резервного копирования), требуется сл дующий объем
свободного места на диске: (объем файлов data.6*)/10 + (объем файлов data.2*) + (объем файлов data.7*), что, по грубой оценке, составляет 4% от
общего объема файлов базы. При вычислении минимального объема свободного дискового пространства для обновления, производимого без отключения
пользователей (то есть с резервным копированием), к указанному выше объему добавляется общий объем файлов базы.
1 877
18 593
ГАРАНТ-Классик
Legislation of Russia in English
6 082
Упакованные данные
Объем дистрибутива (Мб)**
ГАРАНТ-Практик
Название комплекта*
Внимание! Данные по объемам дистрибутивов приведены оценочно и зависят от состава комплекта и наличия региональных блоков.
ИНСТРУКЦИЯ ПО ОБНОВЛЕНИЮ
МОБИЛЬНОЙ ВЕРСИИ
СИСТЕМЫ ГАРАНТ аэро
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
128
Требования к использованию флеш-накопителей и переносных
жестких дисков для работы с системой ГАРАНТ:
• файловая система – FAT32 или NTFS;
• флеш-накопитель (переносной жесткий диск) должен подключаться к порту USB 2.0 и выше.
Невыполнение любого из перечисленных пунктов может
привести к неработоспособности системы ГАРАНТ, запускаемой
с этого носителя.
Рекомендация: При первичной поставке, если флеш-накопитель
(переносной жесткий диск) оборудован переключателем защиты
от записи, диск должен быть переведен в режим read-only перед
подключением устройства к компьютеру пользователя. При использовании файловой системы NTFS файловую систему можно
привести в режим read-only средствами комплекса тиражирования.
Обновление мобильной версии может производиться двумя способами:
1) сменой носителя – в этом случае обновление мобильной версии сводится к отключению старого носителя и подключению
нового;
2) если носитель (флеш-накопитель или переносной жесткий
диск) у пользователя один, предусматриваются две ситуации:
a) версия оболочки не изменилась по сравнению с уже записанной на носитель пользователя – описание этой ситуации
смотрите в разделе &laquo;Методика обновления информационного банка системы ГАРАНТ на флеш-накопителе (переносном жестком диске)&raquo;;
b) версия оболочки изменилась (о смене версии оболочки сотрудников оповещает менеджер; если такого оповещения
не было, считаем, что обновления оболочки не требуется, и
действуем по описанию из пункта а); описание этой ситуации размещено в разделе &laquo;Методика обновления системы
ГАРАНТ на флеш-накопителе (переносном жестком дис-
129
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ке), производимого при смене версии используемой программной оболочки&raquo;.
МЕТОДИКА ОБНОВЛЕНИЯ ИНФОРМАЦИОННОГО
БАНКА СИСТЕМЫ ГАРАНТ аэро НА ФЛЕШНАКОПИТЕЛЕ (ПЕРЕНОСНОМ ЖЕСТКОМ ДИСКЕ)
1. Завершите работу с системой ГАРАНТ.
2. Если флеш-накопитель (переносной жесткий диск), установленный у пользователя, оборудован переключателем защиты
от записи, отключите его, используя функцию безопасного
извлечения устройства, и установите переключатель в режим
read-write. После этого снова подключите устройство к компьютеру пользователя.
3. Подключите носитель, на котором находятся файлы обновления для данного комплекта, к компьютеру пользователя. Файлы обновления могут быть записаны на переносной жесткий
диск, флеш-накопитель или DVD.
Внимание!!! Файлы обновления для каждого мобильного комплекта уникальны. Обновленный комплект не будет работать,
если записать его на флеш-накопитель или переносной жесткий диск, отличный от того, для которого предназначалось
данное обновление.
4. Воспользовавшись Проводником Windows, перейдите в каталог GARANT\DATA обновляемого флеш-накопителя (переносного жесткого диска).
5. Выделите файлы с именем data.* и удалите их.
6
Откройте новое окно Проводника Windows перейдите в каталог
1234567 – НАЗВАНИЕ_ОРГАНИЗАЦИИ\GARANT\DATA
на носителе, содержащем файлы обновления (где 1234567 –
номер заказа клиента, НАЗВАНИЕ_ОРГАНИЗАЦИИ – название клиента). Соответствие номера заказа клиенту можно
определить по вкладышу, прилагаемому к жесткому диску.
7. Выделите файлы с именем data.* и скопируйте их в ранее
открытую папку (GARANT\DATA) на обновляемом флеш-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
130
накопителе (переносном жестком диске) (см. п. 4).
8. Дождитесь завершения копирования.
9. Отключите носитель, на котором находятся файлы обновления. Напоминаем, что для отключения переносных жестких
дисков и флеш-накопителей нужно использовать функцию
безопасного отключения диска.
10. Если флеш-накопитель (переносной жесткий диск), установленный у пользователя, оборудован переключателем защиты
от записи, отключите его, используя функцию безопасного
извлечения устройства, и установите переключатель в режим
read-only. После этого снова подключите устройство к компьютеру пользователя.
11. Запустите систему ГАРАНТ и убедитесь в ее работоспособности и успешности обновления.
МЕТОДИКА ОБНОВЛЕНИЯ СИСТЕМЫ ГАРАНТ аэро
НА ФЛЕШ-НАКОПИТЕЛЕ (ПЕРЕНОСНОМ ЖЕСТКОМ
ДИСКЕ), ПРОИЗВОДИМОГО ПРИ СМЕНЕ ВЕРСИИ
ИСПОЛЬЗУЕМОЙ ПРОГРАММНОЙ ОБОЛОЧКИ
1. Завершите работу с системой ГАРАНТ.
2. Узнайте у пользователя, не сохранял ли он какие-либо свои
личные файлы (не относящиеся к составу ГАРАНТа) в эту
папку, и – если сохранял – перенесите их в другое место.
3. Отключите режим read-only:
131
3.1. Е
сли флеш-накопитель (переносной жесткий диск), установленный у пользователя, оборудован переключателем
защиты от записи, отключите его, используя функцию
безопасного извлечения устройства, и установите переключатель в режим read-write. После этого снова подключите устройство к компьютеру пользователя.
3.2. Е
сли на флеш-накопителе (переносном жестком диске) использовалась файловая система NTFS и была установлена
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
защита от записи, отформатируйте носитель в удобную
для пользователя файловую систему (FAT32 или NTFS).
После форматирования создайте каталог GARANT в корне флеш-накопителя (переносного жесткого диска).
4. Подключите носитель, на котором находятся файлы обновления для данного комплекта, к компьютеру пользователя. Файлы обновления могут быть записаны на переносной жесткий
диск, флеш-накопитель или DVD-диск.
Внимание!!! Файлы обновления для каждого мобильного комплекта уникальны. Обновленный комплект не будет работать,
если записать его на флеш-накопитель или переносной жесткий диск, отличный от того, для которого предназначалось
данное обновление.
5. Воспользовавшись Проводником Windows, перейдите в каталог GARANT обновляемого флеш-накопителя (переносного
жесткого диска).
6. Выделите все файлы и папки в этом каталоге и удалите их
(если они есть).
7. Откройте новое окно Проводника Windows и перейдите в каталог 1234567-НАЗВАНИЕ_ОРГАНИЗАЦИИ\ GARANT\ на
носителе, содержащем файлы обновления (где 1234567- номер
заказа клиента, НАЗВАНИЕ_ ОРГАНИЗАЦИИ – название
клиента). Соответствие номера заказа клиенту можно определить по вкладышу, прилагаемому к жесткому диску).
8. Выделите все папки и файлы в этом каталоге и скопируйте их
в ранее открытую папку (GARANT\) на обновляемом флешнакопителе (переносном жестком диске) (см. п. 5).
9. Дождитесь завершения копирования.
10. Отключите носитель, на котором находятся файлы обновления. Напоминаем, что для отключения переносных жестких
дисков и флеш-накопителей нужно использовать функцию
безопасного отключения диска.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
132
11. Если в пункте 2) вы переносили какие-либо личные файлы
пользователя, перенесите их на прежнее место.
12. Если флеш-накопитель (переносной жесткий диск), установленный у пользователя, оборудован переключателем защиты
от записи, отключите его, используя функцию безопасного
извлечения устройства, и установите переключатель в режим
read-only. После этого снова подключите устройство к компьютеру пользователя.
13. Запустите систему ГАРАНТ и убедитесь в ее работоспособности и успешности обновления.
133
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ИНСТРУКЦИЯ ПО ЭКСПЛУАТАЦИИ
ФЛЕШ-НАКОПИТЕЛЯ
УСЛОВИЯ ИСПОЛЬЗОВАНИЯ ФЛЕШ-НАКОПИТЕЛЯ
ПРОВЕРКА ФЛЕШ-НАКОПИТЕЛЯ НА РАБОТОСПОСОБНОСТЬ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
134
УСЛОВИЯ ИСПОЛЬЗОВАНИЯ ФЛЕШ-НАКОПИТЕЛЯ
При использовании флеш-накопителя требуется соблюдать следующие правила:
1) файловая система FAT32 или NTFS;
2) флеш-накопитель должен подключаться к порту USB 2.0
и выше;
3) при отключении флеш-накопителя необходимо использовать
функцию безопасного извлечения устройства;
4) не извлекать флеш-накопитель, если на нем мигает контрольный индикатор;
5) не извлекать флеш-накопитель во время передачи данных;
6) беречь флеш-накопитель от механических повреждений
(не бросать, не сгибать, не царапать, не вскрывать корпус
и т. д.), а также предохранять от очень высоких или низких
температур, попадания влаги.
Невыполнение любого из перечисленных пунктов может привести к повреждению флеш-накопителя и его неработоспособности.
Каждый флеш-накопитель маркирован гарантийной наклейкой
с индивидуальным номером. В случае порчи или удаления гарантийной наклейки поставщик может отказать в диагностике,
ремонте или замене флеш-накопителя.
ПРОВЕРКА ФЛЕШ-НАКОПИТЕЛЯ
НА РАБОТОСПОСОБНОСТЬ
135
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
При возникновении проблем в работе с флеш-накопителем следует определить возможную причину его неработоспособности.
Во-первых, следует осуществить визуальный осмотр и определить наличие механических повреждений; во-вторых, провести
аппаратную проверку:
• произвести форматирование флеш-накопителя средствами
ОС;
• произвести тестирование флеш-накопителя тестом Flashnul
(можно скачать на FTP в папке /distrib/ flashnul/flashnul.
zip).
Запуск с параметрами flashnul.exe F: -T, где F – буква диска флешнакопителя:
• если программа отработала без ошибок (errors: 0), значит,
носитель работоспособен;
• если первый запуск программы окончился с ошибками
(сообщение errors: &gt;0), необходимо переподключить флешнакопитель и произвести тестирование заново.
При возникновении ошибок рекомендуется минимум пятикратный запуск утилиты, поскольку после каждого теста, окончившегося ошибкой записи/чтения, поврежденные сектора флешнакопителя помечаются как сбойные и больше не участвуют в
работе.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
136
ИНСТРУКЦИЯ ПО УСТАНОВКЕ
(ОБНОВЛЕНИЮ)
СИСТЕМЫ ГАРАНТ аэро
С ПЕРЕНОСНОГО ЖЕСТКОГО ДИСКА
ПОДКЛЮЧЕНИЕ ЖЕСТКОГО ДИСКА
УСТАНОВКА (ОБНОВЛЕНИЕ)
ПРОВЕРКА РЕЗУЛЬТАТОВ УСТАНОВКИ (ОБНОВЛЕНИЯ)
ОТКЛЮЧЕНИЕ ЖЕСТКОГО ДИСКА
137
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ПОДКЛЮЧЕНИЕ ЖЕСТКОГО ДИСКА
ВАЖНО!!! Для подключения переносного жесткого диска
старайтесь выбрать компьютер с интерфейсами USB версии
2.0. Скорость чтения данных с переносного жесткого диска на
таком компьютере будет в несколько раз выше, чем на компьютере с интерфейсом USB версии 1.1.
1. Убедитесь, что у вас есть права Администратора, необходимые
для автоматического подключения в систему нового устройства.
2. Переносной жесткий диск необходимо подключать к системному блоку по двум USB-разъемам.
ВАЖНО!!! Перед выездом к клиенту необходимо убедиться
в том, что в комплекте к жесткому диску идет двойной USBкабель.
2.1.Подключите разъем питания и смежный с ним USBразъем двойного USB-кабеля к переносному жесткому
диску.
2.2. Подключите к системному блоку клиента USB-разъем,
соответствующий разъему питания, подключенному
к жесткому диску.
2.3.Подключите к системному блоку клиента USB-разъем,
соответствующий USB-разъему, подключенному к жесткому диску.
2.4.Жесткий диск должен распознаться системой и появиться в списке доступных логических дисков.
УСТАНОВКА (ОБНОВЛЕНИЕ)
Произведите первую установку или обновление системы ГАРАНТ
в соответствии с пунктом &laquo;Быстрое введение в процесс установки
и использования системы&raquo; документа &laquo;Система ГАРАНТ. Краткое
техническое описание&raquo;.
ПРОВЕРКА РЕЗУЛЬТАТОВ УСТАНОВКИ (ОБНОВЛЕНИЯ)
1. После завершения установки данных необходимо проверить
работоспособность программы (для локальной версии – на
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
138
машине, куда программа установлена, для сетевой версии – на
двух клиентских машинах, как минимум):
1.1. Проверьте дату обновления информационного банка
(Справка\Информация о комплекте\Дата обновления).
1.2. Проверьте работу поиска по реквизитам.
1.3. Проверьте сохранность персональных настроек клиента
(если были).
2. Удалите дистрибутив, если копировали его на жесткий диск
клиентской машины.
ОТКЛЮЧЕНИЕ ЖЕСТКОГО ДИСКА
1. Дважды щелкните левой кнопкой мыши по иконке &laquo;Безопасное извлечение и удаление устройств&raquo; в системной трее
(правый нижний угол экрана, рядом с часами) и отключите
переносной жесткий диск.
2. Отключите кабели в последовательности, обратной п. 2 этапа
&laquo;Подключение жесткого диска&raquo;.
139
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ИНСТРУКЦИЯ ПО СБОРУ ЛОГ-ФАЙЛОВ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
140
В целях облегчения сбора пользовательских лог-файлов в версии разработан механизм автоматического формирования и копирования архива с логами. Подробно цели и организационные
подробности акции описаны в отдельном документе.
Для того чтобы им воспользоваться, вам потребуется подготовленный специальным образом носитель – USB флешнакопитель или переносной USB диск.
Технически автоматизированный сбор лог-файлов пользователей организован следующим образом:
1) Запустите datasetup.exe из каталога с установленным
ГАРАНТом. Запустится Мастер установки данных – он работает как обычно.
2) В конце работы Мастера установки данных на экране появится окно &laquo;Произвести сохранение статуса установки?&raquo;.
Нажмите кнопку &laquo;Да&raquo; для сохранения лог-файлов.
После этого вы увидите стандартное окно выбора каталога для
сохранения:
141
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Щелкните мышкой по иконке &laquo;Мой компьютер&raquo;, выберите
специально подготовленный носитель, на который вы хотите
сохранить лог-файлы пользователей (USB флеш-накопитель
или переносной жесткий диск), и нажмите кнопку &laquo;OK&raquo;.
В случае если носитель подготовлен правильно, то есть на
нем присутствует файл-хранилище (F1GARANT.GarantLS)
и в этом файле-хранилище достаточно свободного места для
записи в него лог-файлов пользователя, вы получите сообщение: Статус установки успешно сохранен.
Появление этого сообщения означает успешное окончание сохранения архива лог-файлов пользователя в файл-хранилище.
Если в упомянутом выше файле-хранилище недостаточно места для сохранения лог-файлов, лог-файлы нужно сохранить
на другой носитель, а этот носитель нужно сдать специалистам
вашей организации.
Если на носителе отсутствует файл-хранилище, сохранение
будет произведено по старому алгоритму: архив с лог-файлами
пользователей сохранится в выбранный каталог с уникальным
названием в формате гггг-мм-дд-чч-мм-сс-???.mf, например
2008-08-27-12-02-07-040.mf.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
142
После сохранения лог-файлов без файла-хранилища вы увидите сообщение:
143
Появление этого сообщения означает успешное окончание
сохранения архива лог-файлов пользователя в виде .mf-файлов
в выбранный каталог.
Подробная инструкция по дальнейшей обработке собранных
лог-файлов пользователей доведена до сведения менеджеров.
Если по какой-либо причине вы хотите отказаться от сохранения лог-файлов, нажмите кнопку &laquo;Нет&raquo; в окне &laquo;Произвести
сохранение статуса установки?&raquo; для завершения установки
данных.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ПОРЯДОК ДЕЙСТВИЙ
СПЕЦИАЛИСТОВ ПО ОБСЛУЖИВАНИЮ
СИСТЕМЫ ГАРАНТ аэро
ПРИ НАСТРОЙКЕ ИНДИВИДУАЛЬНЫХ
НОВОСТНЫХ ЛЕНТ ПРАЙМ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
144
Описанные ниже действия обязательны вне зависимости от того,
будет ли пользователь получать новостные ленты по электронной
почте.
Индивидуальные новостные ленты в системе ГАРАНТ – это подборки аннотаций, удовлетворяющих критериям, заданным в индивидуальной анкете ПРАЙМ.
Аналитическая новостная лента доступна пользователю в двух
видах:
• в виде специального раздела &laquo;Моя новостная лента&raquo;, интегрированного в систему ГАРАНТ;
• в виде ежедневных писем по электронной почте либо в виде
предоставляемой пользователю бумажной распечатки.
В системе ГАРАНТ можно настроить неограниченное количество
различных индивидуальных новостных лент (и, соответственно,
оформить заявку на неограниченное количество электронных новостных лент ПРАЙМ).
1. Форма для заполнения индивидуальных анкет ПРАЙМ позволяет указать критерии для отбора информации в новостной
ленте в системе ГАРАНТ, а также настроить получение новостных лент ПРАЙМ по электронной почте. Форма доступна
для заполнения как пользователям, так и специалистам по
установке / обновлению системы ГАРАНТ. Во втором случае
заполнение анкеты требует консультаций с пользователем –
выяснения его интересов, сферы деятельности и др.
2. Вызов формы редактора анкет ПРАЙМ доступен пользователям во всех случаях, кроме:
• поставки системы ГАРАНТ в файл-серверной версии,
• у пользователей отсутствует соединение с Интернетом.
145
В этих случаях доступна только технология заполнения анкет
ПРАЙМ силами специалистов обслуживающей организации.
Для заполнения анкет ПРАЙМ специалисту обслуживающей
организации необходимо запустить утилиту F1prime.exe из
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
каталога Apps папки, в которую установлена система ГАРАНТ
(по умолчанию для инсталляционных версий – С:\Program
files\Garant\apps\F1prime.exe, для версий на переносном
носителе – %GARANT%:\Garant\apps\F1prime.exe). (См.
также встроенную справку к утилите F1prime.exe.)
3. Перед запуском F1prime.exe необходимо закрыть систему
ГАРАНТ – одновременная работа на одном компьютере системы и программы настройки новостных лент невозможна.
4. Запуск F1prime.exe производится:
• в случае локальной версии – на компьютере, на котором
установлена локальная версия ГАРАНТ;
• в случае версий на переносном носителе – на компьютере (компьютерах), на котором (которых) предполагается использование настроенных новостных лент в системе
ГАРАНТ;
• в случае клиент-серверной версии – на любой рабочей
станции или сервере; при запуске на рабочей станции потребуются права на чтение каталога с серверной частью
ГАРАНТ;
• в случае файл-серверной версии – на любой рабочей станции или на сервере.
ВАЖНО!!! Чтобы настроенные новостные ленты были доступны всем пользователям файл-серверной версии, необходимо, чтобы на машине, с которой производится запуск F1prime.
exe, были права на запись в подкаталог %GARANT_ROOT%\
settings.xml (каталог с установленным ГАРАНТом на файловом
сервере).
5. Правила и рекомендации по заполнению индивидуальной анкеты ПРАЙМ приведены в документе &laquo;Инструкция по заполнению индивидуальной анкеты ПРАЙМ&raquo;.
6. После заполнения параметров каждой новостной ленты сохраните
ее (кнопка &laquo;Сохранить&raquo; в нижнем левом углу экрана с параметрами данной новостной ленты). В результате этого действия данная
новостная лента сохранится в настройках пользователя (в том
числе – для всех пользователей сетевой версии).
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
146
7. После заполнения и сохранения всех новостных лент распечатайте каждую из них (кнопка &laquo;Печать…&raquo; на панели инструментов) для оформления с пользователем соответствующего
приложения к договору.
8. Выполните операцию &laquo;Экспортировать все индивидуальные
настройки в файл&raquo; (вызывается через пункт командного меню
или нажатием кнопки на панели инструментов). В результате
этого действия в каталоге, выбранном в диалоговом окне сохранения, появится файл специального формата с названием
Номер_карточки_клиента.psx. Этот файл будет содержать
информацию обо всех сохраненных в настройках данного комплекта индивидуальных лентах (далее эта информация будет
использована для оформления электронных новостных лент
ПРАЙМ).
9. Полученный файл должен быть доставлен любым удобным
способом в обслуживающую организацию. Может оказаться
полезным отправить этот файл по электронной почте с адреса,
на который должна поступать рассылка (это также поможет
проверить работоспособность указанного в настройках электронной почты).
Примечание: Файлы Номер_карточки_клиента.psx будут иметь
разные (уникальные) названия для разных клиентов, но для разных
комплектов одного клиента это имя будет одинаковым. Обратите
внимание на то, что если у одного клиента есть несколько комплектов
и для каждого из них нужно настроить электронные новостные ленты ПРАЙМ, то сохраняемые файлы нужно переименовывать после
сохранения либо сохранять их в отдельные папки, чтобы не пытаться
сохранить файл с одним и тем же названием в одну папку несколько
раз. Важно только сохранить расширение .psx, название файла не
влияет на его принадлежность.
147
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОПИСАНИЕ УТИЛИТЫ
СОЗДАНИЯ РАССЫЛКИ ПРАЙМ
НАЗНАЧЕНИЕ
ВИД
УПРАВЛЕНИЕ СПИСКОМ РАССЫЛОК
НАСТРОЙКА ПАРАМЕТРОВ РАССЫЛКИ
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
148
Настоящее справочное руководство посвящено описанию утилиты создания рассылки, входящей в состав оболочки системы
ГАРАНТ.
НАЗНАЧЕНИЕ
Утилита создания рассылки предназначена для управления тематиками индивидуальных новостных лент пользователей, в случае
если в состав установленного комплекта входит блок ПРАЙМ.
ВИД
Окно программы состоит из:
• вкладки &laquo;Моя новостная лента&raquo;, на которой отображаются
все созданные ленты;
• формы настройки параметров выбранной ленты.
Общий вид окна программы создания рассылки
149
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
УПРАВЛЕНИЕ СПИСКОМ РАССЫЛОК
На вкладке, а также в контекстном меню выбранной ленты доступны следующие управляющие команды:
Вид
Название
Описание
Новая индивиду- Предлагает для заполнения пусальная лента
тую форму настройки параметров.
При этом до сохранения новой
темы курсор на вкладке &laquo;Моя новостная лента&raquo; сохраняет позицию
на последней активной теме
Редактировать
Переходит к редактированию индивидуальную выбранной темы
ленту
Удалить
индивидуальную Удаляет выбранную рассылку
ленту
Экспортировать
все
индивидуальные ленты в
файл
Сохраняет список созданных рассылок в файл формата XML, необходимых для оформления подписки на рассылку
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
150
НАСТРОЙКА ПАРАМЕТРОВ РАССЫЛКИ
Параметры индивидуальной новостной ленты делятся на три
группы:
151
Название группы
Описание
Параметры
комплекта
Данная группа параметров автоматически
заполняется из информации об установленном информационном банке. Не подлежит редактированию, за исключением
информации об обслуживающей организации
Тематические
параметры
Данная группа параметров обязательна
для заполнения, так как в совокупности
определяет подборку документов, которая войдет в новостную ленту. Заполнение полей производится по аналогии с
заполнением карточки запроса поиска
по реквизитам. В случае когда один или
несколько параметров не заданы, при попытке сохранить тематику будет выдано
предупреждение о необходимости указать
первый из незаполненных параметров
Параметры
рассылки
Данная группа параметров состоит из
единственного параметра – электронной
рассылки. Поле обязательно для заполнения только в случае оформления рассылки данной новостной ленты по электронной почте
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
С формой могут быть проделаны следующие операции:
Вид
Название
Описание
Сохранить
Сохраняет введенные или отредактированные параметры выбранной новостной ленты
Очистить
Очищает содержимое редактируемых полей формы, за исключением раздела &laquo;Параметры комплекта&raquo; и поля &laquo;Название&raquo;
Печать
Выводит на печать заполненную форму заказа выбранной
рассылки
Предварительный Открывает для предварительного
просмотр
просмотра форму заказа выбранной рассылки
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
152
ИНСТРУКЦИЯ
ПО ЗАПОЛНЕНИЮ
ИНДИВИДУАЛЬНОЙ
АНКЕТЫ ПРАЙМ
ПРАВИЛА ЗАПОЛНЕНИЯ АНКЕТЫ
153
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Важной составляющей сервисного информационного продукта
ПРАЙМ является индивидуальная новостная лента. Сделать новостную ленту индивидуальной (исключающей лишнее и предоставляющей информацию для конкретного специалиста со строго
очерченными задачами) помогает система тонкой настройки. Для
индивидуализации новостной ленты необходимо воспользоваться
специально разработанной анкетой. Ответы на вопросы формируют наполнение новостной ленты. Заполненную новостную ленту
можно направлять нескольким специалистам. Для этого в строку
ввода адресов электронной почты для рассылки нужно ввести несколько адресов через запятую.
Прежде чем заполнять анкету, рекомендуем внимательно изучить
всю анкету целиком.
ПРАВИЛА ЗАПОЛНЕНИЯ АНКЕТЫ
1. Количество выбираемых значений и точность ленты
Число указываемых значений в каждом разделе неограниченно. Однако если будет выбрано чрезмерно много значений, картина индивидуальной тонкой настройки может быть нарушена. С другой стороны,
существует опасность слишком узко определить критерии новостной
ленты, чего также следует избегать. Оптимальным является выбор
двух-трех критериев в одном разделе. Заполнение раздела &laquo;Налоги
и налогообложение&raquo; является обязательным условием.
2. Выбор вида информации
Определитесь, новости о каких видах правовой информации пользователь хотел бы получать:
• о федеральном законодательстве и проектах законов;
• о судебной практике (включающей в том числе постановления всех 10 окружных федеральных арбитражных судов);
• о региональном законодательстве.
Если пользователю необходимо получать информацию и по законодательству, и по судебной практике, и по региональному законодательству, необходимо отметить все три значения. В этом случае
ему будут приходить три письма: по законодательству и судебной
практике – ежедневно, а по региональному законодательству – один
раз в неделю.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
154
3. Комплексное и логичное заполнение анкеты
Наполнение индивидуальной новостной ленты зависит от выбранных значений всех пяти разделов анкеты. Именно поэтому
при заполнении анкеты необходимо помнить, что указывать информацию следует комплексно. Комплексность в данном случае
подразумевает наличие взаимосвязанных значений, которые лучше выбирать совместно. Данный совет обусловлен логической
привязкой одного значения к другому.
Пример
Если в разделе &laquo;Налоги и налогообложение&raquo; вы отметили &laquo;Единый сельскохозяйственный налог&raquo;, то в разделе &laquo;Сфера интересов&raquo; полезно также указать один из подходящих подразделов
&laquo;Сельского хозяйства&raquo;.
Следуя приведенному примеру, выберите те разделы, которые
полностью охватывают интересующую вас проблему.
4. Избежание противоречивого выбора
При заполнении анкеты следует избегать выбора изначально противоречащих друг другу значений в разделах. В противном случае
результат, который будет приходить в виде новостной ленты, вряд
ли окажется корректным.
Пример
Так как кредитные организации и банки не имеют права использовать
упрощенный режим налогообложения, одновременный выбор в разделе &laquo;Сфера интересов&raquo; значения &laquo;Банки, кредитные организации&raquo; и
в разделе &laquo;Налоги и налогообложение&raquo; значения &laquo;Упрощенная система
налогообложения&raquo; будет противоречивым и, как следствие, приведет к
тому, что в новостной ленте будет большое количество лишней информации и не будет нужной, касающейся деятельности банков.
5. Выбор подходящей сферы интересов
Без сомнения, сфера деятельности специалиста и сфера его интересов зачастую различаются. Например, если пользователь занимается аудиторской деятельностью, вероятно, в первую очередь
его будут интересовать не вопросы организации такой деятельности, а регулирование тех сфер, аудит которых он осуществляет.
При заполнении анкеты необходимо грамотно и наиболее полно
очертить именно круг интересов. Если вам трудно выбрать под-
155
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ходящую сферу интересов, проанализируйте анкету на наличие
в ней более общих тематик, включающих в себя ваш вопрос.
Пример
В случае если пользователя интересует информация о нежилых помещениях, то в анкете надо отметить &laquo;Сфера интересов&raquo;: Строительство, недвижимость, ЖКХ/Нежилые помещения. Если клиент
занимается частным охранным бизнесом, то ему необходимо отметить
&laquo;Сфера интересов&raquo;: Суды, адвокатура, нотариат, правоохранительные органы/Частная сыскная и охранная деятельность. Если пользователя занимают вопросы игорного бизнеса, ему следует отметить
&laquo;Налоги и налогообложение&raquo;: Налог на игорный бизнес.
При заполнении анкеты также необходимо учитывать, что некоторые подразделы раздела &laquo;Сферы интересов&raquo; имеют двухуровневую
структуру, что позволяет более точно определить интересующий вас
круг вопросов. Так, раздел &laquo;Внешнеэкономическая деятельность&raquo;
содержит подразделы &laquo;Импорт товаров&raquo;, &laquo;Экспорт товаров&raquo;, &laquo;Иные
таможенные режимы и процедуры&raquo; и &laquo;Таможенное дело&raquo;. При этом
у вас есть возможность отметить как весь раздел целиком, так и отдельные подразделы из этого раздела. В ситуации, когда вы выбираете
весь раздел целиком, следует удостовериться, что пользователя действительно интересуют все значения, представленные в этом разделе.
Рассмотрим иную ситуацию. Так, в разделе &laquo;Торговля&raquo; представлены
такие подразделы, как &laquo;Торговля продовольственными товарами&raquo;,
&laquo;Торговля лекарственными средствами, медицинскими изделиями&raquo;,
&laquo;Торговля алкогольной, табачной продукцией&raquo; и &laquo;Торговля оружием,
взрывчатыми материалами&raquo;. В случае если пользователя интересуют
документы по торговле иными видами товаров, в данном разделе ему
необходимо отметить подраздел &laquo;Иное&raquo;.
В раздел &laquo;Сфера интересов физических лиц&raquo; включаются документы, которые могут затрагивать не столько вопросы профессиональной деятельности, сколько личные интересы как человека
и гражданина.
Например, освещаются такие темы: отпуска и праздничные дни,
заполнение декларации по НДФЛ, призыв на срочную военную
службу, денежное обращение на территории России и другие. Рекомендуем при заполнении карточки индивидуализации отмечать
в числе прочих и раздел &laquo;Сфера интересов физических лиц&raquo;.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
156
ОПИСАНИЕ МЕХАНИЗМОВ РЕЗЕРВНОГО
КОПИРОВАНИЯ / ВОССТАНОВЛЕНИЯ
ПОЛЬЗОВАТЕЛЬСКИХ НАСТРОЕК
СИСТЕМЫ ГАРАНТ аэро
ОБЩИЕ ПРИНЦИПЫ
ОСОБЕННОСТИ СЕТЕВОЙ КЛИЕНТ-СЕРВЕРНОЙ ВЕРСИИ
ОСОБЕННОСТИ ФАЙЛ-СЕРВЕРНОЙ ВЕРСИИ
ОСОБЕННОСТИ ЛОКАЛЬНОЙ ВЕРСИИ
ОСОБЕННОСТИ РАБОЧЕЙ ВЕРСИИ
157
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
В новой версии системы ГАРАНТ появилась возможность автоматического резервного копирования пользовательских настроек, а также возможность их восстановления из резервной копии.
Принципы механизма резервирования/восстановления делятся на
общие и индивидуальные для разных типов установки оболочки.
ОБЩИЕ ПРИНЦИПЫ
1. Включение механизма резервного копирования выполняется
параметром -XMLBackupEnable=1 (стоит по умолчанию).
2. Отключение механизма резервного копирования выполняется присвоением параметру -XMLBackupEnable значения
&laquo;0&raquo; (можно выставить вручную для отключения сохранения
резервной копии настроек).
3. Резервная копия настроек сохраняется в подкаталог
XMLBackup папки с пользовательскими настройками.
4. В рамках механизма резервирования выполняется сохранение
как групповых настроек (список пользователей с параметрами учетных записей, в том числе с параметрами доступа
к услугам правового консалтинга, настройки доступа к серверу
консультаций), так и основной части индивидуальных (папки,
закладки, комментарии) пользователей.
5. Сохранение групповых настроек происходит:
– при первом выходе из системы любого из пользователей,
если папка XMLBackup была пуста;
– после выхода из оболочки администратора системы (учетная
запись ADMIN);
– при авторегистрации нового пользователя;
– через семь дней с момента последнего обновления групповых
настроек, при выходе из оболочки любого пользователя.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
158
6. Сохранение индивидуальных настроек пользователя выполняется после выхода пользователя из оболочки.
ПРИМЕЧАНИЕ! Таким образом, при инициировании процедуры восстановления, если пользователь не входил в систему с момента запуска резервирования, его индивидуальные настройки
не будут восстановлены, в то время как профиль пользователя
сохранится.
7. Восстановление должно выполняться на эталонных (&laquo;чистых&raquo;) настройках, содержащих только предустановленные
профили пользователей (другими словами, такими настройками, как после первой установки системы с дистрибутива).
ПРИМЕЧАНИЕ! Восстановление на неэталонных настройках
не поддерживается!
8. У локальной и сетевой клиент-серверной версий копия эталонных настроек хранится в подкаталоге %garant root%\Settings\
Etaloncopy. В файл-серверной, мобильной и рабочей версиях эталонные настройки хранятся в каталоге %GARANT%\
Settings.
9. Если пароль администратора системы (учетная запись ADMIN)
в восстанавливаемых настройках отличается от умолчательного значения (ADMIN), перед запуском процедуры восстановления его необходимо изменить и в эталонных настройках.
Подробнее см. пункт &laquo;Особенности сетевой клиент-серверной
версии&raquo;.
10. Восстановление настроек из резервной копии выполняется
параметром -XMLRestoreBackup=1.
11. В случае успешной отработки механизма восстановления настроек значение параметра &laquo;-XMLRestoreBackup&raquo; меняется
на 0.
159
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ОСОБЕННОСТИ СЕТЕВОЙ КЛИЕНТ-СЕРВЕРНОЙ
ВЕРСИИ
1. Параметр - XMLBackupEnable, необходимый для включения/
отключения резервного копирования настроек, находится в секции [F1Server Params] файла garant.ini серверной части.
2. Параметр - XMLRestoreBackup, необходимый для запуска
процедуры восстановления настроек, находится в секции
[F1Server Params] файла garant.ini серверной части.
В общем случае порядок действий при восстановлении настроек
сетевой клиент-серверной версии из текущей резервной копии
следующий:
1) остановите службу ГАРАНТа;
2) сделайте резервную копию каталога %GarantRoot%\ Settings\
XMLBackup, где %GarantRoot% – путь к папке с ГАРАНТом;
3) удалите из подкаталога Settings все файлы и папку
UserData;
4) скопируйте в папку Settings все файлы и папку UserData из
каталога Etaloncopy;
5) отредактируйте файл garant.ini таким образом, чтобы в секции
[F1Server Params] появилась строка - XMLRestoreBackup=1;
6) запустите службу ГАРАНТа. В процессе запуска должно произойти восстановление резервных настроек;
7) убедитесь, что прежние настройки пользователей снова доступны, и если это так, удалите папку, созданную на шаге 2.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
160
Если пароль администратора отличается от умолчательного значения (ADMIN), между шагами 4 и 5 выполните следующие действия:
• запустите службу ГАРАНТа;
• войдите в систему с учетной записью администратора
(ADMIN/ADMIN) и измените пароль этой учетной записи
на нужный;
• остановите службу ГАРАНТа;
• скопируйте содержимое каталога, созданного на шаге 2, обратно в папку %GarantRoot%\Settings\XMLBackup с заменой файлов &laquo;поверх&raquo;.
ОСОБЕННОСТИ ФАЙЛ-СЕРВЕРНОЙ ВЕРСИИ
1. Параметр - XMLBackupEnable, необходимый для включения/
отключения резервного копирования настроек:
a) для всех пользователей файл-серверной версии – находится в секции [F1Server Params] файла garant.ini;
b) для конкретного пользователя конкретной рабочей
станции – можно задать при помощи параметра XMLBackupEnable в ветке системного реестра HKEY_
CURRENT_USER\Software\Garant.F1 (таким образом
можно задать для конкретного пользователя значение
этого параметра, отличное от значения параметра для
всех пользователей).
2. Для запуска процедуры восстановления настроек файл-серверной версии нужно поместить параметр MLRestoreBackup в ветку системного реестра HKEY_ CURRENT_USER\Software\
Garant.F1 рабочей станции, на которой планируется запустить
восстановление.
В общем случае порядок действий при восстановлении настроек
конкретного пользователя сетевой файл-серверной версии из текущей резервной копии следующий:
1) сделайте резервную копию подкаталога %GarantSettingsRoot%\
Settings\XMLBackup, где %GarantSettingsRoot% – путь к пап-
161
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ке с настройками ГАРАНТа данного пользователя (по умолчанию c:\ Documents and Settings\%username%\Application
Data\ Garant-NET);
2) удалите из подкаталога Settings все файлы и папку
UserData;
3) скопируйте в папку Settings все файлы и папку UserData из
каталога с эталонными настройками;
4) импортируйте в системный реестр reg-файл следующего содержания:
REGEDIT4
[HKEY_CURRENT_USER\SOFTWARE\Garant.F1]
&laquo;-XMLRestoreBackup&raquo;=&laquo;1&raquo;;
5) запустите ГАРАНТ; в процессе запуска должно произойти восстановление резервных настроек;
6) убедитесь, что прежние настройки снова доступны, и, если это
так, удалите папку, созданную на шаге 1.
ВНИМАНИЕ!!! ОСОБЕННОСТИ ЛОКАЛЬНОЙ ВЕРСИИ
1. Параметр - XMLBackupEnable, необходимый для включения/отключения резервного копирования настроек, находится
в секции [F1Server Params] файла garant.ini.
2. Для запуска процедуры восстановления настроек локальной
версии нужно поместить параметр MLRestoreBackup в ветку системного реестра HKEY_CURRENT_USER\ Software\
Garant.F1.
В общем случае порядок действий при восстановлении локальной
версии из текущей резервной копии следующий:
1) сделайте резервную копию подкаталога %appdata%\ GarantLocal\Settings\XMLBackup, где %appdata% – переменная среды Windows, указывающая на подкаталог Application Data
профиля текущего пользователя Windows;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
162
2) удалите из подкаталога Settings все файлы и папку
UserData;
3) скопируйте в папку Settings все файлы и папку UserData из
каталога Etaloncopy;
4) импортируйте в системный реестр reg-файл следующего содержания:
REGEDIT4
[HKEY_CURRENT_USER\SOFTWARE\Garant.F1]
&laquo;-XMLRestoreBackup&raquo;=&laquo;1&raquo;;
5) запустите ГАРАНТ; в процессе запуска должно произойти восстановление резервных настроек;
6) убедитесь, что прежние настройки снова доступны, и, если это
так, удалите папку, созданную на шаге 1.
ОСОБЕННОСТИ РАБОЧЕЙ ВЕРСИИ
1. Для пользователей рабочего диска резервное копирование
настроек всегда выполняется по умолчанию, так как в секции [F1Server Params] файла garant.ini присутствует строка
-XMLBackupEnable=1. Для отключения ведения резервной копии настроек пользователя конкретной рабочей станции достаточно добавить в ветку системного реестра HKEY_CURRENT_
USER\ Software\Garant.F1 параметр XMLBackupEnable=0
(значение из реестра является приоритетным для оболочки
относительно значения в конфигурационном файле).
2. Для запуска процедуры восстановления настроек рабочей версии нужно поместить параметр MLRestoreBackup в ветку системного реестра HKEY_CURRENT_USER\ Software\Garant.
F1 рабочей станции, на которой планируется запустить восстановление.
163
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
В общем случае порядок действий при восстановлении настроек
рабочей версии из текущей резервной копии следующий:
1) сделайте резервную копию подкаталога %GarantSettingsRoot%\
Settings\XMLBackup, где %GarantSettingsRoot% – путь к папке с настройками ГАРАНТа данного пользователя (по умолчанию c:\Documents and Settings\%username%\ Application
Data\Garant-DVD);
2) удалите из подкаталога Settings все файлы и папку
UserData;
3) скопируйте в папку Settings все файлы и папку UserData из
каталога с эталонными настройками;
4) импортируйте в системный реестр reg-файл следующего содержания: REGEDIT4 [HKEY_CURRENT_USER\SOFTWARE\
Garant.F1] &laquo;-XMLRestoreBackup&raquo;=&laquo;1&raquo;;
5) запустите ГАРАНТ; в процессе запуска должно произойти восстановление резервных настроек;
6) убедитесь, что прежние настройки снова доступны, и, если это
так, удалите папку, созданную на шаге 1.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
164
ВОПРОСЫ И ОТВЕТЫ
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА ЗАГРУЗКИ ПАКЕТНОГО
ПОПОЛНЕНИЯ
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА УСТАНОВКИ ПАКЕТНОГО
ПОПОЛНЕНИЯ
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА УСТАНОВКИ ДАНЫХ
ЧАСТЫЕ ВОПРОСЫ ПО ТЕХНИЧЕСКИМ ОСОБЕННОСТЯМ
РЕАЛИЗАЦИИ УСЛУГИ ПРАВОВАЯ ПОДДЕРЖКА ОНЛАЙН
ВОПРОСЫ, ЧАСТО ЗАДАВАЕМЫЕ СПЕЦИАЛИСТАМ СЛУЖБЫ
ТЕХНИЧЕСКОЙ ПОДДЕРЖКИ
165
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА ЗАГРУЗКИ
ПАКЕТНОГО ПОПОЛНЕНИЯ
Сообщения программы
В этом разделе поясняются некоторые сообщения, которые могут
встретиться в процессе загрузки пакетного пополнения.
Сервер пакетного пополнения не отвечает
Программе не удалось получить доступ к сети Интернет или обнаружить сервер пакетного пополнения. Скорее всего, причина в физическом отсутствии доступа к сети или в некорректных
настройках Интернета, выставленных в операционной системе:
Пуск(Start): Панель управления(Control Panel): Свойства
обозревателя (Internet Options): вкладка &laquo;Подключение&raquo;
(Connections).
Наличие корректного доступа в Интернет вы можете проверить,
следующей последовательностью действий:
• запустите Internet Explorer;
• перейдите на интернет-сайт системы ГАРАНТ в раздел &laquo;Телекоммуникационное обновление&raquo;;
• введите логин и пароль.
Если страница откроется успешно, то сеть и настройки в порядке.
Неверный логин или пароль
Данное сообщение появляется, если при подключении к серверу
вы указали неверный логин или пароль.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
166
Неверный логин или пароль
Две самых частых ошибки – использование русской раскладки и
несоблюдение регистра символов (большие и маленькие буквы)
при вводе логина или пароля.
Уточнить забытый логин или пароль можно у обслуживающего
менеджера.
Для комплекта .. за период с .. по .. обновление не предусмотрено
На сервере отсутствуют файлы с обновлением для вашего комплекта банка данных.
За разъяснением причин следует обратиться к обслуживающему
менеджеру.
Обновление за период не предусмотрено
Для комплекта &laquo;Эталон&raquo; не предусмотрено обновление за период
с 28.02.2010 по 01.03.2010.
167
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Введен недопустимый интервал дат
Поскольку на сервере не может быть обновлений за будущие дни,
дата &laquo;По&raquo; не должна превышать текущую дату. Второе обязательное условие – дата &laquo;С&raquo; должна быть меньше даты &laquo;По&raquo;.
Введен недопустимый интервал дат
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА УСТАНОВКИ
ПАКЕТНОГО ПОПОЛНЕНИЯ
Сообщения программы
В этом разделе поясняются некоторые сообщения, которые могут встретиться в процессе распознавания дельт общего порядка
действий.
Тома отсутствуют или повреждены
В каталоге DELTA находится неполный набор томов, на которые
дельта была разбита сервером пакетного пополнения.
Вероятные причины:
• с сервера скачаны не все тома:
следует скачать недостающие;
• некоторые тома скачались с повреждениями:
следует повторно скачать поврежденные тома;
• при сохранении у некоторых томов была нарушена структура
названия:
с ледует привести названия перечисленных томов в соответствие со структурой &lt;имя_тома&gt;.&lt;порядковый_номер_
тома&gt;;
• при получении по электронной почте некоторые тома были
утеряны:
с ледует до вечера следующей после рассылки пятницы ска-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
168
чать указанные тома вручную, в противном случае снова
придется получать всю дельту.
Тома отсутствуют или повреждены
Для объединения дельты не хватает тома с индексом 2. Возможно,
том 2 поименован не соответствующим образом.
Поврежден архив
Проверьте наличие свободного места на диске и права пользователя. Если с этим все в порядке, возможно, программа обнаружила
поврежденные архивы. Скорее всего, повреждение произошло во
время скачивания, поэтому необходимо получить перечисленные
файлы повторно.
169
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Появление сообщения &laquo;Поврежден архив&raquo;
Повреждена дельта
Вероятная причина – во время скачивания произошло повреждение, поэтому необходимо получить перечисленные дельты повторно.
Появление сообщения &laquo;Повреждена дельта&raquo;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
170
Лишние сегменты
Дельты предназначены для обновления комплекта, отличного по
составу от установленного. В состав установленного комплекта
не входят перечисленные сегменты.
Полный перечень лишних сегментов в наполнении дельты можно
посмотреть в файле протокола &lt;Garant-F1 path&gt;\logs\update.
log.
Для приведения в соответствие составов дельты и установленного
комплекта следует обращаться к обслуживающему менеджеру.
Появление сообщения &laquo;Лишние сегменты&raquo;
В составе дельты есть как минимум один лишний сегмент
&laquo;ГАРАНТ-ИнФарм: Лекарства и фирмы&raquo;, который не входит в состав установленного комплекта.
Отсутствуют сегменты
Дельты предназначены для обновления комплекта, отличного по
составу от установленного. В составе дельты нет обновлений для
перечисленных сегментов, входящих в состав установленного
комплекта.
171
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Полный перечень недостающих сегментов в наполнении дельты
можно посмотреть в файле протокола &lt;Garant-F1 path&gt;\logs\
update.log.
Для приведения в соответствие составов дельты и установленного
комплекта следует обращаться к обслуживающему менеджеру.
Появление сообщения &laquo;Недостающие сегменты&raquo;
В составе найденной дельты нет данных для обновления сегмента
&laquo;ГАРАНТ-ИнФарм: Лекарства и фирмы&raquo;, входящего в состав
установленного комплекта.
ВОЗМОЖНЫЕ СООБЩЕНИЯ МАСТЕРА
УСТАНОВКИ ДАННЫХ
Сообщения программы
В этом разделе поясняются некоторые сообщения, которые могут
встретиться в процессе установки или обновления (переустановки) информационного банка.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
172
Дистрибутив не найден
Если при обновлении Мастеру установки не удается найти дистрибутив системы на том же диске, с которого она была установлена
(или обновлена в прошлый раз), Мастер установки предложит вам
указать путь к диску с обновлением вручную. Нажмите кнопку
&laquo;Обзор&raquo; и выберите диск (или каталог), содержащий дистрибутив
системы с новой версией информационного банка.
Однако всегда остается возможность УСТАНОВИТЬ комплект
ГАРАНТа с дистрибутива. Под установкой понимается инсталляция системы (оболочка + данные) в пустой каталог.
Сообщения, встречающиеся при копировании
Вставьте диск №...
(где n=1,2,3...).
Сообщение появляется при установке данных с многодискового дистрибутива. В этом случае нужно вставить в привод диск с
указанным в сообщении номером, дождаться его распознавания
приводом (индикатор чтения с носителя должен погаснуть), после
чего выбрать утвердительный ответ на сообщение о запросе.
173
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Проверить порядковый номер диска можно по наличию в каталоге
Garant (дистрибутивного диска) файла с именем disc и расширением, идентичным его номеру.
Ошибка чтения файла
Данное сообщение появляется в случае с затруднением чтения
дистрибутивного диска СD- или DVD-приводом.
Этому может быть две причины:
• привод нуждается в чистке специальным чистящим диском;
• диск физически поврежден и требует замены.
Пример диагностики ошибки чтения
Условия
• устанавливаем &laquo;ГАРАНТ-Универсал&raquo; (3 диска);
• CD-привод: E:\;
• каталог установки: C:\Garant;
• на диске C:\ свободно 1 Гб данных;
• в процессе копирования данных получаем ошибку чтения
файла.
Алгоритм
• Шаг 1. Выдвигаем, а затем задвигаем лоток CD-привода,
после чего повторяем попытку чтения нажатием кнопки
&laquo;Retry&raquo;;
Результат: установка продолжается, однако после перехода
ко второму диску снова появляется сообщение об ошибке
чтения;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
174
• Шаг 2. Повторяем действия Шага 1;
Результат: ошибка повторяется;
• Шаг 3. Прерываем установку;
• Шаг 4. Копируем содержимое E:\Garant\Data\ второго диска
во временную папку на диск C:\;
Результат: появляется ошибка чтения файла;
• Шаг 5. Пробуем скопировать этот файл на соседней машине.
Результат: ошибка чтения файла повторяется.
Итог: Дистрибутив поврежден и нуждается в замене.
За новым дистрибутивом следует обращаться к обслуживающему
менеджеру.
Прочие сообщения
Возможно, нет необходимого места в каталоге Data
При появлении такого сообщения следует убедиться, что на диске,
куда устанавливается банк данных системы ГАРАНТ, достаточно
свободного места для его размещения. А у пользователя, выполняющего установку, достаточно прав на этот каталог. Если эти
условия выполняются, можно продолжать установку нажатием
кнопки &laquo;Далее&raquo;.
175
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ЧАСТЫЕ ВОПРОСЫ ПО ТЕХНИЧЕСКИМ
ОСОБЕННОСТЯМ РЕАЛИЗАЦИИ УСЛУГИ ПРАВОВАЯ
ПОДДЕРЖКА ОНЛАЙН
Вопрос 1:
Как это работает?
Ответ:
a) сервер приложений ГАРАНТа в клиент-серверной версии
(и оболочка ГАРАНТ – в остальных версиях) в момент отправки
введенной в карточку правовой поддержки консультации устанавливает по 80-му порту tcp-соединение с сервером консультаций компании &laquo;Гарант&raquo; consulting1.garant.ru (далее – соединение с СК); если соединение установлено, запрос передается на
СК, далее соединение разрывается; если установить соединение
не удается, пользователю выдается сообщение о невозможности
отправить данные на СК, запрос сохраняется в папку &laquo;Исходящие запросы&raquo;, откуда будет автоматически отправлен, когда
соединение будет установлено; после отправки запрос перемещается в папку &laquo;Запросы в обработке&raquo;; после получения
ответа запрос помещается в папку &laquo;Ответы&raquo;;
b) во время работы с системой при наличии неотправленных
запросов или неотвеченных отправленных запросов система
пытается установить соединение с СК с периодичностью по
умолчанию один раз в 15 минут (соответственно для отправки
запросов из папки &laquo;Исходящие запросы&raquo; или для проверки,
не пришел ли ответ); если соединение установить не удается,
никакой нотификации об этом пользователю выдано не будет;
через 15 минут будет выполнена новая попытка установить
соединение; если неотвеченных или неотправленных запросов
в настройках нет, соединения с СК не устанавливаются до
момента отправки запроса пользователем;
c) кроме того, сервер приложений в клиент-серверной версии
(и оболочка ГАРАНТ – в остальных версиях) при запуске проверяет в настройках наличие неотвеченных и неотправленных
запросов и в случае их обнаружения устанавливает соединение
с СК;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
176
d) при отправке подтверждения на получение ответа и при выставлении оценки ответа система устанавливает соединение
и отправляет данные на СК; если установить соединение не
удается, пользователю выдается сообщение об этом; при этом
повторную попытку отправить подтверждение или оценку на
СК нужно будет выполнять вручную;
e) кроме того, ответ консультанта может быть доставлен в
виде файла (по почте, на диске и др.) и после этого импортирован в оболочку; эту возможность можно использовать
в случае, если соединение с СК не удается установить по
какой-либо причине; для того чтобы полученный в файле
ответ показывался в оболочке, нужно запустить ГАРАНТ,
перейти на вкладку &laquo;Мои документы&raquo;, кликнуть правой
кнопкой мыши по пункту &laquo;Мои консультации&raquo; и выбрать в
контекстном меню пункт &laquo;Импортировать&raquo;; в появившемся
диалоговом окне &laquo;Импортировать консультацию&raquo; нужно
выбрать полученный файл (с расширением .xml) и нажать
кнопку &laquo;Открыть&raquo;.
Внимание!!! Этот файл может быть получен только из отдела
поддержки пользователей НПП &laquo;Гарант-Сервис&raquo;; после получения файл не должен редактироваться. В противном случае
файл не получится импортировать в оболочку.
Вопрос 2:
Какие разрешения должны быть прописаны в фаерволе?
Ответ:
Заметим, что соединения по 80-му порту и так разрешены в большинстве случаев – для того, чтобы браузером можно было просматривать веб-страницы. В списках запрещенных сайтов СК
вряд ли может оказаться. Однако бывает, что по умолчанию все
внешние соединения всех приложений запрещаются фаерволом
и разрешаются для каждого доверенного приложения (например,
браузера) отдельно. Таким образом, иногда нужно будет разрешить
в фаерволе соединения с СК для перечисленных ниже программных модулей системы ГАРАНТ. В зависимости от фаервола для
доступа к серверу консультаций из оболочки могут потребоваться
следующие разрешения:
177
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Разрешение
Значение (которое должно быть разрешено)
Адрес
consulting1.garant.ru (80.253.4.44)
Порт
80
Приложения
F1ConsultingChecker.run (для всех типов установок)
F1Server.exe (для сетевого клиент-серверного
типа установки)
F1Shell.run (для локального и сетевого файл-серверного типов установки, а также для рабочего
диска)
Вопрос 3:
Как и куда прописываются настройки доступа в Интернет
(настройки прокси)?
Ответ:
При
a) установке локальной, клиент-серверной или файл-серверной
оболочки инсталлятором, а также
b) первом запуске оболочки рабочей версии, а также
c) первом запуске оболочки файл-серверной версии на каждой
рабочей станции: система ГАРАНТ определяет параметры
соединения с Интернетом с помощью специальной утилиты F1ConsultingChecker.exe (далее – чекер) и сохраняет их
(см. таблицу); в дальнейшем эти настройки используются
сервером приложений (или оболочкой) для соединения с СК;
эти настройки могут быть изменены и после инсталляции
(см. описание в разделе &laquo;Система ГАРАНТ. Краткое техническое описание&raquo;).
В автоматическом режиме чекер пытается установить соединение с
СК без прокси и через прокси по указанному в настройках Internet
Explorer адресу и порту (&laquo;Использовать настройки из системного
реестра&raquo;). Если не удается установить соединение этими двумя
способами, то:
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
178
a) при запуске из-под инсталлятора и первом запуске рабочей
версии чекер запустится в ручном режиме и предложит ввести параметры прокси вручную; например, чекер не сможет
без ручной настройки установить соединение через прокси с
авторизацией – потребуется один раз ввести логин и пароль
на прокси;
b) при первом запуске на рабочих станциях оболочки файлсерверной версии чекер в ручном режиме не запустится; это
позволит избежать лишних вопросов пользователей, однако
потребует дополнительной настройки в случае, если пользователь пожелает воспользоваться консультациями.
Если на компьютере не найдены сетевые интерфейсы (не определен IP-адрес), чекер, запущенный из инсталлятора, не будет
предлагать указать настройки. В зависимости от типа установленной оболочки возможны два варианта расположения настроек,
сохраняемых утилитой F1ConsultingChecker.exe:
Клиентсерверная,
локальная
Локальная
версия
Файлсерверная,
рабочий диск
Расположение параметра
-ConsultingClientProx
yEnable (этот параметр
указывает, использовать
ли прокси для
доступа в Интернет)
%GARANT%
\ garant.ini
[F1Server
Params]
%GARANT% \
garant.ini
[F1Server
Params]
HKEY_
CURRENT_
USER\
Software\
Garant.F1
Путь к файлу, в который сохраняются
настройки прокси
%GARANT%
\Settings \
garant.ini
%F1Settings
Directory%\
Settings\
garant.ini
%F1Settings
Directory%\
Settings\
garant.ini
%GARANT% – папка, в которую установлен ГАРАНТ.
%F1SettingsDirectory%\ – папка, куда сохраняются настройки текущего пользователя сетевой файл-серверной версии или
рабочего диска (определяется значением параметра InstallRoot
ветки системного реестра HKEY_CURRENT_USER\Software\
Garant.F1-Launcher).
179
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Вопрос 4:
С какого компьютера устанавливается соединение с Интернетом
в разных версиях ГАРАНТа?
Ответ:
В клиент-серверной сетевой версии, вне зависимости от того, где
запущена оболочка, соединение всегда устанавливается с сервера ГАРАНТа. Для остальных типов установки (локальная, файлсерверная сетевая, рабочий диск) соединение устанавливается
непосредственно с клиентского компьютера, на котором запущена
оболочка.
Вопрос 5:
Файл-серверная версия и настройки прокси – как избежать отдельной настройки на каждой машине?
Ответ:
Соединение с СК в случае файл-серверной версии производится с
каждой отдельной рабочей станции. Однако если для всех рабочих
станций в организации разрешен выход в Интернет без прокси или
через прокси-сервер, доступный по одинаковому для всех адресу
и порту, достаточно указать эти значения при инсталляции файлсерверной версии. В случае если используется прокси-сервер с
авторизацией, то для того, чтобы соединение с СК было доступно
для всех рабочих станций без отдельной настройки, можно сделать
следующее:
a) з авести на прокси-сервере специальный аккаунт для пользователей ГАРАНТа (например, логин garant и пароль garant);
b) разрешить для этого аккаунта доступ к серверам компании
ГАРАНТ (*.garant.ru) по 80-му порту;
c) при инсталляции указать в чекере адрес и порт доступного всем
прокси-сервера (например, адрес proxy и порт 8080), а также
поставить в чекере галочку &laquo;Авторизация на прокси&raquo; и ввести
в поля &laquo;Логин&raquo; и &laquo;Пароль&raquo; выбранные значения (в нашем
примере – garant);
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
180
d) убедиться, что с введенными настройками СК доступен;
e) сохранить изменения.
В результате таких действий настройки прокси на рабочих станциях будут определены автоматически. Эти параметры можно изменить для всех пользователей файл-серверной версии и позднее
(см. следующий вопрос).
Вопрос 6:
Файл-серверная версия и настройки прокси – как изменить их централизованно (без запуска чекера на каждой рабочей станции?
Ответ:
Чтобы централизованно изменить настройки доступа в Интернет
для всех пользователей файл-серверной версии, не изменявших
эти настройки самостоятельно (то есть для тех, кто не запускал на
своем компьютере утилиту F1ConsultingChecker), нужно:
a) запустить утилиту F1ConsultingChecker.exe c ключом –4all
(при запуске с этим ключом утилита будет сохранять настройки не в домашний каталог, а в каталог с эталонными настройками в серверной части – %Garant%\Settings\ garant.ini);
b) вписать в полях настройки этой утилиты нужные параметры (адрес и порт прокси-сервера, данные для авторизации на
прокси – в случае надобности);
c) сохранить изменения.
После этого на всех компьютерах, на которых не задавались отдельно настройки прокси (не запускался F1ConsultingChecker),
оболочки начнут запускаться с измененными параметрами доступа
к прокси-серверу. Признаком запуска чекера на клиенте является
наличие в клиентском garant.ini строки &laquo;synchronize=0&raquo;.
181
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Вопрос 7:
Логи чекера – где они хранятся?
Ответ:
В случае клиент-серверной сетевой и локальной версий по умолчанию – %GARANT%\logs\ checker.log.
В остальных случаях (файл-серверная сетевая, рабочий диск)
файл называется F1ConsultingChecker.log и по умолчанию находится в пользовательском Temp-е (определяется значением
пользовательской переменной среды Temp: &laquo;Мой компьютер\
Свойства\Дополнительно\Переменные среды\ Пользовательские переменные\Temp&raquo;).
Вопрос 8:
Как ограничить доступ пользователей к услуге платных консультаций?
Ответ:
Руководство организаций клиентов может не захотеть, чтобы у
всех сотрудников их организаций была возможность пользоваться
платными консультациями (для минимизации расходов, например). Для этого введен механизм ограничения прав доступа пользователей к платным консультациям.
В клиент-серверной версии он осуществляется посредством Администратора пользователей (подробнее см. readme.rtf). По умолчанию платные консультации доступны всем пользователям. При
помощи Администратора пользователей можно:
a) запретить доступ всем пользователям (включая вновь зарегистрированных), после чего
b) разрешить доступ тем пользователям, для которых это сочтут
нужным; кроме того, можно:
c) оставить доступ к платным консультациям для всех пользователей (включая вновь зарегистрированных), после чего
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
182
d) запретить доступ тем конкретным пользователям, чьи консультации организация не намерена оплачивать; если такой
пользователь заведет в системе ГАРАНТ новый аккаунт, он
сможет пользоваться консультациями до тех пор, пока это не
будет запрещено.
Напоминаем, что ограничен будет доступ только к платным консультациям. Если пользователю запрещено получать платные
консультации, то в момент прихода уведомления об оплате и его
положительного ответа (&laquo;Да, согласен оплатить&raquo;) такому пользователю выдается сообщение специального вида (&laquo;Использование
платной консультационной услуги запрещено, обратитесь к администратору системы&raquo;) и подтверждение оплаты не принимается. Если администратор системы разрешит данному пользователю
использование платной услуги, то он сможет еще раз открыть
уведомление (из папки &laquo;Запросы в обработке&raquo;) и подтвердить
оплату консультации.
Бесплатные консультации останутся доступными для всех пользователей.
В случае всех остальных версий (локальной, файл-серверной и  рабочей) администратор клиента может ограничить доступ пользователей двумя способами:
a) через Администратор пользователей, запускаемый на каждой
рабочей станции – так же, как и в клиент-серверной версии;
будет ограничен доступ к платным консультациям, бесплатные
останутся доступными; продвинутый пользователь сможет
обойти это ограничение, удалив каталог со своими настройками и создав его заново;
b) ограничением доступа к СК (consulting1.garant.ru:80) для выбранных Администратором пользователей средствами ограничения доступа в Интернет (фаерволы, прокси и др.); в этом
случае будут недоступны все консультации – и платные, и бесплатные.
183
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Вопрос 9:
СК недоступен – какие действия нужно предпринять?
Ответ:
Недоступность сервера может быть замечена вами при работе
в  оболочке (не отправляются консультации), а также при соответствующем ответе чекера на нажатие кнопки &laquo;Тест&raquo;.
Если СК недоступен при работе из оболочки – запустите чекер.
Если при проверке из чекера СК доступен – убедитесь, что вы
сохранили введенные в него настройки, и перезапустите сервер
приложений ГАРАНТа (в случае клиент-серверной версии) и оболочку ГАРАНТ – в случае всех остальных версий.
Если СК все еще недоступен из оболочки – проверьте, не получилось ли так, что в фаерволе разрешены соединения с СК для чекера
и не разрешены для сервера приложений или для оболочки ГАРАНТ.
Если так – разрешите в фаерволе соединения с СК и для сервера
или оболочки ГАРАНТа (см. также вопрос 3). Например, авторизация на прокси или разрешения в фаерволе могут быть основаны на
имени пользователя в сети. Тогда чекер (запущенный из-под пользовательского аккаунта) сможет соединиться с СК, а сервер приложений в клиент-серверной версии (запущенный по умолчанию из-под
аккаунта LocalSystem) соединиться с СК не сможет. Эту проблему
можно решить, запуская сервер приложений ГАРАНТа из-под реального аккаунта на этом компьютере с администраторскими правами
(и зарегистрировав этот аккаунт на прокси или фаерволе).
Если СК все еще недоступен из оболочки, обратитесь к специалисту по технической поддержке вашей компании.
Если СК недоступен и в чекере, воспользуйтесь следующим алгоритмом разрешения сбоя (некоторые шаги могут быть пропущены
в зависимости от конкретных условий):
a) запустите браузер и зайдите на страницу www.garant.ru; если
она недоступна, может быть, на данном компьютере запрещен
доступ в Интернет; посоветуйтесь с &laquo;хозяином&raquo; этого компьютера; если страница в браузере доступна – см. далее;
b) проверьте в чекере режимы &laquo;Не использовать прокси-сервер&raquo;
и &laquo;Использовать настройки из системного реестра&raquo;; если СК
недоступен при этих режимах – см. далее;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
184
c) поставьте галочку &laquo;Настроить параметры прокси-сервера&raquo;;
введите правильный адрес прокси-сервера, порт прокси-сервера; убедитесь, что ввели эти данные правильно; в качестве
адреса прокси-сервера может потребоваться ввести: доменное
имя (например, proxy), доменное имя с суффиксом домена
(например, proxy.domain.ru) или IP-адрес; для выполнения
этого пункта может потребоваться консультация &laquo;хозяина&raquo;
компьютера или администратора в организации; если СК недоступен – см. далее;
d) не используется ли авторизация на прокси? если используется
– поставьте соответствующую галочку и введите логин и пароль на прокси; убедитесь, что ввели эти параметры правильно;
убедитесь, что указанный аккаунт на прокси-сервере позволяет
устанавливать соединение с СК; для выполнения этого пункта
может потребоваться консультация &laquo;хозяина&raquo; компьютера
или администратора в организации; если СК недоступен – см.
далее;
e) не мешает ли соединению фаервол? проверьте наличие фаервола
и разрешенные в нем соединения; попробуйте проверить соединение при отключенном фаерволе; если отключение фаервола
позволит установить соединение – включите его и настройте
(см. вопрос 3); для выполнения этого пункта может потребоваться консультация &laquo;хозяина&raquo; компьютера или администратора в организации; если СК недоступен – см. далее;
f) если в результате одного из описанных выше шагов СК стал доступен в чекере – сохраните изменения, перезапустите сервер
приложений ГАРАНТа (в случае клиент-серверной версии)
и оболочку ГАРАНТ – в случае всех остальных версий; СК
должен стать доступен и из оболочки; если нет – см. далее;
g) обратитесь к специалисту по технической поддержке вашей
компании; если СК недоступен и у него в офисе – возможно,
произошел сбой на СК, который будет исправлен через некоторое время; если СК доступен из какого-то другого места
(например, из вашего офиса) – см. далее.
185
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Передайте максимально полную информацию о сбое специалисту
по технической поддержке вашей компании. Она должна включать
в себя логи чекера (см. вопрос 7), описание предпринятых вами
шагов по проверке, а также, возможно, дополнительную информацию по запросу специалиста по технической поддержке вашей
компании.
Вопрос 10:
Сообщение &laquo;Услуга не активирована&raquo; – что проверить?
Ответ:
Обратитесь к специалисту по технической поддержке вашей
компании. Он сможет убедиться, что выполняются следующие
условия:
a) в АРМе для этого комплекта на вкладке &laquo;Правовая Поддержка
онлайн&raquo; заполнено поле &laquo;Текущая схема ППО&raquo; (непустым
значением);
b) комплект в АРМе регулярный;
c) комплект в АРМе коммерческий;
d) комплект в АРМе не был удален;
e) АРМ РП синхронизирован с Центральным Сервером
В случае если все вышеперечисленные условия выполнены, сотрудник службы технической поддержки делает следующее:
a) устанавливает проблемный комплект с того же дистрибутива
у себя в офисе и проверяет повторяемость ошибки;
b) если ошибка повторяется – высылает по электронной почте
подробное описание проверки выполнения указанных выше
условий, файл заказа в АРМе, логин и пароль ТУ партнера
(вариант: выкладывает на FTP бэкап текущей базы АРМа и сообщает номер заказа), а также посылку с проблемным дистрибутивом на экспертизу в НПП &laquo;Гарант-Сервис&raquo;.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
186
Вопрос 11:
Клиент не получил ответ на отправленный запрос – что
проверить?
Ответ:
Клиент сообщил вам, что он не получил ответ на отправленный
запрос:
a) убедитесь, что клиент после отправления ему запроса запускал
оболочку ГАРАНТ;
b) убедитесь, что клиент логинился в оболочку под тем же аккаунтом, из которого был послан запрос;
c) убедитесь, что этот запрос не был удален;
d) убедитесь, что оболочка клиента нормально устанавливает
связь с СК.
Для проверки перечисленных выше пунктов нужно зайти в оболочку, найти отправленный запрос в папке &laquo;Запросы в обработке&raquo;,
послать новый запрос на СК (состоящий из одного слова &laquo;Тест&raquo;)
и дождаться, пока этот запрос отправится на СК (то есть попадет
в папку &laquo;Запросы в обработке&raquo;). После этого нужно снять скриншот, на котором было бы видно содержимое папки &laquo;Запросы в
обработке&raquo;. Скриншот нужно послать специалисту по технической
поддержке вашей организации.
e) убедитесь, что после отправки запроса клиенту не был установлен комплект, имеющий другой номер в АРМе (например,
комплект, заказанный в АРМе для другого клиента);
f) убедитесь, что ответ действительно был отправлен.
Для проверки этих двух пунктов поставьте мышкой фокус на тестовый запрос, оправленный при проверке пункта d), и нажмите
сочетание клавиш Ctrl+Alt+K. Поднимется установленная на компьютере пользователя почтовая программа с шаблоном письма
&laquo;Вопрос о консультации&raquo;. Поставьте фокус на запрос, получение
ответа на который вы проверяете, и снова нажмите Ctrl+Alt+K.
Дополните текст шаблонов кратким описанием проблемы (напри-
187
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
мер: &laquo;Не получен ответ на запрос от клиента &lt;название клиента&gt;,
обслуживаемого организацией &lt;название вашей организации&gt;&raquo;)
и информацией о том, по какому почтовому адресу вы хотите
получить ответ.
Отправьте эти два письма. Если отправка писем невозможна –
сохраните их текст в файл и отправьте их из офиса. Получение
информации из этих писем позволит нам сделать вывод о том, не
изменился ли номер комплекта после отправки запроса, а также
поможет выяснить, отправлялся ли ответ на этот запрос.
Кроме того, менеджер, за которым в АРМе закреплен данный клиент,
получает письмо с уведомлением об отправленном ответе, а также знает, какие комплекты заказывались для этого клиента, то есть проверка
пунктов &laquo;e&raquo; и &laquo;f&raquo; может свестись к вопросу менеджеру.
ВОПРОСЫ, ЧАСТО ЗАДАВАЕМЫЕ СПЕЦИАЛИСТАМ
СЛУЖБЫ ТЕХНИЧЕСКОЙ ПОДДЕРЖКИ
Вопрос 1:
К каким интернет-адресам обращается система ГАРАНТ в процессе работы и обновления?
Ответ:
Обращение к интернет-ресурсам может выполняться со стороны
сервера приложений ГАРАНТа, утилиты проверки доступности
сервера консультаций (F1ConsultingCheker.exe), клиентской
оболочки ГАРАНТ, Мастера установки данных (DataSetup.exe)
и Мастера загрузки пакетного пополнения (Download.exe). Для
всех версий, кроме клиент-серверной, клиент=сервер=машина, на
которой запускается ГАРАНТ. В клиент-серверной версии обращения сервера и клиента к интернет-ресурсам происходят в общем
случае с разных машин (серверной и клиентских).
Ниже приведены адреса ресурсов, к которым обращается каждый
из перечисленных компонентов системы:
1. Сервер ГАРАНТа может обращаться по следующим адресам:
- consulting1.garant.ru (для доступа к серверу консультаций);
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
188
2.
3.
4.
5.
- revision.garant.ru (для доступа к серверу ревизий с целью
проверки наличия более новой редакции просматриваемых
документов);
- Новое!!! service.garant.ru (для поддержки пакета сервисных
функций).
Оболочка ГАРАНТа может обращаться по следующим адресам (в приведенных ниже случаях открывается окно браузера,
установленного по умолчанию, или IE; соответственно, указанные ресурсы должны быть доступны в браузере):
- arbitr.garant.ru (для доступа к Онлайн-архиву Судебных решений);
- mobileonline.garant.ru (для доступа к интранет-версии, содержащей обновленные документы);
- www.garant.ru (для просмотра Новостей онлайн);
- mirror2.garant.ru (для просмотра образов и книг);
- Новое!!! service.garant.ru (для просмотра новых сервисов).
Datasetup:
- Datasetup.garant.ru (для автоматического получения пароля).
Download:
- Mirror.garant.ru (алиас, ведущий на один из двух СПП).
F1ConsultingChecker:
- consulting1.garant.ru (для доступа к серверу консультаций
с целью настройки связи с ним).
Более правильным и удобным является внесение исключения в
правила фаервола для указанных выше доменных имен, лучше по
маске *.garant.ru.
Если в исключения требуется вносить IP-адреса, то их в любой
момент можно получить командой nslookup для каждого из указанных доменных имен (для mirror.garant.ru определятся два IPадреса).
Вопрос 2:
При запуске на терминальном сервере клиентов клиент-серверной
версии системы ГАРАНТ одиннадцатому клиенту оболочка выдает
сообщение &laquo;Сервер приложений недоступен...&raquo;. В чем причина?
189
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Ответ:
В настоящее время при запуске клиента клиент-серверной версии
системы ГАРАНТ даже при включенном режиме BiDir происходит резервирование порта (состояние listening при включенном
BiDir; established – при выключенном) на машине с клиентом. По
умолчанию порты выбираются из диапазона 3600-3609, то есть их
выделяется по 10 на каждой клиентской машине.
Если все клиентские части ГАРАНТа запускаются на одном терминальном сервере, то это удается первым десяти, а одиннадцатый
клиент не запускается с сообщением &laquo;Сервер приложений недоступен... &raquo;.
Решением проблемы запуска более 10 клиентов ГАРАНТа на одном терминальном сервере является расширение диапазона используемых портов для обратного соединения, которое делается
так:
1. Открываем (с правами на запись) каталог с клиентской частью,
из которого терминальные пользователи выполняют запуск
системы ГАРАНТ.
2. В файле garant.ini в конец раздела [F1Client Params], добавляем
строчку
-ORBEndPoint=iiop:<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="163939273824565f46">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:3600/portspan=NNN
где:
IP-адрес терминального сервера, с которого пользователи запускают ГАРАНТ.
NNN – количество портов, выделяемых для клиента (равное нужному числу клиентов клиент-серверной версии ГАРАНТ для одновременного запуска на данном терминальном сервере).
Важно!!! Если часть пользователей будет запускать систему
ГАРАНТ не на этом терминальном сервере, для таких пользователей нужен свой отдельный каталог с клиентской частью, где
в файле garant.ini будет отсутствовать (или закомментирована)
строка
-ORBEndPoint=iiop:<a class="__cf_email__" href="/cdn-cgi/l/email-protection" data-cfemail="240b0b150a16646d74">[email&#160;protected]</a><script data-cfhash='f9e31' type="text/javascript">/* <![CDATA[ */!function(t,e,r,n,c,a,p){try{t=document.currentScript||function(){for(t=document.getElementsByTagName('script'),e=t.length;e--;)if(t[e].getAttribute('data-cfhash'))return t[e]}();if(t&&(c=t.previousSibling)){p=t.parentNode;if(a=c.getAttribute('data-cfemail')){for(e='',r='0x'+a.substr(0,2)|0,n=2;a.length-n;n+=2)e+='%'+('0'+('0x'+a.substr(n,2)^r).toString(16)).slice(-2);p.replaceChild(document.createTextNode(decodeURIComponent(e)),c)}p.removeChild(t)}}catch(u){}}()/* ]]> */</script>:3600/portspan=NNN.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
190
Вопрос 3:
Почему эталон для тиражирования в сервисной компании обновляется дельтами дольше (и в процессе требует больше свободного
места под временные файлы), чем клиентские комплекты?
Ответ:
В случае если комплект является эталоном для тиражирования,
к нему применяется особый тип обновления – технологический.
Он является более ресурсоемким по сравнению с обычным клиентским обновлением: требует больше памяти, больше ресурсов
процессора и больше места под временные файлы.
Для технологического пакетного обновления эталонов для тиражирования требуется наличие в каталоге с эталоном свободного
дискового пространства в объеме, равном:
• объему файлов базы, умноженному на 0,5 (в случае обновления
без резервного копирования);
• объему файлов базы, умноженному на 1,5 (в случае обновления
с резервным копированием).
Вопрос 4:
Сколько оперативной памяти может потреблять сервер приложений ГАРАНТа и процесс пакетного пополнения? Как снизить
вероятность проявлений отказа выделения памяти?
Ответ:
Начнем с краткой справки. Все приложения в среде Windows работают в рамках выделенного для них виртуального адресного
пространства. Для 32-разрядных приложений, и в частности для
программ системы ГАРАНТ, это адресное пространство ограничено 2 Гб на 32-разрядных Windows, 3 Гб на 32-разрядных Windows
с расширенным пользовательским адресным пространством и 4 Гб
на 64-разрядных Windows. Это означает, что 32-разрядное приложение в среде Windows не может использовать памяти больше,
чем приведено выше. Если объем свободной физической и виртуальной памяти меньше указанных цифр, это введет дополнительное ограничение для памяти, которая может быть использована
приложением.
191
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Размер адресного пространства ограничен. Следовательно, может
возникнуть ситуация, когда просьба процесса о предоставлении
ему необходимого объема памяти не может быть удовлетворена
и процесс не сможет выполнить намеченную операцию. Это называется &laquo;отказ выделения памяти&raquo;. Он может произойти тогда, когда процесс в ходе своей работы использовал все адресное
пространство и там больше нет свободного места. Также (чаще)
может происходить так называемая фрагментация памяти, когда
в результате длительной работы процесса (большого количества
операций выделения и освобождения памяти) используемые и
неиспользуемые участки памяти чередуются. И хотя суммарный
объем свободной памяти велик, найти непрерывный участок нужного размера не получается.
Процесс пакетного обновления больших комплектов ГАРАНТа,
а также интенсивно используемый сервер приложений ГАРАНТа
являются активными потребителями памяти. Пик потребления
памяти при технологическом пакетном пополнении регламентно
ограничен 1,9 Гб, большее потребление считается ошибкой и исправляется. Сервер приложений может потребить столько памяти, сколько ему выделит операционная система. В результате эти
приложения могут сталкиваться с отказами выделения памяти в
силу описанных выше причин. Для сервера приложений ГАРАНТа
признаком такого отказа является запись в логе вида:
-LM_ERROR: GCM::gcl_new_handler: size = 16584396. The End
of Memory !!!
После появления такой записи сервер приложений следует перезапустить.
Снизить вероятность (частоту) наступления отказа выделения
памяти можно путем увеличения ограничения на размер адресного
пространства. Сделать это можно следующими способами:
(Внимание!!! Предпринимать изложенные ниже шаги имеет
смысл только в случаях возникновения отказов выделения памяти; не следует воспринимать эти шаги как общее требование.)
а) Использовать 64-разрядную Windows. В этом случае адресное
пространство будет ограничено размером 4 Гб.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
192
б) Настроить ядро 32-битной операционной системы для увеличения размера пользовательского адресного пространства
до 3 Гб:
– в Windows XP и выше Server это делается путем редактирования файла boot.ini – добавления ключа /3GB, сохранения изменений и перезапуска компьютера;
– в версиях Windows, начиная с Vista и позже, это делается путем запуска утилиты bcdedit.exe c параметрами /set
increaseuserva 3072.
в) Отказаться от использования старых операционных систем с
неэффективным менеджером памяти (до Windows 2003 Server
включительно). В этих операционных системах 32-битным приложениям может реально выделяться менее заявленных 2 Гб.
г) Периодически (ночью, раз в сутки или реже) перезапускать
сервер приложений, чтобы избавиться от накопившейся фрагментации памяти процессом сервера.
д) Сумма свободной физической и виртуальной памяти (а лучше
свободная физическая память) должна превышать описанное
выше ограничение на размер адресного пространства.
Вопрос 5:
При обновлении оболочки инсталлятор запускается, однако обнаруживает непредвиденную ошибку при установке пакета и завершает работу. Что делать?
Ответ:
Наиболее вероятной причиной такого поведения являются плохая
читаемость носителя дистрибутива и ошибки определения пути до
msi-пакета службой Windows Installer (например, ошибка с кодом
2755). Данная проблема решается:
a) указанием UNC-пути при запуске инсталлятора или
b) предварительным копированием и запуском инсталлятора
непосредственно с локального диска машины, на которой он
запускается.
См. также http://support.microsoft.com/kb/255582/
http://support.microsoft.com/kb/229683/.
Вопрос 6:
193
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
При работе инсталлятора возникли проблемы. Что делать? Какая
информация нужна для диагностики?
Ответ:
При возникновении проблем в работе инсталлятора для их диагностики необходимо снять лог инсталлятора. Для &laquo;включения&raquo;
ведения лога инсталлятор нужно запускать из командной строки с
параметром /log. Это касается как общего (f1setup.exe), так и индивидуальных (\setup\f1[server|fileserver|local|client]setup*.exe)
инсталляторов. В результате в каталоге для временных файлов
пользователя Windows (на который указывает системная переменная %temp%) будет создан файл вида msi&lt;случайное число&gt;.
log, в который и будет протоколироваться информация о работе
инсталлятора.
Вопрос 7:
При обновлении оболочки ГАРАНТ инсталлятор выдает сообщение:
&laquo;Часть дистрибутива, необходимая для установки, не найдена&raquo;
и завершает работу. В чем причина?
Ответ:
В СПС ГАРАНТ для каждого типа установки оболочки свой
(индивидуальный) инсталлятор.
Данное сообщение означает, что в составе дистрибутива оболочки
отсутствуют файлы инсталлятора соответствующего типа установки, необходимые для обновления текущей (обновляемой) оболочки. (Например, у клиента установлена файл-серверная версия,
а на дистрибутив записан инсталлятор клиент-серверной версии.)
Для обновления оболочки необходим инсталлятор, соответствующий типу установки установленной оболочки.
Вопрос 8:
При запуске оболочки клиент-серверной версии выдается сообщение: &laquo;Сервер приложения недоступен. Продолжение работы с системой невозможно&raquo;.
Ответ:
Такое сообщение возникает из-за того, что клиентская оболочка не
может установить соединение с сервером приложений по указан-
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
194
ному в клиентском garant.ini адресу и порту сервера приложений.
Возможные причины:
1) адрес сервера приложений или его порт указаны в garant.ini
клиентской части неверно (рабочая станция &laquo;не видит&raquo; сервер по имени, указанному в garant.ini); в качестве проверки
можно использовать команду ping имя_сервера_в_garant.ini
– если сервер не отвечает, значит, его имя указано неверно
(или машина вообще выключена); бывает, что рабочая станция
&laquo;не видит&raquo; сервер по доменному имени, но видит по IP-адресу
или по доменному имени с добавлением доменного суффикса
– в этих случаях нужно отредактировать garant.ini, написав
правильное имя сервера, сохранить изменения и повторить
запуск;
2) служба сервера приложений ГАРАНТа остановлена или зависла (в результате чего не отвечает); в этом случае не запустится
оболочка ни на одной рабочей станции, обращающейся к этому
серверу приложений – на самом сервере тоже не запустится;
в этом случае нужно запустить (перезапустить) службу сервера приложений на сервере и повторить запуск;
3) входящий трафик на сервере по порту, указанному при установке сервера приложений ГАРАНТа (по умолчанию – 5051),
закрыт фаерволом; в этом случае нужно разрешить в настройках фаервола входящий трафик по указанному при установке
порту (или разрешить сетевую активность для приложений
ГАРАНТа) и повторить запуск.
Также для проверки пунктов 1) и 3) можно использовать следующее действие: на клиентской рабочей станции (при запуске
на которой оболочка ГАРАНТ сообщает, что сервер приложений
недоступен) запустить команду telnet имя_сервера номер_порта
(имя сервера и имя порта – в том виде, как указано в garant.ini).
Пример: telnet garant 5051.
В случае если сервер &laquo;виден&raquo; с клиентской машины и соединению
не препятствуют фаерволы на сервере или межсетевые экраны
(сервер приложений ГАРАНТа работает на указанном порте), то
195
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
результатом запуска этой команды станет пустой черный экран
cmd с мигающим курсором в левом верхнем углу.
В случае если сервер &laquo;не виден&raquo; по той или иной причине, то результатом выполнения такой команды станет сообщение вида:
&laquo;Подключение к имя_сервера... Не удалось открыть подключение
к этому узлу, на порт номер_порта: Сбой подключения&raquo;.
Если вы самостоятельно не можете подобрать такое имя сервера или настройки фаервола (фаерволов), с которыми получится
установить соединение по telnet, обратитесь с этой проблемой в
этой формулировке к системному администратору – это удобное
средство диагностики, не зависящее от работы системы ГАРАНТ.
Вопрос 9:
При запуске оболочки ГАРАНТ клиент-серверной версии появляется
сообщение: &laquo;Оболочка не может получить ответ от сервера. Возможно, включен брандмауэр (фаервол), блокирующий входящие сообщения, или неправильно сконфигурирована сеть&raquo;. Либо оболочка
запускается нормально, но в результате любого поиска выдается
сообщение: &laquo;В установленном у Вас комплекте отсутствует информация, отвечающая данному запросу!..&raquo;
В чем причина?
Ответ:
Сервер не может установить соединение с клиентом для передачи
информации. Причин может быть две:
1) пакеты от сервера, отправляемые на клиентскую машину по
портам из диапазона 3600–3609, блокируются фаерволом или
сетевыми экранами;
2) сервер &laquo;не видит&raquo; машину клиента из-за настроек сети, например из-за того, что они находятся в разных подсетях и соединяются друг с другом через NAT.
Случай 1) может быть решен настройкой разрешения входящего
трафика по портам 3600–3609 (или входящего трафика от приложения ГАРАНТ) на клиентскую машину.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
196
Также обе ситуации могут быть решены путем включения на клиенте и на сервере режима BiDir (подробнее см. в описании клиентсерверной версии в readme.rtf – в каталоге %GarantRoot%\help
и на дистрибутивах ГАРАНТ).
Вопрос 10:
Какие логи могут быть полезны при разбирательстве со сбоями?
Как включать и отключать ведение обычного и подробного логов?
Ответ:
1. Клиент-серверная версия
В ней возможны два лога – сервера и клиента.
Лог сервера включен по умолчанию; управляют им два параметра
в серверном garant.ini:
;-ORBDebugLevel=10 (секция [ORB Params])
-SBELogFile=C:\Program Files\Garant\logs\garant.log (секция
[F1Server Params]).
Если умолчательного уровня поробности лога недостаточно, раскомментируйте (уберите &laquo;;&raquo;) строку ;-ORBDebugLevel=10, сохраните изменения и перезапустите службу сервера приложений.
Обратите внимание на то, что ведение подробного лога может
замедлять работу сервера и требовать много места под хранение
лога (не забывайте отключать подробный лог после отправки его
в службу технической поддержки).
Логом клиента клиент-серверной версии управляют две строки
в garant.ini клиентского каталога:
;-ORBDebugLevel=10 (секция [ORB Params])
;-SBELogFile=%TEMP%\F1Client.log (секция [F1Client
Params]).
По умолчанию лог клиента не ведется. Чтобы включить его, раскомментируйте (уберите &laquo;;&raquo;) строку ;-SBELogFile=%TEMP%\
F1Client.log, сохраните изменение ini-файла и перезапустите
оболочку. Если вы хотите, чтобы лог сохранялся в другой каталог (отличный от пользовательского %TEMP%), измените путь
к каталогу в значении параметра SBELogFile. Если умолчательной
степени подробности лог-файла окажется недостаточно, раском-
197
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ментируйте (уберите &laquo;;&raquo;) строку ;-ORBDebugLevel=10. Обратите
внимание на то, что после отправки лог-файла в службу технической поддержки ведение лога следует отключить – обратно закомментировать две строки в ini-файле.
2. Файл-серверная версия
В файл-серверной версии возможен только один лог – лог оболочки, действительный для той рабочей станции, на которой производится запуск. Управляется он двумя строками в garant.ini:
;-ORBDebugLevel=10 (секция [ORB Params])
-SBELogFile=%TEMP%\F1Shell.log (секция [F1Server Params]).
По умолчанию лог включен и пишется в пользовательский
%TEMP%. Для выключения лога закомментируйте строку
-SBELogFile=%TEMP%\F1Shell.log, сохраните изменения и запустите оболочку. Если вы хотите, чтобы лог сохранялся в другой
каталог (отличный от пользовательского %TEMP%), измените
путь к каталогу в значении параметра SBELogFile. Если умолчательной степени подробности лога недостаточно, раскомментируйте (уберите &laquo;;&raquo;) строку ;-ORBDebugLevel=10. Обратите
внимание на то, что изменение этих параметров в garant.ini приведет к изменению поведения ГАРАНТа сразу на всех рабочих
станциях сети.
3. Локальная версия
По умолчанию лог включен и ведется в файле %GarantRoot%\
Logs\garant.log.
Управление логом происходит аналогично файл-серверной
версии – для выключения лога закомментируйте строку, содержащую параметр -SBELogFile, а для ведения подробного лога
раскомментируйте (уберите &laquo;;&raquo;) строку, содержащую параметр
-ORBDebugLevel., после отправки лог-файла закомментируйте
(добавьте в начало строки &laquo;;&raquo;) эту строку обратно.
4. Мобильная (рабочая) версия
Механизм включения лог-файла в рабочей версии несколько иной.
Управление осуществляется параметрами
-ORBDebugLevel=5
-ORBLogFile=%TEMP%\\garant.log
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
198
в ветке реестра HKEY_CURRENT_USER\Software\Garant.F1.
Быстро включить лог можно, два раза щелкнув по иконке
GARANT\SUPPORT\startlog.reg, отключить его можно, щелкнув по иконке GARANT\SUPPORT\stoplog.reg.
По умолчанию лог будет вестись в каталоге %TEMP%, со степенью
подробности 5. Изменить это можно путем редактирования значения параметров -ORBDebugLevel и -ORBLogFile в редакторе
реестра. Не забывайте отключать лог после его отправки.
5. Мастер установки данных (datasetup.exe)
У Мастера установки данных есть собственный лог – datasetup.log,
который создается в подкаталоге \logs и ведется вплоть до завершения работы Мастера. В случае успешного завершения установки
данных он удаляется.
Кроме того, есть возможность включить ведение &laquo;подробного
клиентского лога Мастера установки данных&raquo; инсталляционной
оболочки независимо от типа установки (клиент-серверная сетевая, файл-серверная сетевая, локальная).
Для этого нужно:
a) в секцию [F1DataSetup Params] файла garant.ini папки, куда
установлен ГАРАНТ (%F1 root), добавить строки:
-SBELogFile=%F1 root%\logs\client-datasetup.log
- ORBDebugLevel=10;
b) сохранить изменения в ini-файле.
После этого работа Мастера установки как клиента оболочки будет
протоколироваться в файле client-datasetup.log, расположенном
в подкаталоге \logs.
Обратите внимание на то, что после отправки лог-файла в службу
технической поддержки ведение лога следует отключить, удалив
обе добавленные строки из garant.ini.
6. Мастер пакетного пополнения (dataupd.exe)
Есть два лога, фиксирующих процесс применения пакетных пополнений:
a) %GarantRoot%\Logs\update.log;
b) %GarantRoot%\Logs\data.log.
В случае сбоя в процессе применения пакетных обновлений для
анализа требуются оба этих лога.
199
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Кроме того, есть возможность включить ведение &laquo;подробного
клиентского лога Мастера пакетных пополнений&raquo; инсталляционной оболочки независимо от типа установки (клиент-серверная
сетевая, файл-серверная сетевая, локальная). Такой лог может
потребоваться в том случае, если сбой происходит сразу при запуске программы. Для этого нужно:
a) в секцию [F1DataUpd Params] файла garant.ini папки, куда
установлен ГАРАНТ (%F1 root), добавить строки:
-SBELogFile=%F1 root%\logs\client-dataupd.log
-ORBDebugLevel=10;
b) сохранить изменения в ini-файле.
После этого работа Мастера установки как клиента оболочки будет
протоколироваться в файле client-dataupd.log, расположенном
в подкаталоге \logs.
Обратите внимание на то, что после отправки лог-файла в службу
технической поддержки ведение лога следует отключить, удалив
обе добавленные строки из garant.ini.
7. Мастер загрузки пакетных пополнений (download.exe)
Лог этой работы программы ведется в каталоге %GarantRoot%\
Logs\download.log.
Вопрос 11:
Поясните, пожалуйста, структуру настроек, что в каких каталогах
хранится и какие файлы за что отвечают.
Ответ:
1. Клиент-серверная версия
В ней настройки пользователей располагаются в каталоге с серверной частью (по умолчанию C:\Program Files\Garant-Server\
settings).
2. Файл-серверная версия (рабочая, мобильная)
В них путь к каталогу с пользовательскими настройками предлагается выбрать при первом запуске оболочки – по умолчанию
%appdata%\Garant-Net(DVD, Mobile),
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
200
где %appdata% – это переменная среды Windows, указывающая
на подкаталог Application Data профиля текущего пользователя
Windows.
3. Локальная версия
Настройки пользователей располагаются в %appdata%\Garantlocal.
Кроме того, на одном уровне с папкой, в которой располагаются
пользовательские настройки, могут находиться:
• каталоги c маской SettingsX (сетевая клиент-серверная
версия) (где X = 1,2,3); в них сохраняются настройки перед
конвертацией в случае изменения формата настроек при
переходе на более новую версию оболочки;
• каталог Settings-previous (сетевая файл-серверная версия,
локальная инсталляционная версия или рабочий диск) – в
нем сохраняются настройки перед конвертацией, в случае
изменения формата настроек при переходе на более новую
версию оболочки;
• подкаталог Settings-XML, который используется для хранения настроек в формате XML, используемых при конвертации и для обновления.
Структура папки Settings выглядит следующим образом:
каталог – содержимое корня;
Settings\ – файлы настроек, хранящие информацию о пользователях, папках / закладках, комментариях, документах на контроле;
\Backup.dir – последняя временная копия каталога Settings\
\Backup.dir.old – предпоследняя временная копия каталога
Settings\
\UserData\ – файлы настроек индивидуальной конфигурации
системы для каждого пользователя (одному пользователю соответствует группа файлов с одинаковым префиксом в имени (например _____ или 0003_ и т. д.);
\Backup.dir – последняя временная копия каталога Settings\
UserData\;
201
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
\Backup.dir.old – предпоследняя временная копия каталога
Settings\UserData\;
\xmlbackup – резервная копия настроек;
\xmltools – служебные утилиты системы для работы с настройками.
\History – хранилище истории пользовательских запросов;
\etaloncopy – эталонные настройки пользователей для клиент-серверной версии.
В локальной, файл-серверной, рабочей (мобильной) версиях эталонными настройками является каталог %GarantRoot%\settings
Вопрос 12:
В процессе работы с системой ГАРАНТ настройки пользователей
повредились.
Что можно сделать?
Ответ:
В системе ГАРАНТ реализован специальный механизм резервирования / восстановления настроек, которым и нужно воспользоваться. Подробности см. в документе &laquo;Описание механизмов
резервного копирования / восстановления пользовательских настроек системы ГАРАНТ&raquo;.
Вопрос 13:
При запуске оболочки появляется сообщение: &laquo;Произошла внутренняя ошибка инициализации компонент при запуске системы!&raquo;
Ответ:
Такое сообщение может появиться в локальной, файл-серверной, мобильной версиях, в случае если оболочке не удается открыть файлы настроек (по умолчанию хранящиеся в каталоге
%Application Data%\garant-*\settings) на запись.
В штатном режиме такое сообщение возникнуть не может.
Список для проверки:
1) есть ли место в указанном каталоге;
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
202
2) есть ли права на запись в указанном каталоге;
3) есть ли права на модификацию файлов в указанном каталоге;
4) не блокируются ли файлы в этом каталоге сторонним приложением;
5) не повреждены ли настройки – повторяется ли проблема после переименования каталога %Application Data%\garant-*\
settings в settings.sav и копирования эталонных настроек
в settings.
Вопрос 14:
Клиент хочет перейти с файл-серверной на клиент-серверную
версию. Возможно ли перенести настройки пользователей (папки,
закладки)?
Ответ:
Настройки пользователей можно перенести с помощью механизма
сохранения и обмена пользовательскими настройками.
Порядок действий следующий:
1) установите клиент-серверную оболочку в каталог, отличный
от того, где уже установлена файл-серверная оболочка;
2) для пользователя, чьи настройки необходимо перенести, запустите файл-серверную версию;
3) экспортируйте в xml-файл содержимое папки &laquo;Мои документы&raquo; с помощью команды контекстного меню &laquo;Экспорт
информации из папки&raquo;;
4) закройте файл-серверную версию;
5) запустите клиент-серверную версию и заведите в ней новую
учетную запись для пользователя;
6) откройте папку &laquo;Мои документы&raquo; и создайте в ней подкаталог
&laquo;Импорт&raquo;;
7) с помощью команды контекстного меню &laquo;Импорт информации
из файла&raquo; импортируйте в папку &laquo;Импорт&raquo; xml-файл, полученный на шаге 3;
203
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Примечание: Импорт настроек возможен только в пустую папку.
При наличии в папке каких-либо объектов операция &laquo;Импорт информации из файла&raquo; будет недоступна.
8) в результате в папке &laquo;Импорт&raquo; должны появиться настройки
пользователя из файл-серверной версии.
Вопрос 15:
На машине уже установлена одна из версий системы ГАРАНТ. Как
установить вторую версию на эту же машину? (Частный случай:
при установке сетевой клиент-серверной версии был установлен
только сервер – не была установлена клиентская часть, и теперь
ее нужно установить дополнительно).
Ответ:
Для этого следует использовать &laquo;индивидуальные&raquo; инсталляторы
оболочек из подкаталога Setup. Формат имени &laquo;индивидуальных&raquo;
инсталляторов оболочек таков:
f1&lt;тип_оболочки&gt;setuprus_&lt;язык_интерфейса_инсталлятора&gt;.exe.
Пример: f1localsetuprus_ru-ru.exe – русскоязычный инсталлятор
локальной версии.
Данный способ позволяет установить на один компьютер оболочку
другого типа (например, локальную, если уже установлена клиентсерверная, или клиент-серверную, если уже установлена локальная). Установка на один компьютер нескольких версий одного
типа (две локальные, две файл-серверные, две клиент-серверные)
невозможна без ручной правки путей в ini-файлах.
Вопрос 16:
Антивирус считает, что в ГАРАНТе вирус, или наблюдается какаялибо иная проблема совместимости с антивирусом. Что делать?
Ответ:
Следует локализовать проблему следующим образом:
1) убедиться, что проблемы именно с антивирусом (проверить
те же действия с выключенным антивирусом);
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
204
2) убедиться, что дистрибутив ГАРАНТа не заражен (сравнить побитно с эталонным дистрибутивом из НПП, проверить другим
антивирусом);
3) проверить, проявляется ли проблема на последней версии программной оболочки антивируса и на обновленной по текущую
дату версии вирусных баз;
4) прислать в службу технической поддержки разработчиков антивируса (либо в службу технической поддержки НПП &laquo;ГарантСервис&raquo;) информацию по пунктам 1–3, включающую в себя скриншоты антивируса, на котором видны его:
– версия программной оболочки;
– вирусных баз;
– настройки антивируса;
– сообщение об ошибке (если таковое есть);
5) ждать возможного сообщения о том, что проблема решена разработчиками антивируса и изменения будут доступны после
обновления вирусной базы или программной оболочки антивируса, либо сообщения о каких-либо иных рекомендациях
разработчиков.
Примечание: По факту получения необходимой информации о проблеме служба технической поддержки НПП &laquo;Гарант-Сервис&raquo; свяжется с разработчиками антивируса. По мере поступления информации от разработчиков антивируса она будет опубликована
в конференции.
Вопрос 17:
Верхнее меню отображается знаками вопроса (?) или нерусскими
символами (кракозябрами). В чем причина?
Ответ:
Вам следует убедиться, что:
– в региональных настройках (Панель управления \ Язык и стандарты) везде выбраны значения &laquo;Русский&raquo; и &laquo;Россия&raquo;;
205
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
– в настройках экрана (Панель управления \ Экран \ Оформление) для каждого элемента, отображаемого &laquo;???&raquo;, выбран
шрифт, и этот шрифт русифицирован (т. е. при выборе этого
шрифта в редакторе MS Word можно печатать русские буквы). Как правило, эти настройки комплексно принимают
нужные значения при выборе значения &laquo;Стандартная&raquo; параметра &laquo;Схема&raquo;. Если в оформлении уже выбрана указанная
схема, попробуйте выбрать для указанного элемента (item-а)
проверенный шрифт, например Arial.
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
206
ДЛЯ ЗАМЕТОК
207
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
ДЛЯ ЗАМЕТОК
КОММЕРЧЕСКАЯ ТАЙНА ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
208
ООО &laquo;НПП &laquo;ГАРАНТ-СЕРВИС-УНИВЕРСИТЕТ&raquo;
Тел.: 8 800 200 8888 (бесплатный
междугородный звонок),
8 495 647 6238 (для Москвы)
Интернет: www.garant.ru
</pre>
                    </div>
    </section>
    
<section class="viewer-info">
    <div class="container">
                    <a class="btn download" href="/download/2435381" target="_blank" rel="nofollow">
                Скачать            </a>
        
        <ol class="breadcrumb row">
                                                            <li><a href="/catalog/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8">Технологии</a></li>
                                    <li><a href="/catalog/%D0%A2%D0%B5%D1%85%D0%BD%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%B8/%D0%98%D0%BD%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D1%82%D0%B8%D0%BA%D0%B0">Информатика</a></li>
                                    </ol>
        <h1 class="title">Сборник технических инструкций Гарант</h1>
        <div class="tags">
            <span class="fa fa-tags fa-flip-horizontal"></span>
                    </div>
    </div>
</section>

<section class="viewer-similar">
    <div class="container">
        <div class="card-columns">
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000700625_1-e76d43f735b2179398c549fb81a49d2d-260x520.png" alt="опросный лист - Национальный центр водных технологий">
                        <a class="card-img-overlay" href="/doc/700625/oprosnyj-list---nacional._nyj-centr-vodnyh-tehnologij"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/700625/oprosnyj-list---nacional._nyj-centr-vodnyh-tehnologij">опросный лист - Национальный центр водных технологий</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002143068_1-e5921483763d20e08e9ef1ee34e89027-260x520.png" alt="РОССИЯ И МИРОВЫЕ ТЕНДЕНЦИИ РАЗВИТИЯ">
                        <a class="card-img-overlay" href="/doc/2143068/rossiya-i-mirovye-tendencii-razvitiya"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2143068/rossiya-i-mirovye-tendencii-razvitiya">РОССИЯ И МИРОВЫЕ ТЕНДЕНЦИИ РАЗВИТИЯ</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002174010_1-8d3bb1463d5c9ddb7ae749f4cb32a168-260x520.png" alt="Предложение &quot;Тайна горы Чекерил&quot; Пакет школьный.">
                        <a class="card-img-overlay" href="/doc/2174010/predlozhenie--tajna-gory-chekeril--paket-shkol._nyj."></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2174010/predlozhenie--tajna-gory-chekeril--paket-shkol._nyj.">Предложение "Тайна горы Чекерил" Пакет школьный.</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000997746_1-d0bcb9d20b2617ba90e0f9b5b71c7f19-260x520.png" alt="Б2.В.ДВ.1_Компьютерные справочно">
                        <a class="card-img-overlay" href="/doc/997746/b2.v.dv.1_komp._yuternye-spravochno"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/997746/b2.v.dv.1_komp._yuternye-spravochno">Б2.В.ДВ.1_Компьютерные справочно</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002244781_1-8b101ba76bf9f9ffb9e5ed92c816cfb6-260x520.png" alt="ГАРА́НТИЯ, в гражданском праве способ обеспечения">
                        <a class="card-img-overlay" href="/doc/2244781/gara%CC%81ntiya--v-grazhdanskom-prave-sposob-obespecheniya"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2244781/gara%CC%81ntiya--v-grazhdanskom-prave-sposob-obespecheniya">ГАРА́НТИЯ, в гражданском праве способ обеспечения</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000715773_1-65f090fc24ad7a443676d477391e2f97-260x520.png" alt="анкете - Театр Занимательной Науки">
                        <a class="card-img-overlay" href="/doc/715773/ankete---teatr-zanimatel._noj-nauki"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/715773/ankete---teatr-zanimatel._noj-nauki">анкете - Театр Занимательной Науки</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002275674_1-88a2aadda58160314b9e3737c3606de3-260x520.png" alt="116 УДК621.797:621.664 РОЛЬ ЧИСТОЙ ВОДЫ В">
                        <a class="card-img-overlay" href="/doc/2275674/116-udk621.797-621.664-rol._-chistoj-vody-v"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2275674/116-udk621.797-621.664-rol._-chistoj-vody-v">116 УДК621.797:621.664 РОЛЬ ЧИСТОЙ ВОДЫ В</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000848807_1-d0e83a8ca3bdc6adef752b47bf94f685-260x520.png" alt="Международный бизнес">
                        <a class="card-img-overlay" href="/doc/848807/mezhdunarodnyj-biznes"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/848807/mezhdunarodnyj-biznes">Международный бизнес</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/002256132_1-5698425234efa0c65a0fb8dddcb9b487-260x520.png" alt="Универсальные комплекты">
                        <a class="card-img-overlay" href="/doc/2256132/universal._nye-komplekty"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/2256132/universal._nye-komplekty">Универсальные комплекты</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			                <div class="card document">
                    <div class="card-preview">
                        <img class="card-img-top" src="//s1.studydoc.ru/store/data/000806895_1-71d16996d8f6d5d546f55e3588e200c4-260x520.png" alt="МДК 3.1">
                        <a class="card-img-overlay" href="/doc/806895/mdk-3.1"></a>
                    </div>
                    <div class="card-block">
                        <h4 class="card-tit">
                            <a href="/doc/806895/mdk-3.1">МДК 3.1</a>
                        </h4>
                        <p class="card-text">
							                        </p>
                    </div>
                </div>
			        </div>
    </div>
</section>

	</div>

    <footer class="footer-default">
        <div class="container">
            <div class="row">
                <IDXSKIP><div class="col-xs-4 text-left">
					studydoc                    &copy; 2017
                </div></IDXSKIP>
                <div class="col-xs-4 text-center">
					
                </div>
                <IDXSKIP><div class="col-xs-4 text-right">
                    <!--
					<a class="text-nowrap" href="/about">О проекте</a>
					-->
					<a class="text-nowrap" href="/dmca">DMCA</a>
					<a class="text-nowrap" href="/abuse">Пожаловаться</a>
				</div></IDXSKIP>
            </div>
        </div>
    </footer>
	<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter35560525 = new Ya.Metrika({
                    id:35560525
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<IDXSKIP><noscript><div><img src="//mc.yandex.ru/watch/35560525" style="position:absolute; left:-9999px;" alt="" /></div></noscript></IDXSKIP>
<!-- /Yandex.Metrika counter -->

    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-563210ea4459bc74" async="async"></script>
</body>
</html>

