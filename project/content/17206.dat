liveinternet.ru/community/rss_rss_hh_new/blog/page811.html
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
  <html lang="ru">
    <head >

<!-- no cache headers --> 
<meta http-equiv="Pragma" content="no-cache" /> 
<meta http-equiv="no-cache" /> 
<meta http-equiv="Expires" content="-1" /> 
<meta http-equiv="Cache-Control" content="no-cache" />
<!-- end no cache headers -->

    <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
    <meta http-equiv="Content-Language" content="ru" />
    <meta name="copyright" content="RussBlogs 2002-2017" />
    <meta name="description" content="Habrahabr/New Виртуальный дневник rss_rss_hh_new" />
    <meta name="keywords" content="дневник,блог,it-,java,javascript,python,алгоритмы,анализ и проектирование систем,информационная безопасность,инфраструктура,машинное обучение,программирование" />
    <meta name="robots" content="all" />
    <meta name="revisit-after" content="1 days" />
    <meta name="author" content="rss_rss_hh_new" />
<meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Habrahabr/New : LiveInternet - Российский Сервис Онлайн-Дневников</title>

    <link rel="shortcut icon" href="/favicon.lira.ico" type="image/x-icon" />
    <link rel="search" href="/s/srch_usr.xml" title="LiveInternet / По имени" type="application/opensearchdescription+xml" />
    <link rel="search" href="/s/srch_post.xml" title="LiveInternet / По сообщениям" type="application/opensearchdescription+xml" />
    <link rel="search" href="/s/srch_music.xml" title="LiveInternet / По музыке" type="application/opensearchdescription+xml" />
    <link rel="search" href="/s/srch_video.xml" title="LiveInternet / По видео" type="application/opensearchdescription+xml" />
    <link rel="search" href="/s/srch_photo.xml" title="LiveInternet / По фотографиям" type="application/opensearchdescription+xml" />
    
    
<link rel="alternate" type="application/rss+xml" title="RSS - Habrahabr/New" href="http://feeds.feedburner.com/xtmb/hh-new-full" />




<!--   <script type="text/javascript" src="//i.li.ru/ReActive/js/global/lib/prototype.js"></script>-->
    <script type="text/javascript" src="//i.li.ru/ReActive/js/global/global.js"></script>
    <script type="text/javascript" src="//i.li.ru/ReActive/js/global/lib/protoculous-effects-packer.js"></script>
    <script type="text/javascript" src="//i.li.ru/ReActive/js/global/global_effects.js"></script>
    
    <link rel="stylesheet" type="text/css" media="all" href="//i.li.ru/ReActive/css/global.css" />
        
    <script type="text/javascript">var curj = "4304502";var comun = "5";var cssc = "grey";</script>
<script type="text/javascript" src="//i.li.ru/ReActive/js/blog.js"></script>

<link rel="openid.server" href="http://www.liveinternet.ru/openid/server/server.php" />
<link rel="openid2.provider" href="http://www.liveinternet.ru/openid/server/server.php" />
<meta http-equiv="X-XRDS-Location" content="http://www.liveinternet.ru/openid/server/server.php/userXrds?user=http%3A%2F%2Fwww.liveinternet.ru%2Fusers%2Frss_rss_hh_new%2F" />

<link rel="stylesheet" type="text/css" media="all" href="//i.li.ru/ReActive/css/blog.css" />
<link rel="stylesheet" type="text/css" media="all" href="//i.li.ru/ReActive/css/blogstyle/style.css" />
<style type="text/css">
	html {background-color:#FFFFFF;;background-attachment: fixed;}

/* Buttons */
	#BlWrapper,#BlWrapper .BAR, #BlWrapper .BAR tr, #BlWrapper .BAR tr td, #BlWrapper .BAR a:link,#BlWrapper .BAR a:visited,#BlWrapper .BAR a:hover,#BlWrapper .BAR a:active{color:#736a75;}
       #BlWrapper .BAR a.li-bl_btn:link, #BlWrapper .BAR a.li-bl_btn:visited, #BlWrapper .BAR a.li-bl_btn:hover, #BlWrapper .BAR a.li-bl_btn:active {
color:#FFF; 
font-size:11px; 
font-family:Verdana;
text-decoration:none;
font-weight: normal;
font-style:normal;
}
       #BlWrapper .BAR a.li-bl_btn-primary:link, #BlWrapper .BAR a.li-bl_btn-primary:visited, #BlWrapper .BAR a.li-bl_btn-primary:hover, #BlWrapper .BAR a.li-bl_btn-primary:active {
min-width: 90px;
background-image: -moz-linear-gradient(top, #281f2a, #736a75);
background-image: -webkit-gradient(linear, 0 0, 0 100%, from(#281f2a), to(#736a75));
background-image: -webkit-linear-gradient(top, #736a75, #281f2a);
background-image: -o-linear-gradient(top, #281f2a, #736a75);
background-image: linear-gradient(to bottom, #281f2a, #736a75);
filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#281f2a', endColorstr='#736a75', GradientType=0);
border-color: #736a75 #736a75 #736a75;
}
#BlWrapper .BAR a.li-bl_btn-primary:hover {
background-color: #281f2a;
}

	#BlWrapper a:link {color:#696969;}#BlWrapper a:visited{color:#696969;}#BlWrapper a:hover,#BlWrapper a:active{color:#797979;}

	#BlMnuVcard {background-color: #ECECEC; }
	
	.CONBL, .CONBL table, .CONBL table tr, .CONBL table tr td, .YANDIR, .CONBLDLTD {font-size:10pt;font-family:Verdana;font-weight:normal;font-style:normal;}
	.BAR, .BAR tr, .BAR tr td {font-size:10pt;font-family:Tahoma;font-weight:normal;font-style:normal;}
	#BlWrapper .EPIG {font-size:8pt;font-family:Tahoma;font-weight:normal;font-style:normal;}
	.MNUBL,.MNUBANBL,.MNUBL input,.MNUBANBL input {font-size:8pt;font-family:Tahoma;font-weight:bold;font-style:normal;}
	.ZAG b, .ZAG strong {font-size:18pt;font-family:Georgia;font-weight:normal;font-style:italic;}
	
	.MNUBL,.MNUBANBL{background-color: #ECECEC; }	
	.MNUBL,.MNUBANBL,.INP,.HRMNU{border: 1px solid transparent;}	
	#BlWrapper .MNUBL, #BlWrapper .MNUBL a:link, #BlWrapper .MNUBL a:visited, #BlWrapper .MNUBL a:hover, #BlWrapper .MNUBL a:active,
	#BlWrapper .MNUBANBL a:link, #BlWrapper .MNUBANBL a:visited, #BlWrapper .MNUBANBL a:hover, #BlWrapper .MNUBANBL a:active{color:#000000;}
	.CONBL,.EPIG, .CONBLDLTD {background-color:transparent; }
	.CONBL,.EPIG {border: 1px solid transparent;}
	.COMTEXT, .HRCON{border: 1px solid transparent;}	
	.CONBL, .CONBL table, .CONBL table tr, .CONBL table tr td, CONBLDLTD,.EPIG,#BlWrapper a.TTL:link, #BlWrapper a.TTL:visited{color:#000000;}	
	#BlWrapper a.TTL:hover, #BlWrapper a.TTL:active{color:#696969;}	
	.BAR {background-color:#ECECEC;  border: 1px solid transparent;} 
	.CAM, .CONBL BLOCKQUOTE{border: 1px solid transparent;}
	.HRMNU, .HRCON {border-width: 1px 0 0 0;} .CAM, .CONBL blockquote {border-width: 0 0 0 4px;}
	#BlWrapper .CONBL fieldset {border-color:#000000;}
	#BlWrapper .CONBL fieldset legend {color:#000000;}
	   
	.BlInnrcom blockquote {border-left-color:#ECECEC;}
	.BlInnrcom, .BlInnrcomFormInnr, .BlInnrcomFormInnrInput input, .BlInnrcomFormInnrInput textarea {color:#000000;font-size:10pt;font-family:Verdana;font-weight:normal;font-style:normal;}
	.BlInnrcomTop, .BlInnrcomInnrRightInnr, .BlInnrcomFormInnr {border:transparent 1px solid;}
	.BlInnrcomTop, .BlInnrcomInnr, .BlInnrcomFormInnr {color:#000000;}
	.BlInnrcomTopAva, .BlInnrcomTopAva, .BlInnrcomInnrLeft span {background-color:#ECECEC;}
	.BlInnrcomTopFtr, .BlInnrcomTopTxtInnr {border-left-color:#ECECEC;}
	.BlInnrcomTopFtrInnr, .BlInnrcomInnrRightInnrFtr {border-top-color:#ECECEC;}
	.BlInnrcomTopAvaInnrAva img {border-color:transparent;background-color:transparent;}
	.BlInnrcomTop, .BlInnrcomInnrRightInnr, .BlInnrcomFormInnr, BlInnrcomTopDltdInnr, BlInnrcomIDltdInnr {background-color:transparent;}
	.BlInnrcomTopFtrInnrLeft {color:#736a75;}
        #BlWrapper .BlInnrcomTopFtrInnrLeft a  {color:#736a75;background-color:#ECECEC;}
	.BlInnrcomFormInnrInput input, .BlInnrcomFormInnrInput textarea, #BlQuickpost .BlQuickpostInp input, #BlQuickpost .BlQuickpostInp textarea  {border-color:#ECECEC;color:#000;background-color:#FFF;}
	.BlInnrcomFormLnk:link, .BlInnrcomFormLnk:visited, .BlInnrcomFormLnk:hover, .BlInnrcomFormLnk:active {text-decoration:none;border-bottom-color:#696969;}
	
	.BlNavSrchInput {border: 1px solid transparent;}
	.BlNavSrch form, .BlNavSrchInput {font-size:13px;font-family:Tahoma;}
	
	#Bl-Sidebar .Vcard, #Bl-Sidebar .Vcard a:link, #Bl-Sidebar .Vcard a:visited, #Bl-Sidebar .Vcard a:hover, #Bl-Sidebar .Vcard a:active {color:#000000;}
	#Bl-Sidebar .Vcard .Manage {background-color:#ECECEC;}
	#Bl-Sidebar .Vcard .Manage a:link, #Bl-Sidebar .Vcard .Manage a:visited, #Bl-Sidebar .Vcard .Manage a:hover, #Bl-Sidebar .Vcard .Manage a:active {color:#736a75;}
	#Bl-Sidebar .Envelope {background-color: #ECECEC; } 
	#Bl-Sidebar .Gl-BlockTemp, #Bl-Sidebar .Gl-BlockTemp table {color:#000000;}
	#Bl-Sidebar .Gl-BlockTemp h3 {background:#ECECEC;border:1px solid #ECECEC;color:#736a75}
	#Bl-Sidebar .Gl-BlockTemp .Envelope {background-color: transparent;border-color:#ECECEC; }
	#Bl-Sidebar .Gl-BlockTemp .Menu-Inner li {background:#ECECEC;}
	#Bl-Sidebar .Gl-BlockTemp .Menu-Inner li a:link, #Bl-Sidebar .Gl-BlockTemp .Menu-Inner li a:visited, #Bl-Sidebar .Gl-BlockTemp .Menu-Inner li a:hover, #Bl-Sidebar .Gl-BlockTemp .Menu-Inner li a:active  {color:#736a75;}
        .EPIG ul, .EPIG p {margin-bottom:10px;}
        .EPIG ul li {list-style-type:disc;margin-left:20px; margin-bottom:3px;}

.blLi_share {border-color:#ECECEC;}
.blLi_share-lbl {background:#ECECEC;}
.blLi_share-lbl span {color:#736a75;}

.li-earlap_wrap { background-color:#ECECEC; }
#BlWrapper .li-earlap a, #BlWrapper .li-earlap b, .BlInnrcomTopTxtHdr { font-size:12px;font-family:Tahoma;font-style:normal;font-weight:normal;}
#BlWrapper .li-earlap b {font-weight:bold;}
#BlWrapper .li-earlap a {color:#736a75;}

.blo-fastcom_form {border-top-color:transparent;}

/*
.b-temp_rbc_r_bar { background-color:transparent;  }
.b-temp_rbc_r_bar_60 { border: 1px solid transparent; }
#BlWrapper a.b-temp_rbc_r_bar_text:link, #BlWrapper a.b-temp_rbc_r_bar_text:visited, #BlWrapper a.b-temp_rbc_r_bar_text:hover, #BlWrapper a.b-temp_rbc_r_bar_texta:active { color:#000000; }
*/
.b-temp_rbc_r_bar { background-color:#FFF; backgroun-image:none; }
.b-temp_rbc_r_bar_60 { border: 1px solid transparent; }

.li-bl_videotizer {  background-color: #ECECEC;  }
.li-bl_videotizer_i, .li-bl_videotizer_i a { color:#000000; }
.li-bl_videotizer_label { background-color:#ECECEC; }

.gl_Width-full .li-bl_header {background-image:url();}
.gl_Width-half .li-bl_header {background-image:url();}
.gl_Width-small .li-bl_header {background-image:url();}

.BlInnrcomInnr {font-size:10pt;

}

</style>
<!--[if IE 6]><link rel="stylesheet" type="text/css" href="//i.li.ru/ReActive/css/blog-4Eki-ie6.css"/><![endif]-->

<link rel="stylesheet" type="text/css" media="print" href="//i.li.ru/ReActive/css/blog-print.css" />

<script type="text/javascript">
function agelock() 
{
   
   var ageIntervalID = setInterval(function(){
    var check = typeof(LI);
    if (check != 'undefined') {
     LI.agelock.init();
     clearInterval(ageIntervalID);
    }
   }, 1000);

}
</script>
    
    <script>
       var globals = {
          avatarChange : {}
       }
       var curuser="0";
       var curusername=""; 
       var is_friend="-1"; 
       var usertoken = "10db508d8a725fb1d4ac37255b4bc288";
      
    </script>




    <script  type="text/javascript"src="https://yastatic.net/pcode/adfox/loader.js"> </script>
    <script type="text/javascript" src="//i.li.ru/static/js/adfox.asyn.code.ver3.js"></script>
    <script type='text/javascript' src='//static.criteo.net/js/px.js?ch=1'></script>
    <script type='text/javascript' src='//static.criteo.net/js/px.js?ch=2'></script>
    <script type="text/javascript" language="Javascript" src="//redir.adap.tv/redir/javascript/lightintegration.js"></script>

    <!-- VGTRK - RU - RTA - RUB - main RTA script -->
    <script type='text/javascript'>
        var crtg_nid = '4013';
        var crtg_cookiename = 'crtg_rta';
        var crtg_varname = 'crtg_content';
        function crtg_getCookie(c_name){ var i,x,y,ARRCookies=document.cookie.split(";");for(i=0;i<ARRCookies.length;i++){x=ARRCookies[i].substr(0,ARRCookies[i].indexOf("="));y=ARRCookies[i].substr(ARRCookies[i].indexOf("=")+1);x=x.replace(/^s+|s+$/g,"");if(x==c_name){return unescape(y);} }return'';}
        var crtg_content = crtg_getCookie(crtg_cookiename);
        var crtg_rnd=Math.floor(Math.random()*99999999999);
        (function(){
            var crtg_url=location.protocol+'//rtax.criteo.com/delivery/rta/rta.js?netId='+escape(crtg_nid);
            crtg_url +='&cookieName='+escape(crtg_cookiename);
            crtg_url +='&rnd='+crtg_rnd;
            crtg_url +='&varName=' + escape(crtg_varname);
            var crtg_script=document.createElement('script');crtg_script.type='text/javascript';crtg_script.src=crtg_url;crtg_script.async=true;
            if(document.getElementsByTagName("head").length>0)document.getElementsByTagName("head")[0].appendChild(crtg_script);
            else if(document.getElementsByTagName("body").length>0)document.getElementsByTagName("body")[0].appendChild(crtg_script);
        })();
    </script>

<!-- TO HEADER -->
<script>
  var adcm_config ={
    id:1073,
    platformId: 73,
    init: function () {
      window.adcm.call();
    }
  };
</script>
<script src="https://tag.digitaltarget.ru/adcm.js" async></script>

  </head>
  <body id=":gl_Body">
    <center><span id=bantop_span_new></span></center>
<div class="gl_Topv2" id=":gl_Top" style="visibility:hidden;">
 <div class="gl_Topv2I" id=":gl_TopI">
  <div class="gl_Topv2-opts">
   <a title="Задать вопрос технической поддержке" class="gl_Topv2-opts-support" id=":gl_Top-opts-support" href="#">Поддержка</a> 
   <a title="Выбрать стиль оформления" class="gl_Topv2-opts-theme" id=":gl_Top-opts-theme" href="#">Вид</a>
   <form class="gl_Topv2-opts-srch" id=":gl_Top-opts-srch" action="http://www.liveinternet.ru/search/?" method="get"><div class="gl_Topv2-opts-srchI">
    <span class="gl_Topv2-opts-srch-btn" id=":gl_Top-opts-srch-btn" title="Найти">&nbsp;</span>
    <input class="gl_Top-opts-srch-inp" id=":gl_Top-opts-srch-inp" name="q" type="text" /><input class="Hi" type="submit" />
   </div><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
  </div>
  <IDXSKIP><h1 class="gl_Topv2-logo"><strong class="gl_Topv2-logo-txt">LiveInternet</strong><a class="gl_Topv2-logo-lnk" href="//www.liveinternet.ru/" title="LiveInternet.ru">LiveInternet</a></h1></IDXSKIP>
  <div class="gl_Topv2-separator"></div>
  <div class="gl_Topv2-nav" id=":gl_Top-navAuth">
   <IDXSKIP><div class="gl_Topv2-nav-user" id=":gl_Top-nav-user">
    <a href="" class="gl_Topv2-nav-user-ico" id=":gl_Top-nav-user-ico" style="background-image:url(http://ma.li.ru//.gif)">Аватар</a>
    <div class="gl_Topv2-nav-user-info">
     <span class="gl_Topv2-nav-user-info-name" id=":gl_Top-nav-user-info-name"><span class="gl_Topv2-nav-user-info-name-long" id=":gl_Top-nav-user-info-name-long">&nbsp;</span><a href="profile"></a></span>
     <span class="gl_Topv2-nav-user-info-lnk">
      <a title="Переключиться на другой аккаунт" class="gl_Topv2-nav-user-info-lnk-item gl_Topv2-nav-user-info-lnk-itemChange" id=":gl_Top-nav-user-info-lnk-itemChange" href="#">сменить</a>
      <a style="display:none;" title="Выйти из дневника" class="gl_Topv2-nav-user-info-lnk-item gl_Top-nav-user-info-lnk-itemExit" href="/journals.php?s=&action1=login">x</a>
     </span>
    </div>
   </div></IDXSKIP>
   <ul class="gl_Topv2-nav-menu">
    <IDXSKIP><li title="Лента друзей" class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk  gl_Topv2-nav-menu-item-lnkFriends" href="friends">Друзья</a></li></IDXSKIP>
    <IDXSKIP><li title="Список записей" class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk  gl_Topv2-nav-menu-item-lnkBlog" href="">В дневник</a></li></IDXSKIP>
    <IDXSKIP><li title="Добавить новое сообщение" class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk  gl_Topv2-nav-menu-item-lnkWrite" href="//www.liveinternet.ru/journal_post.php?journalid=">Написать</a></li></IDXSKIP>
    <IDXSKIP><li title="Лента комментариев" class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkComment" href="comments">Комментарии</a></li></IDXSKIP>
    <IDXSKIP><li title="Личная переписка" class="gl_Topv2-nav-menu-item gl_Topv2-nav-menu-itemIm"><i class="gl_Topv2-nav-menu-item-lnkImCnt" id=":gl_Topv2-nav-menu-item-lnkImCnt"></i><a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkIm" href="//www.liveinternet.ru/im">ЛС</a></li></IDXSKIP>
    <IDXSKIP><li title="Настройки" class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkSettings" href="//www.liveinternet.ru/settings/">Настройки</a></li></IDXSKIP>
   </ul>
  </div>
  <IDXSKIP><div class="gl_Topv2-nav" id=":gl_Top-navNoauth">
   <ul class="gl_Topv2-nav-menu">
    <li class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkRegister" href="//www.liveinternet.ru/journal_register.php">Регистрация</a></li>   
    <li class="gl_Topv2-nav-menu-item"><a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkEnter" id=":gl_Top-navNoauth-change" href="#">Вход</a></li>
   </ul>
   <div class="gl_Topv2-separator"></div>
   <div class="gl_Topv2-nav-menu">
    <a class="gl_Topv2-nav-menu-item-lnk gl_Topv2-nav-menu-item-lnkRate" href="//www.liveinternet.ru/top">Рейтинги</a>
   </div>
  </div></IDXSKIP>
  <div class="gl_Topv2-separator"></div>
  <IDXSKIP><div class="gl_Topv2-rand">
   <a title="Случайный выбор дневника" class="gl_Topv2-rand-item" href="//www.liveinternet.ru/journal_proc.php?action=randomlink">Авось</a> 
   <span id=":gl_Top-rand-stat">из  (+ сутки) дневников</span>
  </div></IDXSKIP>
 </div>
</div>
<!--AdFox START-->
<!--Liveinternet-->
<!--Площадка: Liveinternet / Все страницы / Site branding-->
<!--Категория: <не задана>-->
<!--Тип баннера: Background-->
<script type="text/javascript">
<!--
if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
if (typeof(document.referrer) != 'undefined') {
  if (typeof(afReferrer) == 'undefined') {
    afReferrer = encodeURIComponent(document.referrer);
  }
} else {
  afReferrer = '';
}
var addate = new Date(); 
document.write('<scr' + 'ipt type="text/javascript" src="//ads.adfox.ru/248071/prepareCode?p1=bvqut&amp;p2=fkxr&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '"></scr' + 'ipt>');
// -->
</script>
<!--AdFox END-->
<IDXSKIP><div id="GlAllcount"><script type="text/javascript"> if (typeof(curusername)=='undefined') curusername='';</script>

        <!--LiveInternet counter--><script type="text/javascript" ><!--
        document.write('<img src="http://counter.yadro.ru/hit;dnevnik_4304502?r'+
        escape(document.referrer)+((typeof(screen)=='undefined')?'':
        ';s'+screen.width+'*'+screen.height+'*'+(screen.colorDepth?
        screen.colorDepth:screen.pixelDepth))+';u'+escape(document.URL)+
        ';h'+escape(document.title.substring(0,80))+
        ';p'+escape(curusername)+';'+Math.random()+
        '" width=1 height=1 alt="">')//--></script><!--/LiveInternet-->
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter11963701 = new Ya.Metrika({
                    id:11963701,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true
                });
            } catch(e) { }
        });

        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = "https://mc.yandex.ru/metrika/watch.js";

        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/11963701" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-114080-1', 'auto');
  ga('send', 'pageview');

</script>
</div></IDXSKIP>

<style type="text/css">
    .b-temp_rbc {margin: 0 auto;}
    .b-temp_rbc_r {float:right; height:90px;overflow:hidden;}
    .b-temp_rbc_r_bar {
        width:220px;
        height:70px;
        padding:10px;
        float:right;
        border: 1px solid #EEE;
    }
    .gl_Width-full .b-temp_rbc_r_bar { width: 360px; }
    .b-temp_rbc_r_bar_60 {display:block;width:60px;height:60px; float:left; margin-right:10px;}
    .b-temp_rbc_r_bar_text {text-align:left; display:block; font-family:Tahoma;font-size:12px;font-style:normal;font-weight:normal;}
    .b-temp_rbc_r_bar ul li {
        position: relative;
        height:30px;
        overflow:hidden;
        margin-bottom:7px;
    }
    .b-temp_rbc_r_bar ul li a {
        position: absolute;
        top: 0;
        left: 21px;
    }
    .b-temp_rbc_r_bar ul li img {
        position: absolute;
        top: 0;
        left: 0;
    }
    .gl_Width-full .b-temp_rbc { width: 1170px; }
    .gl_Width-full .b-temp_rbc_i { width: 1122px; }
    .gl_Width-half .b-temp_rbc { width: 990px; }
    .gl_Width-half .b-temp_rbc_i { width: 980px; margin-left:10px; }
</style>
<div id="BlWrapper">
    <div class="b-temp_rbc">
        <div class="b-temp_rbc_i">
            <span id=bantizer_span></span><script src='/cgi-bin/adv.fcgi?p=7&qtype=javascript&span-name=bantizer_span'></script>

        </div>

			<span style="display:block; width:728px;height:90px;" id=bantop_span>

    <!--728x90 ________________________AdFox Asynchronous code START__________________________ -->
<script type="text/javascript">
<!--
if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
if (typeof(document.referrer) != 'undefined') {
if (typeof(afReferrer) == 'undefined') {
afReferrer = encodeURIComponent(document.referrer);
}
} else {
afReferrer = '';
}
var addate = new Date();
var pk728 = '';
var sep = '';
var crkeys728 = ["vgtliru728", "vgtliru728main", "lvntm1728", "lvntm2728"];
for (var i = 0; i < crkeys728.length; i++) {
if (crtg_content && crtg_content.indexOf(crkeys728[i]) != -1) {
pk728 += sep + crkeys728[i];
sep = "%20";
}
}
var dl = encodeURIComponent(document.location);
var pr1 = Math.floor(Math.random() * 4294967295) + 1;

document.write('<div id="AdFox_banner_'+pr1+'"></div>');
document.write('<div style="visibility:hidden; position:absolute;"><iframe id="AdFox_iframe_'+pr1+'" width=1 height=1 marginwidth=0 marginheight=0 scrolling=no frameborder=0></iframe></div>');

AdFox_getCodeScript(1,pr1,'//ads.adfox.ru/248071/prepareCode?p1=buwad&amp;p2=fjgl&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '&amp;dl='+dl+'&amp;pk='+pk728+'&amp;pr1='+pr1);
// -->
</script>
<!-- _________________________AdFox Asynchronous code END___________________________ -->



<!--LiveInternet counter--><script type="text/javascript"><!--
            new Image().src = "http://counter.yadro.ru/hit;libanner800?r"+
                    escape(document.referrer)+((typeof(screen)=="undefined")?"":
                    ";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
                            screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
                    ";"+Math.random();//--></script><!--/LiveInternet-->

</span>
    </div>
</div>

<div id="BlWrapper" class="li-j_wrapper">
        <script type="text/javascript" src="/share/js/share.js" async defer></script>
        <link rel="stylesheet" type="text/css" href="/share/share.css" />
	<script language="Javascript" src="http://i.li.ru/jpost.js"></script>
	<div id="Bl-Sidebar">

	<div class="Vcard Envelope">	
		<div class="Links">
			<a href="//www.liveinternet.ru/users/rss_rss_hh_new/">Записи</a>
			<a href="//www.liveinternet.ru/users/rss_rss_hh_new/friends">Друзья</a>
			<a href="//www.liveinternet.ru/users/rss_rss_hh_new/comments">Комментарии</a>
		</div>
		
		<div class="li-bl_barcard_top">
			<div class="li-bl_barcard_top_l">	
				<a class="li-icons li-icons_" href="//www.liveinternet.ru/users/rss_rss_hh_new/">rss rss hh new</a>
				<strong><a href="//www.liveinternet.ru/users/rss_rss_hh_new/profile" rel="author" title="Профиль пользователя rss_rss_hh_new">rss rss hh new</a></strong>				
			</div>
			<div class="li-bl_barcard_top_r">
<!--				<a style="text-decoration:none" href="http://wiki.liveinternet.ru/ServisDnevnikovLiveInternet/Zvezdy" target=_blank title="Опытность пользователя. Нажмите, чтобы увидеть правила"></a>-->
			</div>
			<div class="li-bl_barcard_top_c">	
<!--				<a target="_blank" class="li-authority li-icons li-icons_Rate-ylw" style="color:#FFF;" title="Авторитетность дневника rss_rss_hh_new" href="//www.liveinternet.ru/top//rss_rss_hh_new/">
					<i>+34%</i>
				</a>-->
			</div>			
		</div>
		<div class="Bo"></div>
		
		<div class="Avatar">
<!--			-->
			<div class="AvatarInner">
				<a style="background-image:url(http://av.li.ru//);" href="/profile.php?journalid=4304502&all_a=1">Аватар rss_rss_hh_new</a>
			</div>	
		</div>
        
		<div class="li-bl_barcard_mdl">
			<span id=":blg_SidebarTofriend"></span>
		</div>


		<div class="li-bl_barcard_btm">
			<div class="li-bl_barcard_btm_l">
<!--				-->
			</div>
			<div class="li-bl_barcard_btm_r">
<!--				<a class="li-icons li-icons_Thumb-up" href="/relations.php?to_id=4304502" title="Выразить свою симпатию пользователю rss_rss_hh_new">0</a>
<a class="li-icons li-icons_Thumb-down" href="/relations.php?to_id=4304502" title="Выразить свою антипатию пользователю rss_rss_hh_new">0</a>-->
			</div>
		</div>		
		 
<!--		<div class="Manage" id="Bl-Sidebar-Manage">
			<a href="//www.liveinternet.ru/settings/">Настройки</a>
		</div>
		<script type="text/javascript">
			if(curj!=userid)
			{
				document.getElementById('Bl-Sidebar-Manage').style.display = 'none';
				document.getElementById('Bl-Sidebar-MicroblogAdd').style.display = 'none';
			};
		</script>-->
	</div>

<!--
	<div style="border: 1px solid #EEE; padding:10px; margin-bottom: 10px;">
		<div id=banleft_small></div>
	</div>
-->
    <div class="Bo"></div>
	<div class="j-li_sidebar-banner">
<span style="display:block; width:240px;height:400px;">
<script type="text/javascript">
//<!--AdFox START-->
//<!--Liveinternet-->
//<!--Площадка: Liveinternet / Все страницы / 240x400 adblock-->
//<!--Категория: <не задана>-->
//<!--Тип баннера: 240x400-->
if (window.abp) {
  if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
  if (typeof(document.referrer) != 'undefined') {
    if (typeof(afReferrer) == 'undefined') {
    afReferrer = encodeURIComponent(document.referrer);
    }
  } else {
    afReferrer = '';
  }
  var addate = new Date(); 
  document.write('<scr' + 'ipt type="text/javascript" src="//ads.adfox.ru/248071/prepareCode?p1=buzxi&amp;p2=fjgm&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '"></scr' + 'ipt>');
}
//<!--AdFox END-->
else {
//<!-- ________________________AdFox Asynchronous code START__________________________ -->
    if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
    if (typeof(document.referrer) != 'undefined') {
        if (typeof(afReferrer) == 'undefined') {
            afReferrer = encodeURIComponent(document.referrer);
        }
    } else {
        afReferrer = '';
    }
    var addate = new Date();


    var pk240 = '';
    var sep = '';
    var crkeys = ["lvntm1240","lvntm2240","vgtliru240"];
     for(var i = 0; i < crkeys.length; i++){
      if (crtg_content.indexOf(crkeys[i]) != -1){
       pk240 += sep + crkeys[i];
      sep = "%20";
      }
    }
    var dl = encodeURIComponent(document.location);
    var pr1 = Math.floor(Math.random() * 4294967295) + 1;


    document.write('<div id="AdFox_banner_'+pr1+'"></div>');
    document.write('<div style="visibility:hidden; position:absolute;"><iframe id="AdFox_iframe_'+pr1+'" width=1 height=1 marginwidth=0 marginheight=0 scrolling=no frameborder=0></iframe></div>');


    AdFox_getCodeScript(1,pr1,'//ads.adfox.ru/248071/prepareCode?p1=buwac&amp;p2=fjgm&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '&amp;dl='+dl+'&amp;pk='+pk240+'&amp;pr1='+pr1);
}
//<!-- _________________________AdFox Asynchronous code END___________________________ -->
</script>
    <!--LiveInternet counter--><script type="text/javascript"><!--
new Image().src = "http://counter.yadro.ru/hit;libanner240?r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random();//--></script><!--/LiveInternet-->
</span>
</div>
	<div class="Bo"></div>
	<div class="Gl-BlockTemp" id="BlockVar-18_0">
	<IDXSKIP><h3 class="sorted"><span onclick="blog.sidebar.hide('18','0');">&nbsp;</span><strong><b><a id="BlockVarLink-18_0">-</a></b>Поиск по дневнику</strong></h3></IDXSKIP>
	<div class="Envelope">
		<div class="Envelope-Inner" id="BlockVarInner-18_0" >
			
			<div >
				<form id="BlNavSrchTop" method="GET" action="http://www.liveinternet.ru/search/?sm=1&in=1&cb=6&cg=7&cc=3&cj=5&cr=4">			
	<input type="hidden" name="jn" value="rss_rss_hh_new" />
	<input class="BlNavSrchInput" type="text" name="q" value="" onfocus="if (this.value=='') this.value='';" onblur="if(this.value=='') this.value='Поиск сообщений';" />
	<img OnClick="document.getElementById('BlNavSrchTop').submit();" src="http://i.li.ru/ReActive/i/blog/top/nav_srch-btn.png" alt="Поиск сообщений в rss_rss_hh_new" title="Поиск сообщений в rss_rss_hh_new" />
	<nobr>
		<input type=checkbox value="1" name="in" id="BlNavSrchInputHereBtm" checked="checked" /><label for="BlNavSrchInputHereBtm">в этом дневнике</label>
	</nobr>
	<input type=submit value="Ok" style="display:none;" />
<input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>		

			</div>
		</div>
	</div>
</div><div class="Gl-BlockTemp" id="BlockVar-19_0">
	<h3 class="sorted"><span onclick="blog.sidebar.hide('19','0');">&nbsp;</span><strong><b><a id="BlockVarLink-19_0">-</a></b>Подписка по e-mail</strong></h3>
	<div class="Envelope">
		<div class="Envelope-Inner" id="BlockVarInner-19_0" >
			
			<div >
				<form name="sform" method="POST" action="/member.php">
  <input type="hidden" name="action" value="subscr_email" />
  <input type="hidden" name="journalid" value="4304502">
  <input class="INP" type="text" name="email" placeholder="Ваш e-mail" >&nbsp;
  <input type=submit value="Ok" title="Подписаться на сообщения дневника пользователя "/>
<input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>

			</div>
		</div>
	</div>
</div><div class="Gl-BlockTemp" id="BlockVar-54_0">
	<IDXSKIP><h3 class="pinned"><span onclick="blog.sidebar.hide('54','0');">&nbsp;</span><strong><b><a id="BlockVarLink-54_0">-</a></b>Постоянные читатели</strong></h3></IDXSKIP>
	<div class="Envelope">
		<div class="Envelope-Inner" id="BlockVarInner-54_0" >
			<div class="Menu">
	<ul class="Menu-Inner">
		 <li class="ProBlockMenuMore"><a href="//www.liveinternet.ru/jsearch/?clist=1&ulist=4304502">Все (13)</a></li>   
	</ul>
</div>
			<div >
				<a href='//www.liveinternet.ru/users/bloodandmilk/profile/' social='gender:W;lastpost:1493744571'>BlooDandMilK</a>  <a href='http://www.prokrastinator.pro/profile/' social='gender:M;lastpost:1494615497'>Chizz_TecTeP</a>  <a href='//www.liveinternet.ru/users/python3/profile/' social='gender:M;lastpost:1473420458'>Python3</a>  <a href='//www.liveinternet.ru/users/_ghbhjif/profile/' social='gender:M;lastpost:1447523297'>_ghbhjif</a>  <a href='//www.liveinternet.ru/users/balloonic/profile/' social='gender:W;lastpost:1481697078'>balloonic</a>  <a href='//www.liveinternet.ru/users/dmitriy1800/profile/' social='gender:M;lastpost:1481680452'>dmitriy1800</a>  <a href='//www.liveinternet.ru/users/lazy_pussy/profile/' social='gender:W;lastpost:1441637740'>st_vitta</a>  <a href='//www.liveinternet.ru/users/1017001/profile/' social='gender:M;lastpost:1374576252'>ВаШуня</a>  <a href='//www.liveinternet.ru/users/817131/profile/' social='gender:M;lastpost:1465986039'>Виталий_Хлусов</a> 
			</div>
		</div>
	</div>
</div>
<div class="Gl-BlockTemp" id="BlockVar-58_0">
	<IDXSKIP><h3 class="pinned"><span onclick="blog.sidebar.hide('58','0');">&nbsp;</span><strong><b><a id="BlockVarLink-58_0">-</a></b>Статистика</strong></h3></IDXSKIP>
	<div class="Envelope">
		<div class="Envelope-Inner" id="BlockVarInner-58_0" >
			
			<div >
				<div style="float:left;width:95px;">
<a href="//www.liveinternet.ru/click;dnevnik_4304502" target=_blank><img src="http://counter.yadro.ru/logo;dnevnik_4304502?27.1" alt="Статистика LiveInternet.ru: показано количество хитов и посетителей" title="Статистика LiveInternet.ru: показано количество хитов и посетителей" width=88 height=120 /></a>
</div>

<div style="margin-left:95px;">
Создан: 17.03.2011<br />
Записей: <br />
Комментариев: <br />
Написано: 35
</div><br/>
<div style="margin-left:95px;">
Отчеты:<br/>
<a href="//www.liveinternet.ru/stat/dnevnik_4304502"/users.html" target="_blank">Посетители</a><br/>
<a href="//www.liveinternet.ru/stat/dnevnik_4304502/queries.html" target="_blank">Поисковые фразы</a>
</div>

			</div>
		</div>
	</div>
</div>
	
	<div class="li-bl_sidebar-last j-li_sidebar-last"></div>
	
</div>
	<div id="CON">
        <div class="Inner">


<div class="BAR">
	    
    <table width="100%"  border="0">
      <tr>
        <td class="TLE">
          <script type="text/javascript">
            ptype='0';
          </script>
          <script type="text/javascript" src="http://www.liveinternet.ru/4Ek/JS/diary/main/nav/regoradd.js"></script>
	  
        </td>
        <td></td>
        <td class="TRI">
          <h1 class="ZAG"><a href="//www.liveinternet.ru/users/rss_rss_hh_new/"><strong>Habrahabr/New</strong></a> </h1>
          <span class="GL_TXTS GL_LNXN"><br></span>
          
        </td>
      </tr>
    </table>
	        
</div>



<div id="AutoSaveErrorDiv"></div>
<input type="hidden" name="autosave_postid" id="autosave_postid" value="0">
<script type="text/javascript" src="http://www.liveinternet.ru/autosave.js"></script>
<script type="text/javascript">
        if (1==1)//curj=="635079")
        {
            //autosave startup
            var autosave_divname='p_info_block';
            var autosave_postid=0;
            var autosave_lastvalue='';
            function cron_autosave(force)
            {
                var _headerofpost=document.getElementById('BlQuickpostHeaderOfPost').value;
                var _tags=document.getElementById('BlQuickpostTags').value;
                var _LiNewPostForm=document.getElementById('BlQuickpostMessage').value;

                if ($("BlQuickpost"))
                {
                    if ($("BlQuickpost").style.display!='none' && (_headerofpost!='Заголовок' || _LiNewPostForm!=''))
                    {
                        var autosave_newvalue=_headerofpost+_LiNewPostForm+_tags;
                        if (autosave_newvalue!=autosave_lastvalue || force)
                        {
                            autosave_lastvalue=autosave_newvalue;
                            autosave_do_PostEvent(curj,_headerofpost,_LiNewPostForm,_tags);
                        }
                    }
                }
            }
            setInterval('cron_autosave(false)',20000);
        }


        /* AJAX quick post
        ----------------------------------------------- */
        var p_load_process=0;
        var p_request=false;
        var p_reqTimeout;

        /* -----------[ DisableControls ]----------- */
        function p_DisableControls(disable)
        {
            if (disable) p_ShowError('<div class=GL_MAR10B><img align=left src="http://i.li.ru/ReActive/i/blog/comm/load.gif" /> Подождите, идет отправка данных...</div>'); else p_ShowError('');

            if ($("BlQuickpost"))
            {
                $("BlQuickpostHeaderOfPost").disabled=disable;
                $("BlQuickpostMessage").disabled=disable;
                $("BlQuickpostTags").disabled=disable;
                $("BlQuickpostSubmit").disabled=disable;
            }
        }

        /* -----------[ ShowError ]----------- */
        function p_ShowError(content)
        {
            document.getElementById('p_info_block').innerHTML=content;
        }
        /* -----------[ Result ]----------- */
        function p_do_PostEvent_callback()
        {
            if (p_request.readyState == 4)
            {
                clearTimeout(p_reqTimeout);
                p_load_process=0;

                if (p_request.status == 200)
                {
                    result=unescape(p_request.responseText);
                    retval=result.substr(0,2);
                    content=result.substr(3);

                    if (retval=='OK')  //пост прошел, дальше html
                    {
                        s=content.indexOf('|');
                        postid=content.substr(0,s);
                        posthtml=content.substr(s+1);

                        document.getElementById('BlQuickpostArea').innerHTML=posthtml+document.getElementById('BlQuickpostArea').innerHTML;

                        document.getElementById('BlQuickpostHeaderOfPost').value='Заголовок';
                        document.getElementById('BlQuickpostMessage').value='';
                        document.getElementById('BlQuickpostTags').value='Метки';

                        document.getElementById('BlQuickpost').style.display='none';

                        p_DisableControls(false);
                        p_ShowError('');
                    }
                    else    //ошибка, дальше текст ошибки
                    {
                        p_DisableControls(false);
                        p_ShowError(content);
                    }
                }
                else
                {
                    if (!p_request.status)
                    {
                        p_DisableControls(false);
                        eval("document.BlQuickpost.submit();");
                    }
                    else alert("Не удалось получить данные (код " + p_request.status + ", сообщение "+ p_request.statusText+")");
                }
            }
        }

        /* -----------[ Stop query ]----------- */
        function p_stop_query()
        {
            if (p_load_process==1)
            {
                p_request.abort();
                p_load_process=0;
                p_DisableControls(false);
                p_ShowError('Отправка данных не удалась');
            }
        }

        /* -----------[ Post event ]----------- */
        function p_do_PostEvent()
        {
            if (p_load_process==1) return;
            p_load_process=1;

            headerofpost=new String($("BlQuickpostHeaderOfPost").value);
            message=new String($("BlQuickpostMessage").value);
            tags=new String($("BlQuickpostTags").value);

            if (window.XMLHttpRequest)
            {
                try
                {
                    p_request = new XMLHttpRequest();
                }
                catch (e) {}
            }
            else if (window.ActiveXObject)
            {
                try
                {
                    p_request = new ActiveXObject("Msxml2.XMLHTTP");
                }
                catch (e)
                {
                    try
                    {
                        p_request = new AciveXObject("Microsoft.XMLHTTP");
                    }
                    catch (e) {}
                }
            }

            if (p_request)
            {

            	// Get token
				new Ajax.Request('/journal_proc.php?action=token-json', {
					method: 'get',
				    parameters: {
				    	action    : 'token-json',
				    	journalid : 4304502,
				    	jpostid   : autosave_postid
				    },                                    
				    onComplete:function(transport)
				    {			  
				    	
						var token = transport.responseText.replace(/"/g, "");
										    	
		                postrequest="action=newpost&autosave_postid="+autosave_postid+"&journalid=4304502&make_br_sel=yes&commentsubscribe=yes&nocomment=0&parseurl=yes&close_level=0"+"&headerofpost="+escape(headerofpost.replace(/\+/g,'%u002B'))+"&message="+escape(message.replace(/\+/g,'%u002B'))+"&tags="+escape(tags.replace(/\+/g,'%u002B'));
		                postrequest = postrequest + "&tok=" + token;
		                
		                p_request.open("POST","/journal_addpost.php?doajax=1",true);
		
		                p_request.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
		                p_request.onreadystatechange=p_do_PostEvent_callback;
		                p_reqTimeout=setTimeout("p_stop_query()",30000);
		                try
		                {
		                    p_request.send(postrequest);
		                }
		                catch (e)
		                {
		                    eval("document.BlQuickpost.submit();");
		                    // if (confirm('Отправка сообщений при помощи AJAX временно не работает. Отправить сообщение с перезагрузкой страницы?')) eval("document.BlQuickpost.submit();");
		                }
		
		                p_DisableControls(true);
				    }
				});
                
            }
            else
            {
                // alert("К сожалению Ваш браузер не поддерживает AJAX.");
                eval("document.BlQuickpost.submit();");
            }
        }
</script>



	<script type="text/javascript" src="http://i.li.ru/4Ek/JS/diary/trans.js"></script>
	<script type="text/javascript" src="/spell/spell.js"></script>
	<script type="text/javascript">
		var speller = new Speller({ url:"/spell", lang:"ru", options:Speller.IGNORE_URLS });
		function spellCheck() 
		{
			var form = document.forms["vbform"];
			speller.check([ form.message ]);
		}
	</script>


   <form style="display:none;" class="CONBL" id="BlQuickpost" action="/journal_post.php?journalid=4304502" method="post" name="vbform" id="vbform">

           <h1 class="ZAG"><a href="/journal_post.php?journalid=4304502" onclick="$('BlQuickpost').submit();return false;">Перейти к полной форме</a><b>Быстрая запись</b></h1>
           <span id='p_info_block'></span>
           <p class="BlQuickpostInp">
                <input name="headerofpost" id="BlQuickpostHeaderOfPost" type="text" value="Заголовок" onfocus="if (this.value=='Заголовок'){this.value=''};" onblur="if(this.value==''){this.value='Заголовок'};"/>
        </p>
        <p class="BlQuickpostInp">
                <textarea name="message" id="BlQuickpostMessage"></textarea>
        </p>
        <p class="BlQuickpostInp">
              <input name="tags" id="BlQuickpostTags" type="text" value="Метки" onfocus="if (this.value=='Метки'){this.value=''};" onblur="if(this.value==''){this.value='Метки'};"/>
        </p>
<div id="BlQuickpostSpellResults"></div>
        <p class="BlQuickpostSubm">
        	<span><a href="javascript:with (document.getElementById('BlQuickpostHeaderOfPost')) {value=translit2win(value);}  with(document.getElementById('BlQuickpostMessage')) { value=translit2win(value); focus(); }">Транслит</a> &nbsp; <a href="javascript:spellCheck();">Проверить орфографию</a></span>
			<input type="submit" value="Отправить" id="BlQuickpostSubmit" onclick="p_do_PostEvent();return false;" />
        </p>
   <input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<!--    <div class="DESC">
                <h1><a href="//www.liveinternet.ru/">Дневники LiveInternet.Ru</a></h1>
                <h2><a href="//www.liveinternet.ru/users/rss_rss_hh_new/" title="Дневник пользователя rss_rss_hh_new">rss_rss_hh_new - &laquo;Habrahabr/New&raquo;</a></h2>(http://www.liveinternet.ru/users/rss_rss_hh_new/)<br/>
        </div>-->
  <div class="EPIG GL_MAR10B">
	
	<br/><br><br/>Добавить любой RSS - источник (включая журнал LiveJournal) в свою ленту друзей вы можете на <a href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.liveinternet.ru/synd.php">странице синдикации</a>.<br/><br/><font size=-2>Исходная информация - <a href=//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://habrahabr.ru/rss/new/>http://habrahabr.ru/rss/new/</a>.<br> Данный дневник сформирован из открытого RSS-источника по адресу <a href=//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://feeds.feedburner.com/xtmb/hh-new-full>http://feeds.feedburner.com/xtmb/hh-new-full</a>, и дополняется в соответствии с дополнением данного источника. Он может не соответствовать содержимому оригинальной страницы. Трансляция создана автоматически по запросу читателей этой RSS ленты.<br> По всем вопросам о работе данного сервиса обращаться со <a href=//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.liveinternet.ru/contacts.html>страницы контактной информации</a>.</font><hr><a href='/rss_load_one.php?auth=1&rssid=4304502'>[Обновить трансляцию]</a>
</div>

  <div id="BlQuickpostArea"></div><br/>
  <div id="liru_sccount-list"><div class="CONBL blo-fastcom_base" id="post408684931" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684931&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684931" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684931" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684931" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684931" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684931"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684931"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684931">
			<IDXSKIP><li>
				<b></b>
				<span>Запись понравилась</span>
			</li></IDXSKIP>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684931">0</a></b>
				<span>Процитировали</span>
			</li>
			<IDXSKIP><li>
				<b>0</b>
				<span>Сохранили</span></IDXSKIP>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684931">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684931">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684931&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684931&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684931" id="blLi_ppan-like_408684931">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684931&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684931" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684931').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684931" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684931">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684931" id="updateForm408684931" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684931/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" class="TTL"><b>[Из песочницы] Создаём нейронную сеть InceptionV3 для распознавания изображений</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 17:15 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684931/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684931&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684931links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/b60/891/4ad/b608914ad4c4421c9734fb6e685c4aa4.png" /><br />
<br />
Привет, Хабр! Под катом пойдёт речь о реализации свёрточной нейронной сети архитектуры InceptionV3 с использованием фреймворка <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://keras.io/">Keras</a>. Статью я решил написать после ознакомления с туториалом "<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://blog.keras.io/building-powerful-image-classification-models-using-very-little-data.html">Построение мощных моделей классификации с использованием небольшого количества данных</a>". С одобрения автора туториала я немного изменил содержание своей статьи. В отличие от предложенной автором нейронной сети <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.robots.ox.ac.uk/~vgg/practicals/cnn/">VGG16</a>, мы будем обучать гугловскую глубокую нейронную сеть <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/302242/">Inception V3</a>, которая уже предустановлена в Keras.<br />
<br />
Вы научитесь:<br />
<br />
<ol>
<li>Импортировать нейронную сеть Inception V3 из библиотеки Keras;</li>
<li>Настраивать сеть: загружать веса, изменять верхнюю часть модели (<abbr title="Полносвязные слои">fc-layers</abbr>), таким образом, приспосабливая модель под бинарную классификацию;</li>
<li>Проводить тонкую настройку нижнего свёрточного слоя нейронной сети;</li>
<li>Применять аугментацию данных при помощи ImageDataGenerator;</li>
<li>Обучать сеть по частям для экономии ресурсов и времени;</li>
<li>Оценивать работу модели.</li>
</ol><br />
При написании статьи я ставил перед собой задачу представить максимально практичный материал, который раскроет некоторые интересные возможности фреймворка Keras.<br />
 <a target="_blank" name="habracut"></a><br />
В последнее время всё чаще появляются туториалы, посвящённые созданию и применению нейронных сетей. С большим удовольствием наблюдаю за интересной тенденцией: новые посты становятся всё более и более понятными для неспециалистов в области программирования. <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/317712/">Некоторые авторы</a> и вовсе делают попытки введения читателей в эту тему, применяя максимально естественный язык. Есть также отличные статьи (напр. <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/company/yandex/blog/307260/">1</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/271563/">2</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/309508/">3</a>), которые сочетают разумное количество теории и практики, что позволяет как можно быстрее понять необходимый минимум и начать создавать что-то своё.<br />
 <br />
Итак, за дело!<br />
<br />
<div><b>Перво-наперво, немного про библиотеки:</b><div>Рекомендую установить платформу <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.continuum.io/downloads">Anaconda</a>. Я использовал Python 2.7. Для работы удобно использовать <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://jupyter.org/">Jupyter notebook</a>. Он уже предустановлен на Anaconda. Нам также понадобится установить фреймворк <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://keras.io/#installation">Keras</a>. В качестве бэкенда я использовал <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://deeplearning.net/software/theano/">Theano</a>. Вы можете использовать и <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.tensorflow.org/">Tensorflow</a>, потому что Keras поддерживает их оба. Установка CUDA для Theano на Windows описана <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://lepisma.github.io/articles/2015/07/30/up-with-theano-and-cuda/">здесь</a>.</div></div><br />
<h2>1. Данные:</h2><br />
В нашем примере мы будем использовать изображения с соревнования по машинному обучению под названием "<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.kaggle.com/c/dogs-vs-cats">Dogs vs Cats</a>" на <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.kaggle.com/">kaggle.com</a>. Данные будут доступны после регистрации. Набор включает в себя 25000 изображений: 12500 кошек и 12500 собак. Класс 1 соответствует собакам, класс 0- кошкам. После загрузки архивов, разместите <b>по 1000 изображений каждого класса</b> в директориях следующим образом:<br />
 <br />
<pre><code>data/
    train/
        dogs/
            dog001.jpg
            dog002.jpg
            ...
        cats/
            cat001.jpg
            cat002.jpg
            ...
    validation/
        dogs/
            dog001.jpg
            dog002.jpg
            ...
        cats/
            cat001.jpg
            cat002.jpg
            ...
</code></pre><br />
<i>Вам ничего не мешает пользоваться всем набором данных. Я, также как и автор оригинальной статьи, решил использовать ограниченную выборку, чтобы проверить эффективность работы сети с малым набором изображений.</i><br />
 <br />
<h4>У нас есть три проблемы:</h4><br />
<ol>
<li>Ограниченный объём данных;</li>
<li>Ограниченные системные ресурсы (у меня, к примеру, Intel Core i5-4440 3.10GHz, 8 Гб оперативной памяти, NVIDIA GeForce GTX 745);</li>
<li>Ограниченное время: мы хотим обучать модель меньше суток.</li>
</ol><br />
<h4>При ограниченном объёме изображения высока вероятность <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://ru.wikipedia.org/wiki/%D0%9F%D0%B5%D1%80%D0%B5%D0%BE%D0%B1%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5">переобучения</a>. Для борьбы с этим нужно:</h4><br />
<ol>
<li>Установить большой Dropout. В нашем случае он будет 0.5;</li>
<li>Будем использовать аугментацию данных. Этот приём позволит нам увеличить количество изображений путём различных трансформаций (в нашем случае будут изменения масштаба, сдвиги, горизонтальное отражение).</li>
<li>Для нашего эксперимента мы возьмём глубокую сеть.</li>
</ol><br />
Последний пункт должен нас настораживать, потому что глубокая нейронная сеть требовательна к ресурсам. Я на своей видеокарте не смог обучить даже VGG16, не говоря уж о таком гигантище, как Inception. Тем не менее, решение есть:<br />
<br />
<ol>
<li>Изначально мы используем модель, обученную на большом количестве изображений из базы <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.image-net.org/">imagenet</a>. Благо, что набор изображений включал кошек и собак;</li>
<li>Будем обучать модель по частям: </li>
<li>Сначала прогоним аугментированные изображения через нижнюю часть сети (только через Inception) и сохраним их в виде numpy массивов;</li>
<li>Обучим с помощью полученных numpy массивов верхний полносвязный слой;</li>
<li>Затем, мы объединим верхний и нижний слои модели и проведём тонкую настройку новой модели, но при этом мы заблокируем от обучения у Inception все слои, кроме последнего.</li>
</ol><br />
Единственным решением проблемы со временем я пока что вижу применение параллельных вычислений. Вам для этого нужна видеокарта с поддержкой <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://ru.wikipedia.org/wiki/CUDA">CUDA</a>. <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://lepisma.github.io/articles/2015/07/30/up-with-theano-and-cuda/">Я надеюсь, что установка CUDA для Python не вызовет у вас сильных затруднений</a>.<br />
<br />
Импортируем библиотеки:<br />
<br />
<pre><code>from keras.preprocessing.image import ImageDataGenerator
from keras.models import Sequential, Model
from keras.applications.inception_v3 import InceptionV3
from keras.callbacks import ModelCheckpoint
from keras.optimizers import SGD

from keras import backend as K
K.set_image_dim_ordering('th')

import numpy as np
import pandas as pd
import h5py

import matplotlib.pyplot as plt</code></pre><br />
<h1>2. Создадим модель InceptionV3, загрузим в неё изображения, сохраним их:</h1><br />
<div><b>Большая картинка со схемой наших действий</b><div><img src="https://habrastorage.org/files/ae6/99c/205/ae699c205522458ebf56b38a447ff203.png" /><br />
</div></div><br />
В <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://keras.io/applications/">библиотеке Keras</a> находится несколько подготовленных нейронных сетей.<br />
<br />
<div><b>Список аргументов модели</b><div><i>include_top:</i> включать или не включать верхнюю часть сети, которая представляет из полносвязный слой с 1000 выходов. <br />
Нам он без надобности, поэтому ставим: include_top=False;<br />
 <br />
<i>weights</i>: загружать/не загружать обученные веса. Если None, веса инициализируются случайно. Если «imagenet», будут загружены веса, тренированные на данных <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.image-net.org/">ImageNet</a>.<br />
В нашей модели веса нужны, поэтому weights=«imagenet»;<br />
 <br />
<i>input_tensor</i>: данный аргумент удобен, если мы используем слой Input для нашей модели.<br />
Мы его не будем трогать.<br />
 <br />
<i>input_shape </i>: в этом аргументе мы задаём размер нашего изображения. Его указывают, если отсоединяется верхний слой (include_top=False). Если мы загрузили модель с верхним слоем, сто размер изображения должен быть только (3, 299, 299). <br />
Мы убрали верхний слой и хотим анализировать изображения меньшего размера (3, 150, 150). Поэтому кажем: input_shape=()</div></div><br />
<h4>Создаём нашу модель:</h4><br />
<pre><code>inc_model=InceptionV3(include_top=False, 
                      weights='imagenet', 
                      input_shape=((3, 150, 150)))</code></pre><br />
Теперь сделаем аугментацию данных. Для этого в Keras предусмотрены так называемые ImageDataGenerator. Они будут брать изображения прямо из папок и проводить над ними все необходимые трансформации.<br />
<br />
Картинки каждого класса должны быть в отдельных папках. Для того, чтобы нам не загружать оперативную память изображениями, мы их трансформируем прямо перед загрузкой в сеть. Для этого используем метод .flow_from_directory. Создадим отдельные генераторы для тренировочных и тестовых изображений:<br />
<br />
<pre><code>bottleneck_datagen = ImageDataGenerator(rescale=1./255)  #собственно, генератор
    
train_generator = bottleneck_datagen.flow_from_directory('data/img_train/',
                                        target_size=(150, 150),
                                        batch_size=32,
                                        class_mode=None,
                                        shuffle=False)

validation_generator = bottleneck_datagen.flow_from_directory('data/img_val/',
                                                               target_size=(150, 150),
                                                               batch_size=32,
                                                               class_mode=None,
                                                               shuffle=False)</code></pre><br />
Хочу выделить важный момент. Мы указали <i>shuffle=False</i>. То есть, изображения из разных классов не будут перемешиваться. Сначала будут поступать изображения из первой папки, а когда они все закончатся, из второй. Зачем это нужно, увидите позже.<br />
<br />
Прогоним аугментированные изображения через обученную Inception и сохраним вывод в виде numpy массивов:<br />
<br />
<pre><code>bottleneck_features_train = inc_model.predict_generator(train_generator, 2000)
np.save(open('bottleneck_features/bn_features_train.npy', 'wb'), bottleneck_features_train)

bottleneck_features_validation = inc_model.predict_generator(validation_generator, 2000)
np.save(open('bottleneck_features/bn_features_validation.npy', 'wb'), bottleneck_features_validation)</code></pre><br />
Процесс займёт некоторое время.<br />
<br />
<h2>3. Создадим верхнюю часть модели, загрузим в неё данные, сохраним их:</h2><br />
<div><b>Схема</b><div><img src="https://habrastorage.org/files/b15/4ff/ad8/b154ffad830641cc9244028940a42369.png" /><br />
</div></div><br />
В оригинальном посте автор использовал один слой сети с 256 нейронами, однако я буду использовать два слоя по 64 нейрона в каждом и Dropout слой со значением 0.5. Это изменение я был вынужден внести из-за того, когда я обучал готовую модель (которую мы сделаем в следующем шаге), мой компьютер зависал и перезагружался.<br />
<br />
<h4>Загрузим массивы:</h4><br />
<pre><code>train_data = np.load(open('bottleneck_features_and_weights/bn_features_train.npy', 'rb'))
train_labels = np.array([0] * 1000 + [1] * 1000) 

validation_data = np.load(open('bottleneck_features_and_weights/bn_features_validation.npy', 'rb'))
validation_labels = np.array([0] * 1000 + [1] * 1000)</code></pre><br />
Обратите внимание, ранее мы указывали <i>shuffle=False</i>. А теперь мы легко укажем <i>labels</i>. Поскольку в каждом классе у нас 2000 изображений и все изображения поступали по очереди, у нас будет по 1000 нулей и 1000 единиц для тренировочной и для тестовой выборок.<br />
<br />
<h4>Создадим модель FFN сети, скомпилируем её:</h4><br />
<pre><code>fc_model = Sequential()
fc_model.add(Flatten(input_shape=train_data.shape[1:]))
fc_model.add(Dense(64, activation='relu', name='dense_one'))
fc_model.add(Dropout(0.5, name='dropout_one'))
fc_model.add(Dense(64, activation='relu', name='dense_two'))
fc_model.add(Dropout(0.5, name='dropout_two'))
fc_model.add(Dense(1, activation='sigmoid', name='output'))

fc_model.compile(optimizer='rmsprop', 
              loss='binary_crossentropy', 
              metrics=['accuracy'])</code></pre><br />
<h4>Загрузим в неё наши массивы:</h4><br />
<pre><code>fc_model.fit(train_data, train_labels,
            nb_epoch=50, batch_size=32,
            validation_data=(validation_data, validation_labels))

fc_model.save_weights('bottleneck_features_and_weights/fc_inception_cats_dogs_250.hdf5') # сохраняем веса</code></pre><br />
Теперь мы загружаем данные не из папок, поэтому используем обычный метод <i>fit</i>.<br />
<br />
<div><b>Процесс обучения будет неприлично быстрым. У меня каждая эпоха заняла 1 сек:</b><div><pre><code>Train on 2000 samples, validate on 2000 samples
Epoch 1/50
2000/2000 [==============================] - 1s - loss: 2.4588 - acc: 0.8025 - val_loss: 0.7950 - val_acc: 0.9375
Epoch 2/50
2000/2000 [==============================] - 1s - loss: 1.3332 - acc: 0.8870 - val_loss: 0.9330 - val_acc: 0.9160


…
Epoch 48/50
2000/2000 [==============================] - 1s - loss: 0.1096 - acc: 0.9880 - val_loss: 0.5496 - val_acc: 0.9595
Epoch 49/50
2000/2000 [==============================] - 1s - loss: 0.1100 - acc: 0.9875 - val_loss: 0.5600 - val_acc: 0.9560
Epoch 50/50
2000/2000 [==============================] - 1s - loss: 0.0850 - acc: 0.9895 - val_loss: 0.5674 - val_acc: 0.9565</code></pre><br />
</div></div><br />
Оценим точность модели:<br />
<br />
<pre><code>fc_model.evaluate(validation_data, validation_labels)</code></pre><br />
[0.56735104312408047, 0.95650000000000002]<br />
<br />
Наша модель удовлетворительно справляется со своей задачей. Но принимает она только numpy массивы. Это нас не устраивает. Для того, чтобы получить полноценную модель, которая принимает на вход изображения, мы соединим две наши модели и обучим их ещё раз.<br />
<br />
<h2>4. Создадим итоговую модель, загрузим в неё аугментированные данные, сохраним веса:</h2><br />
<div><b>Схема</b><div><img src="https://habrastorage.org/files/fe7/e33/312/fe7e333120db4e6b904960ca7288d82f.png" /><br />
</div></div><br />
<pre><code>weights_filename='bottleneck_features_and_weights/fc_inception_cats_dogs_250.hdf5'

x = Flatten()(inc_model.output)
x = Dense(64, activation='relu', name='dense_one')(x)
x = Dropout(0.5, name='dropout_one')(x)
x = Dense(64, activation='relu', name='dense_two')(x)
x = Dropout(0.5, name='dropout_two')(x)
top_model=Dense(1, activation='sigmoid', name='output')(x)</code></pre><br />
Загрузим в неё веса:<br />
<br />
<pre><code>weights_filename='bottleneck_features_and_weights/fc_inception_cats_dogs_250.hdf5'
model.load_weights(weights_filename, by_name=True)</code></pre><br />
<i>Скажу честно, я не заметил никакой разницы между эффективностью обучения модели с загрузкой весов или без неё. Но оставил этот раздел, потому что он описывает, как загрузить веса в определённые слои по имени (by_name=True).</i><br />
<br />
<h4>Заблокируем с 1 по 205 слои Inception:</h4><br />
<pre><code>for layer in inc_model.layers[:205]:
    layer.trainable = False</code></pre><br />
<h4>Скомпилируем модель:</h4><br />
<pre><code>model.compile(loss='binary_crossentropy',
              optimizer=SGD(lr=1e-4, momentum=0.9),
                #optimizer='rmsprop',
              metrics=['accuracy'])</code></pre><br />
Обратите внимание, когда мы в первый раз обучали полносвязные слои из .npy массивов, мы использовали оптимизатор <abbr title="Root Mean Square Propagation">RMSprop</abbr>. Теперь, для тонкой настройки модели мы используем Стохастический градиентный спуск. Сделано это для того, чтобы предотвратить слишком выраженные обновления уже обученных весов.<br />
<br />
Сделаем так, чтобы в процессе обучения сохранялись только веса с наибольшей точностью на тестовой выборке:<br />
<br />
<pre><code><source lang="python">filepath="new_model_weights/weights-improvement-{epoch:02d}-{val_acc:.2f}.hdf5"
checkpoint = ModelCheckpoint(filepath, monitor='val_acc', verbose=1, save_best_only=True, mode='max')
callbacks_list = [checkpoint]</source></code></pre><br />
Создадим новые генераторы изображений для обучения полной модели. Мы будем трансформировать только учебную выборку. Тестовую трогать не будем.<br />
<br />
<pre><code>train_datagen = ImageDataGenerator(
        rescale=1./255,
        shear_range=0.2,
        zoom_range=0.2,
        horizontal_flip=True)

test_datagen = ImageDataGenerator(rescale=1./255)

train_generator = train_datagen.flow_from_directory(
        'data/img_train/',
        target_size=(150, 150),
        batch_size=32,
        class_mode='binary')

validation_generator = test_datagen.flow_from_directory(
        'data/img_val/',
        target_size=(150, 150),
        batch_size=32,
        class_mode='binary')


pred_generator=test_datagen.flow_from_directory('data/img_val/',
                                                     target_size=(150,150),
                                                     batch_size=100,
                                                     class_mode='binary')</code></pre><br />
<i>pred_generator</i> мы используем позже для демонстрации работы модели.<br />
<br />
<h4>Загрузим изображения в модель:</h4><br />
<pre><code>model.fit_generator(
        train_generator,
        samples_per_epoch=2000,
        nb_epoch=200,
        validation_data=validation_generator,
        nb_val_samples=2000,
    callbacks=callbacks_list)</code></pre><br />
<div><b>Слышим шум кулера и ждём…</b><div><pre><code>Epoch 1/200
1984/2000 [============================>.] - ETA: 0s - loss: 1.0814 - acc: 0.5640Epoch 00000: val_acc improved from -inf to 0.71750, saving model to new_model_weights/weights-improvement-00-0.72.hdf5
2000/2000 [==============================] - 224s - loss: 1.0814 - acc: 0.5640 - val_loss: 0.6016 - val_acc: 0.7175
Epoch 2/200
1984/2000 [============================>.] - ETA: 0s - loss: 0.8523 - acc: 0.6240Epoch 00001: val_acc improved from 0.71750 to 0.77200, saving model to new_model_weights/weights-improvement-01-0.77.hdf5
2000/2000 [==============================] - 215s - loss: 0.8511 - acc: 0.6240 - val_loss: 0.5403 - val_acc: 0.7720


… 

Epoch 199/200
1968/2000 [============================>.] - ETA: 1s - loss: 0.1439 - acc: 0.9385Epoch 00008: val_acc improved from 0.90650 to 0.91500, saving model to new_model_weights/weights-improvement-08-0.92.hdf5
2000/2000 [==============================] - 207s - loss: 0.1438 - acc: 0.9385 - val_loss: 0.2786 - val_acc: 0.9150
Epoch 200/200
1968/2000 [============================>.] - ETA: 1s - loss: 0.1444 - acc: 0.9350Epoch 00009: val_acc did not improve
2000/2000 [==============================] - 206s - loss: 0.1438 - acc: 0.9355 - val_loss: 0.3898 - val_acc: 0.8940</code></pre><br />
</div></div><br />
У меня на каждую эпоху уходило по 210-220 секунд. 200 эпох обучения заняли около 12 часов.<br />
<br />
<h2>5. Оценим точность модели</h2><br />
<pre><code>model.evaluate_generator(pred_generator, val_samples=100)</code></pre><br />
[0.2364250123500824, 0.9100000262260437]<br />
<br />
Вот нам и пригодился <i>pred_generator</i>. Обратите внимание, <i>val_samples</i> должны соответствовать величине <i>batch_size</i> в генераторе!<br />
<br />
Точность 91,7%. Учитывая ограниченность выборки, возьму на себя смелость сказать, что это неплохая точность. <br />
<br />
<h4>Проиллюстрируем работу модели</h4><br />
Просто смотреть на % правильных ответов и величину ошибки нам не интересно. Давайте посмотрим, сколько правильных и неправильных ответов дала модель для каждого класса:<br />
<br />
<pre><code>imgs,labels=pred_generator.next()
array_imgs=np.transpose(np.asarray([img_to_array(img) for img in imgs]),(0,2,1,3))
predictions=model.predict(imgs)
rounded_pred=np.asarray([round(i) for i in predictions])</code></pre><br />
<i>pred_generator.next()</i> удобная штука. Она загружает изображения в переменную и присваивает лейблы.<br />
<br />
Количество изображений каждого класса будет различным при каждой генерации:<br />
<br />
<pre><code>pd.value_counts(labels)
0.0    51
1.0    49
dtype: int64</code></pre><br />
Сколько изображений каждого класса модель предсказала правильно?<br />
<br />
pd.crosstab(labels,rounded_pred)<br />
<table>
<tr>
<th>Col_0</th>
<th>0.0</th>
<th>1.0</th>
</tr>
<tr>
<td>Row_0</td>
<td> </td>
<td> </td>
</tr>
<tr>
<td><b>0.0</b></td>
<td>47</td>
<td>4</td>
</tr>
<tr>
<td><b>1.0</b></td>
<td>8</td>
<td>41</td>
</tr>
</table><br />
Для модели было загружено 100 случайных изображений: 51 изображение кошек и 49 собак. Из 51 кошки модель правильно распознала 47. Из 50 собак правильно были распознаны 41. Общая точность модели на этой узкой выборке составила 88%.<br />
<br />
<h4>Посмотрим, какие фотографии были распознаны неправильно:</h4><br />
<pre><code>wrong=[im for im in zip(array_imgs, rounded_pred, labels, predictions) if im[1]!=im[2]]

plt.figure(figsize=(12,12))
for ind, val in enumerate(wrong[:100]):
    plt.subplots_adjust(left=0, right=1, bottom=0, top=1, wspace = 0.2, hspace = 0.2)
    plt.subplot(5,5,ind+1)
    im=val[0]
    plt.axis('off')
    plt.text(120, 0, round(val[3], 2), fontsize=11, color='red')
    plt.text(0, 0, val[2], fontsize=11, color='blue')
    plt.imshow(np.transpose(im,(2,1,0)))</code></pre><br />
<img src="https://habrastorage.org/files/f41/452/916/f4145291607d4d5daafddc68e211bcda.png" /><br />
Синие числа-истинный класс изображений. Красные числа- предсказанные моделью (если красное число меньше 0.5, модель считает, что на фото кот, если больше 0.5, то собака). Чем больше число приближается к нулю, тем сеть больше уверена, что перед ней кот. Интересно, что много ошибок с изображениями собак содержат породы небольшого размера или щенков. <br />
<br />
<h4>Посмотрим первые 20 изображений, которые модель предсказала правильно:</h4><br />
<pre><code>right=[im for im in zip(array_imgs, rounded_pred, labels, predictions) if im[1]==im[2]]

plt.figure(figsize=(12,12))
for ind, val in enumerate(right[:20]):
    plt.subplots_adjust(left=0, right=1, bottom=0, top=1, wspace = 0.2, hspace = 0.2)
    plt.subplot(5,5,ind+1)
    im=val[0]
    plt.axis('off')
    plt.text(120, 0, round(val[3], 2), fontsize=11, color='red')
    plt.text(0, 0, val[2], fontsize=11, color='blue')
    plt.imshow(np.transpose(im,(2,1,0)))</code></pre><br />
<img src="https://habrastorage.org/files/347/02c/344/34702c3443154ca3a2bb1e42b7f385dd.png" /><br />
Видно, что модель прилично справляется с задачей распознавания изображений на сравнительно небольших выборках.<br />
<br />
Я надеюсь, что пост был вам полезен. С удовольствием выслушаю ваши вопросы или пожелания.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321834/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321834/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321834/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/s0OlWNwjTTY" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321834/' target=_blank>https://habrahabr.ru/post/321834/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <IDXSKIP><b>Метки:</b></IDXSKIP>  <span title="Поиск по метке google" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','google',
      '1187','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','google');">
   <a rel="tag" href="//www.liveinternet.ru/tags/google/">google</a>
 </span>  <span title="Поиск по метке cnn" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','cnn',
      '5116','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','cnn');">
   <a rel="tag" href="//www.liveinternet.ru/tags/cnn/">cnn</a>
 </span>  <span title="Поиск по метке python" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','python',
      '12049','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','python');">
   <a rel="tag" href="//www.liveinternet.ru/tags/python/">python</a>
 </span>  <span title="Поиск по метке нейронные сети" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','нейронные сети',
      '24398','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%ED%E5%E9%F0%EE%ED%ED%FB%E5+%F1%E5%F2%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%ED%E5%E9%F0%EE%ED%ED%FB%E5+%F1%E5%F2%E8/">нейронные сети</a>
 </span>  <span title="Поиск по метке алгоритмы" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','алгоритмы',
      '252536','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E0%EB%E3%EE%F0%E8%F2%EC%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E0%EB%E3%EE%F0%E8%F2%EC%FB/">алгоритмы</a>
 </span>  <span title="Поиск по метке нейросети" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','нейросети',
      '376619','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%ED%E5%E9%F0%EE%F1%E5%F2%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%ED%E5%E9%F0%EE%F1%E5%F2%E8/">нейросети</a>
 </span>  <span title="Поиск по метке технологии будущего" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','технологии будущего',
      '404174','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8+%E1%F3%E4%F3%F9%E5%E3%EE');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8+%E1%F3%E4%F3%F9%E5%E3%EE/">технологии будущего</a>
 </span>  <span title="Поиск по метке обработка изображений" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','обработка изображений',
      '430820','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EE%E1%F0%E0%E1%EE%F2%EA%E0+%E8%E7%EE%E1%F0%E0%E6%E5%ED%E8%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EE%E1%F0%E0%E1%EE%F2%EA%E0+%E8%E7%EE%E1%F0%E0%E6%E5%ED%E8%E9/">обработка изображений</a>
 </span>  <span title="Поиск по метке машинное обучение" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','машинное обучение',
      '6672117','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%E0%F8%E8%ED%ED%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%E0%F8%E8%ED%ED%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5/">машинное обучение</a>
 </span>  <span title="Поиск по метке deep learning" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','deep learning',
      '15845749','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','deep+learning');">
   <a rel="tag" href="//www.liveinternet.ru/tags/deep+learning/">deep learning</a>
 </span>  <span title="Поиск по метке глубокое обучение" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','глубокое обучение',
      '15845750','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E3%EB%F3%E1%EE%EA%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E3%EB%F3%E1%EE%EA%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5/">глубокое обучение</a>
 </span>  <span title="Поиск по метке transfer learning" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','transfer learning',
      '18734482','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','transfer+learning');">
   <a rel="tag" href="//www.liveinternet.ru/tags/transfer+learning/">transfer learning</a>
 </span>  <span title="Поиск по метке image classification" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','image classification',
      '20046384','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','image+classification');">
   <a rel="tag" href="//www.liveinternet.ru/tags/image+classification/">image classification</a>
 </span>  <span title="Поиск по метке глубокие сверточные нейронные сети" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','глубокие сверточные нейронные сети',
      '20660939','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E3%EB%F3%E1%EE%EA%E8%E5+%F1%E2%E5%F0%F2%EE%F7%ED%FB%E5+%ED%E5%E9%F0%EE%ED%ED%FB%E5+%F1%E5%F2%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E3%EB%F3%E1%EE%EA%E8%E5+%F1%E2%E5%F0%F2%EE%F7%ED%FB%E5+%ED%E5%E9%F0%EE%ED%ED%FB%E5+%F1%E5%F2%E8/">глубокие сверточные нейронные сети</a>
 </span>  <span title="Поиск по метке author bredd_owen" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684931','author bredd_owen',
      '21149259','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+bredd_owen');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+bredd_owen/">author bredd_owen</a>
 </span> 
<span id="DI_TAG_408684931">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684931"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684931+"=0;");
document.getElementById('post408684931').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684931);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684931;r="+Math.random();
        eval("serg_post"+408684931+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684930" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684930&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684930" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684930" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684930" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684930" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684930"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684930"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684930">
			<IDXSKIP><li>
				<b></b>
				<span>Запись понравилась</span>
			</li></IDXSKIP>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684930">0</a></b>
				<span>Процитировали</span>
			</li>
			<IDXSKIP><li>
				<b>0</b>
				<span>Сохранили</span></IDXSKIP>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684930">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684930">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684930&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684930&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684930" id="blLi_ppan-like_408684930">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684930&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684930" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684930').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684930" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684930">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684930" id="updateForm408684930" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684930/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" class="TTL"><b>Рефакторинг платежного процесса Я.Денег — пробуждение силы</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 17:11 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684930/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684930&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684930links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <p><img src="https://habrastorage.org/files/a32/bd2/d70/a32bd2d705ce4e9c914eb060191ae8b4.jpg" alt="image alt text" /></p><br />
<p>Для любого проекта с длинной историей однажды наступает момент, когда код начинает жить своей жизнью — просто не остается тех, кто хорошо ориентируется в логике и связях. Добавление новых функций порой похоже на выстрел наугад: может попасть в цель, а может — в зрителей.</p><br />
<p>И тогда приходит он, рефакторинг платежного процесса. Но мы решили сделать процесс еще интереснее, добавив к рефакторингу идеи <strong>IDEF-0</strong>.<a target="_blank" name="habracut"></a></p><br />
<h1 id="eto-vse-vremenno-potom-pomenyaem">Это все временно, потом поменяем</h1><br />
<p>Платежный процесс Яндекс.Денег развивался с 2002 года, и его фронтенд за эти годы оброс результатами труда многих поколений разработчиков. Оброс до того, что даже изменение алгоритма проверки баланса пользователя перед отправкой перевода превращалось в путешествие по поляне с капканами, — путешествие, незаметное пользователю, но увлекательное под капотом. В статье коснемся именно серверной части фронтенда.</p><br />
<p>Помимо трудностей с поддержкой, было сложно вводить в курс дела новых разработчиков, а это большой минус для компании, где инженеры регулярно мигрируют между проектами. Поэтому было решено провести глубокий рефакторинг кода. С учетом объемов работы это означало написать процесс заново.</p><br />
<p>Если начинать с нуля, то делать основательно, с использованием признанных методологий — теории конечных автоматов и IDEF-0. Принципы описания бизнес-процессов по этому стандарту знакомы с университетской скамьи как инженерам, так и управленцам — в этом они должны были найти общий язык. Заодно сбудется голубая мечта технаря об автоматическом построении диаграмм процесса, которые так любит руководство. Например, такая схема отображается на одном из дисплеев со статистикой, которые в изобилии развешаны в офисе Яндекс.Денег.</p><br />
<h1 id="malo-prosto-prichesat-kod--nuzhno-sdelat-eto-s-umom">Мало просто причесать код — нужно сделать это с умом</h1><br />
<p>При переводе всего старого кода на новые рельсы появился набор модулей <strong>Node.js</strong>, в которых описаны все базовые методы-процессы. Причем описаны не просто набором процедур, а в соответствии с идеями IDEF-0: есть функциональные блоки, входные и выходные данные, связи процессов.</p><br />
<p>Вообще, в IDEF-0 описано много всего, что при разработке можно упростить, поэтому кальку со стандарта мы не делали и просто заимствовали идею и все релевантные принципы.</p><br />
<h2 id="funkcionalnye-bloki">Функциональные блоки</h2><br />
<p>В IDEF-0 функциональный блок — это просто отдельная функция системы, которую графически изображают в виде прямоугольника. В платежном процессе Яндекс.Денег функциональные блоки содержат частички бизнес-логики того или иного процесса.</p><br />
<p><img src="https://habrastorage.org/files/56d/cc6/74f/56dcc674faa345dcb0fb23b04c7ff88c.jpg" alt="image alt text" /></p><br />
<p>У каждой из четырех сторон функционального блока своя роль:</p><br />
<ol>
<li><p>Верхняя сторона отвечает за управление;</p><br />
</li>
<li><p>Левая — входные данные (для кого операция, сколько перевести и прочее);</p><br />
</li>
<li><p>Правая сторона выводит результат;</p><br />
</li>
<li>Нижняя — это "Механизм", который обозначает используемые в процессе ресурсы.</li>
</ol><br />
<p>В платежном фронтенде Яндекс.Денег используются только две стороны функционального блока — <strong>вход </strong>и <strong>выход: </strong>на вход передается набор данных для выполнения бизнес-логики, у выхода система ожидает результат выполнения этой логики.</p><br />
<p>Вот как это выглядит в коде:</p><br />
<pre><code>/**
 * Функциональный блок для проверки имени пользователя
 * @param {Object} $flow служебный объект, экземпляр текущего процесса, позволяющий управлять переходами от блока к блоку
 * @param {Object} inputData входящие данные
 * @param {Object} inputData.userName имя пользователя
 */
const checkUserName($flow, inputData) {
    if (inputData.userName) {
        // Переходим к следующему функциональному блоку
        const outputData = {
            userName: inputData.userName
            isUserNameValid: true
        };
        $flow.transition('doSomethingElse', outputData);
        return;
    }
    $flow.transition('checkFailed', inputData);
}</code></pre><br />
<p>Функция принимает в качестве аргументов два параметра:</p><br />
<ol>
<li><p>$flow — служебный объект, экземпляр текущего процесса;</p><br />
</li>
<li>inputData — объект со входными данными для функционального блока. Отличие функционального блока от обычной функции заключается в способе передачи управления внешнему коду. Функциональный блок для этого использует отдельный метод transition.</li>
</ol><br />
<p>При разработке функциональных блоков важно помнить о <strong>принципе единой ответственности</strong>, иначе не будет должной гибкости при добавлении новой бизнес-логики. </p><br />
<h2 id="interfeysnye-dugi">Интерфейсные дуги</h2><br />
<p>Интерфейсная дуга — просто стрелка функционального блока, которая ожидаемо обозначает передачу данных или влияние на функциональный блок. </p><br />
<p>В новом платежном процессе роль интерфейсной дуги исполняет функция <strong>Transition </strong>у объекта <strong>$flow</strong>, который является экземпляром отвечающего за предоставление API процесса. </p><br />
<h2 id="dekompoziciya">Декомпозиция</h2><br />
<p>Хорошо всем известный принцип разбиения большого и сложного на много простых и понятных частей. В коде это означает упрощение и унификацию функций. </p><br />
<p>В IDEF-0 декомпозиция выглядит следующим образом:</p><br />
<p><img src="https://habrastorage.org/files/fec/e1d/5eb/fece1d5eb18d4d949972c2fe7b3f3159.jpg" alt="image alt text" /></p><br />
<p>Декомпозиция применялась в платежном процессе повсеместно, но рассмотрим на примере процесса проверки свойств пользователя.</p><br />
<p><img src="https://habrastorage.org/files/889/ee9/cc7/889ee9cc7ea5424183ea5eeb0d42b744.jpg" alt="image alt text" /></p><br />
<p>Проверка свойств пользователя состоит из 5 функциональных блоков и двух выходов из процесса (отмечено синим), которые можно декомпозировать. Например, проверка номера телефона не относится только к пользователю и может пригодиться в других процессах. Если выделить это действие в отдельный процесс, то код станет проще и понятнее:</p><br />
<p><img src="https://habrastorage.org/files/5fa/eaa/0be/5faeaa0bec9540b19cf65962617b066c.jpg" alt="image alt text" /></p><br />
<p>После декомпозиции проверки свойств пользователя часть функциональных блоков перемещается в новый процесс, который проверяет номер телефона. С помощью <strong>BitBucket </strong>разница видна более наглядно — за проверку телефона пользователя отвечают три функциональных блока: </p><br />
<ol>
<li><p><strong>prepareToCheckPhone</strong> —подготовка данных;</p><br />
</li>
<li><p><strong>requestBackendForCheckPhone</strong> — запрос в бекенд;</p><br />
</li>
<li><strong>checkUserPhone </strong>— анализ результатов. </li>
</ol><br />
<p>До переноса вовне все эти блоки перегружали логику проверки свойств пользователя, а теперь процесс стал значительно проще и понятней даже очень молодому разработчику.</p><br />
<div><b>Для любопытных оставлю исходный код под спойлером, чтобы вы могли самостоятельно оценить перегруженность логики.</b><div><pre><code>// check-phone.js
module.exports = new ProcessFlow({
    initialStage: 'prepareInputData',
    finalStages: [
        'phoneValid',
        'phoneInvalid'
    ],

    stages: {
        /**
         * Функциональный блок для подготовки данных к проверке телефона
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        prepareInputData($flow, inputData) {
            /**
             * Формат данных необходимый модулю провеки номера телефона, может отличаться от формата,
             * которым оперирует конечный процесс, по этому данные нужно подготовить.
             * Так же завязываться на структуру данных модуля проверки телефона в конечном процессе не стоит,
             * модуль может поменяться, что может привести к серьезным изменениям всего процесса
             */
            $flow.transition('checkPhone', {
                phone: inputData
            });
        },

        /**
         * Функциональный блок проверки номера телефона
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        checkPhone($flow, inputData) {
            const someBackend = require('some-backend-module');
            someBackend.checkPhone(inputData.phone)
                .then((result) => {
                    $flow.transition('processCheckResult', result);
                })
                .catch((err) => {
                    $flow.transition('phoneInvalid', {
                        err: err
                    });
                });
        },

        /**
         * Функциональный блок анализа результатов проверки
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        processCheckResult($flow, inputData) {
            if (inputData.isPhoneValid) {
                $flow.transition('phoneValid');
                return;
            }
            $flow.transition('phoneInvalid');
        }
    }
});

// check-user.js
const checkPhoneProcess = require('./check-phone');

module.exports = new ProcessFlow({
    // Указываем, какой функциональный блок отвечает за вход в процесс
    initialStage: 'checkUserName',
    // Описываем выходы из процесса
    finalStages: [
        'userCheckedSuccessful',
        'userCheckFailed'
    ],
    stages: {
        /**
         * Функциональный блок для проверки имени пользователя
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        checkUserName($flow, inputData) {
            if (inputData.userName) {
                $flow.transition('checkUserBalance', inputData);
                return;
            }
            $flow.transition('userCheckFailed', {
                reason: 'invalid-user-name'
            });
        },

        /**
         * Функциональный блок для проверки баланса пользователя
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        checkUserBalance($flow, inputData) {
            if (inputData.balance > 0) {
                $flow.transition('checkUserPhone', inputData);
                return;
            }
            $flow.transition('userCheckFailed', {
                reason: 'invalid-user-balance'
            });
        },

        /**
         * Функциональный блок проверки номера телефона
         * @param {Object} $flow служебный объект, экземпляр текущего процесса
         * @param {Object} inputData входящие данные
         */
        checkUserPhone($flow, inputData) {
            const phone = inputData.operatorCode + inputData.number;
            checkPhoneProcess.start(phone, {
                // описываем поведение в точках выхода процесса проверки телефона
                phoneValid() {
                    $flow.transition('userCheckedSuccessful');
                },
                phoneInvalid() {
                    $flow.transition('userCheckFailed', {
                        reason: 'invalid-user-phone'
                    });
                }
            });
        }
    }
});</code></pre></div></div><br />
<p>Каждый процесс платежа Яндекс.Денег является экземпляром класса <strong>ProcessFlow</strong>, который предоставляет API управления процессом. У него есть метод start, который вызывает функциональный блок, описанный в <strong>initialStage</strong>. В качестве аргументов метод start принимает входные данные и обработчики выходов процесса.</p><br />
<h2 id="principy-ogranicheniya-slozhnosti">Принципы ограничения сложности</h2><br />
<p>Процессы обычно содержат в себе сложную бизнес-логику, поэтому в коде приходится ограничивать их сложность в соответствии с рекомендациями IDEF-0:</p><br />
<ul>
<li><p>Не более 6 функциональных блоков на каждом уровне. Это ограничение подталкивает разработчика к использованию иерархии при описании сложной логики; </p><br />
</li>
<li><p>Нижний предел в 3 блока гарантирует, что создание процесса оправданно;</p><br />
</li>
<li>Количество выходящих из одного блока <strong>интерфейсных дуг ограничено</strong>.</li>
</ul><br />
<p>На уже знакомой иллюстрации процесса "как было" видно 7 функциональных блоков, что увеличивает соблазн написать все плоско, не заморачиваясь с иерархией.</p><br />
<p><img src="https://habrastorage.org/files/889/ee9/cc7/889ee9cc7ea5424183ea5eeb0d42b744.jpg" alt="image alt text" /></p><br />
<p>В следующем разделе покажу, как выглядит доработанный процесс после упрощения логики.</p><br />
<h1 id="pashalka-avtomaticheskaya-otrisovka-shem">Пасхалка: автоматическая отрисовка схем</h1><br />
<p>В крупных компаниях бизнес-процессы порой устаревают быстрее, чем их успевают нарисовать аналитики. Увы, мы в этом плане не исключение, поэтому пришлось научиться рисовать быстрее.</p><br />
<p>Благодаря IDEF-0 и строгим правилам описания процессов в коде, мы можем с помощью статического анализа кода построить диаграмму связей как функциональных блоков, так и процессов между собой. Например, подойдет продукт <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://esprima.org/">Esprima</a>. В результате анализа кода этим инструментом формируется объект со всеми функциональными блоками и переходами, а визуализация происходит в браузере с помощью библиотеки <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://gojs.net/latest/index.html">GoJS</a>:</p><br />
<p><img src="https://habrastorage.org/files/e8a/c8d/82c/e8ac8d82c65d444cb50761e4d1aa8121.jpg" alt="image alt text" /></p><br />
<p>На схеме изображены процессы check-user и check-phone с указанием зависимости. Если их развернуть, получится следующее:</p><br />
<p><img src="https://habrastorage.org/files/bd3/58e/705/bd358e7053bb4206aba67aa812e056de.jpg" alt="image alt text" /></p><br />
<p>На схеме отлично видны начальные функциональные блоки, цветом помечены выходы процесса. Например, из этой схемы очевидно, что результат <strong>userCheckFailed </strong>может быть получен не только на этапе проверки номера телефона, но и на моменте проверки имени. Раньше это было до смешного не очевидно.</p><br />
<h1 id="tak-stoila-li-ovchinka-vydelki">Так стоила ли овчинка выделки</h1><br />
<p>Результатом рефакторинга платежного процесса стала целая платформа для описания процессов подготовки данных. Основной плюс от потраченного на рефакторинг времени — это правильный ход мыслей разработчиков, которые теперь придерживаются жестких правил при формировании логики новых процессов. Значит, в будущем рефакторинга будет меньше.</p><br />
<p>Кроме того, в суть процесса теперь может быстро вникнуть любой новичок. Это экономит массу времени на брифингах и позволяет внедрять новые фишки без опасений, что все развалится.</p><br />
<p><strong>Есть и побочный эффект — бизнес-аналитикам больше не приходится рисовать статические диаграммы, поэтому потребление кофе и чая с какао резко возросло.</strong></p>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321824/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321824/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321824/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/LTKQyuRt64A" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321824/' target=_blank>https://habrahabr.ru/post/321824/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author MrKashlakov" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','author MrKashlakov',
      '21149258','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+MrKashlakov');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+MrKashlakov/">author MrKashlakov</a>
 </span>  <span title="Поиск по метке проектирование и рефакторинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','проектирование и рефакторинг',
      '11410129','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%F0%EE%E5%EA%F2%E8%F0%EE%E2%E0%ED%E8%E5+%E8+%F0%E5%F4%E0%EA%F2%EE%F0%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%F0%EE%E5%EA%F2%E8%F0%EE%E2%E0%ED%E8%E5+%E8+%F0%E5%F4%E0%EA%F2%EE%F0%E8%ED%E3/">проектирование и рефакторинг</a>
 </span>  <span title="Поиск по метке программирование" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','программирование',
      '28','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%F0%EE%E3%F0%E0%EC%EC%E8%F0%EE%E2%E0%ED%E8%E5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%F0%EE%E3%F0%E0%EC%EC%E8%F0%EE%E2%E0%ED%E8%E5/">программирование</a>
 </span>  <span title="Поиск по метке клиентская оптимизация" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','клиентская оптимизация',
      '4883872','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EB%E8%E5%ED%F2%F1%EA%E0%FF+%EE%EF%F2%E8%EC%E8%E7%E0%F6%E8%FF');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EB%E8%E5%ED%F2%F1%EA%E0%FF+%EE%EF%F2%E8%EC%E8%E7%E0%F6%E8%FF/">клиентская оптимизация</a>
 </span>  <span title="Поиск по метке javascript" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','javascript',
      '134','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','javascript');">
   <a rel="tag" href="//www.liveinternet.ru/tags/javascript/">javascript</a>
 </span>  <span title="Поиск по метке блог компании яндекс.деньги" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','блог компании яндекс.деньги',
      '21094459','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%FF%ED%E4%E5%EA%F1.%E4%E5%ED%FC%E3%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%FF%ED%E4%E5%EA%F1.%E4%E5%ED%FC%E3%E8/">блог компании яндекс.деньги</a>
 </span>  <span title="Поиск по метке рефакторинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','рефакторинг',
      '1584550','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E5%F4%E0%EA%F2%EE%F0%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E5%F4%E0%EA%F2%EE%F0%E8%ED%E3/">рефакторинг</a>
 </span>  <span title="Поиск по метке платежная система" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','платежная система',
      '55776','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%EB%E0%F2%E5%E6%ED%E0%FF+%F1%E8%F1%F2%E5%EC%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%EB%E0%F2%E5%E6%ED%E0%FF+%F1%E8%F1%F2%E5%EC%E0/">платежная система</a>
 </span>  <span title="Поиск по метке node.js" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','node.js',
      '3144583','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','node.js');">
   <a rel="tag" href="//www.liveinternet.ru/tags/node.js/">node.js</a>
 </span>  <span title="Поиск по метке стандарты" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684930','стандарты',
      '4925','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F1%F2%E0%ED%E4%E0%F0%F2%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F1%F2%E0%ED%E4%E0%F0%F2%FB/">стандарты</a>
 </span> 
<span id="DI_TAG_408684930">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684930"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684930+"=0;");
document.getElementById('post408684930').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684930);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684930;r="+Math.random();
        eval("serg_post"+408684930+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684929" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684929&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684929" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684929" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684929" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684929" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684929"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684929"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684929">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684929">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684929">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684929">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684929&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684929&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684929" id="blLi_ppan-like_408684929">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684929&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684929" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684929').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684929" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684929">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684929" id="updateForm408684929" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684929/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" class="TTL"><b>[Перевод] Производительность старта JavaScript</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 16:28 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684929/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684929&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684929links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/ebc/fb2/61f/ebcfb261feb64a00be6d073a1af6514f.jpg" /><br />
<br />
Веб-разработчики знают, как легко разрастаются размеры веб-страниц. Но <b>загрузка</b> страницы — это не просто передача байтов по проводу. Когда браузер загрузил скрипты, ему нужно их отпарсить, интерпретировать и запустить. В статье мы внимательно рассмотрим эту фазу и узнаем, почему она может стать причиной замедления запуска вашего приложения и как это исправить.<br />
<a target="_blank" name="habracut"></a><br />
Исторически сложилось так, что мы не тратим много времени на оптимизацию парсинга/компилирования JavaScript. Мы считаем, что скрипты будут моментально отпарсены и выполнены, как только парсер дойдёт до тега <code></code> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321748/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321748/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author AloneCoder" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','author AloneCoder',
      '17974947','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+AloneCoder');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+AloneCoder/">author AloneCoder</a>
 </span>  <span title="Поиск по метке разработка веб-сайтов" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','разработка веб-сайтов',
      '1516636','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E2%E5%E1-%F1%E0%E9%F2%EE%E2');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E2%E5%E1-%F1%E0%E9%F2%EE%E2/">разработка веб-сайтов</a>
 </span>  <span title="Поиск по метке клиентская оптимизация" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','клиентская оптимизация',
      '4883872','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EB%E8%E5%ED%F2%F1%EA%E0%FF+%EE%EF%F2%E8%EC%E8%E7%E0%F6%E8%FF');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EB%E8%E5%ED%F2%F1%EA%E0%FF+%EE%EF%F2%E8%EC%E8%E7%E0%F6%E8%FF/">клиентская оптимизация</a>
 </span>  <span title="Поиск по метке высокая производительность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','высокая производительность',
      '3492749','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC/">высокая производительность</a>
 </span>  <span title="Поиск по метке javascript" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','javascript',
      '134','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','javascript');">
   <a rel="tag" href="//www.liveinternet.ru/tags/javascript/">javascript</a>
 </span>  <span title="Поиск по метке блог компании mail.ru group" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','блог компании mail.ru group',
      '11751839','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mail.ru+group');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mail.ru+group/">блог компании mail.ru group</a>
 </span>  <span title="Поиск по метке v8" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','v8',
      '2880727','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','v8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/v8/">v8</a>
 </span>  <span title="Поиск по метке nodejs" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','nodejs',
      '6883956','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','nodejs');">
   <a rel="tag" href="//www.liveinternet.ru/tags/nodejs/">nodejs</a>
 </span>  <span title="Поиск по метке performance" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','performance',
      '21465','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','performance');">
   <a rel="tag" href="//www.liveinternet.ru/tags/performance/">performance</a>
 </span>  <span title="Поиск по метке никто не читает теги" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684929','никто не читает теги',
      '11751821','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%ED%E8%EA%F2%EE+%ED%E5+%F7%E8%F2%E0%E5%F2+%F2%E5%E3%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%ED%E8%EA%F2%EE+%ED%E5+%F7%E8%F2%E0%E5%F2+%F2%E5%E3%E8/">никто не читает теги</a>
 </span> 
<span id="DI_TAG_408684929">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684929"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684929+"=0;");
document.getElementById('post408684929').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684929);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684929;r="+Math.random();
        eval("serg_post"+408684929+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684928" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684928&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684928" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684928" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684928" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684928" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684928"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684928"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684928">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684928">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684928">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684928">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684928&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684928&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684928" id="blLi_ppan-like_408684928">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684928&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684928" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684928').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684928" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684928">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684928" id="updateForm408684928" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684928/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" class="TTL"><b>[Перевод] Веб-анимация: где, зачем и почему</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 15:48 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684928/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684928&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684928links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Качественная и уместная анимация веб-страниц радует глаз и помогает в работе. Это – одна из основ веб-дизайна наших дней. Взаимодействие пользователей с современными веб-сайтами серьёзно завязано именно на анимации. Она способна сообщать о неких состояниях страницы, направлять внимание. Анимация помогает пользователю увидеть результат его действий и может влиять на его поведение.<br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/company/ruvds/blog/321822/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/comment_images/ee9/d70/736/ee9d70736756ed0e8aea7b578afdb54e.gif" alt="image" /></div></a><br />
Когда анимация способна улучшить впечатления пользователя от работы со страницами? Что именно стоит «оживить» для того, чтобы взаимодействие с ресурсом стало бы более удобным, понятным, увлекательным?<br />
<a target="_blank" name="habracut"></a><br />
<h2><font color="#3AC1EF">Анимация и последовательности событий</font></h2><br />
<h3><font color="#3AC1EF">Анимация при загрузке данных</font></h3><br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://babich.biz/progress-indicators/">Отвлечь пользователя</a> во время загрузки контента – вот одна из самых распространённых ситуаций использования анимации. Дело в том, что анимация в подобные моменты воздействует на то, как люди воспринимают время. Она создаёт ощущение того, что действие выполняется быстрее, чем на самом деле.<br />
<br />
<b>Если время выполнения действия уменьшить не удаётся, всегда следует стремиться к тому, чтобы пользователю было не скучно ждать.</b><br />
<br />
Чем проще анимация загрузки – тем лучше. При этом следует очень осторожно относиться к любым дополнительным эффектам, вроде звуков. Обычно они попросту не нужны. Хорошая анимация загрузки занимает внимание посетителя сайта. При этом, если пользователю нравится то, что он видит, если при просмотре анимации у него появляется некоторая заинтересованность, он меньше обращает внимание на длительность загрузки.<br />
<br />
Примечание: тут везде анимированные GIF-файлы, вставил в виде ссылок и выделил.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/068/922/a7f/068922a7fcdbf64d76f5c5fb6487ff32.gif" alt="image" /></div><br />
<i><font color="#999999">Даже когда время загрузки невелико, забавная анимация способна добавить ожиданию развлекательный момент. (Автор: Thomas Bogner)</font></i><br />
<br />
<h3><font color="#3AC1EF">Анимация процессов и пошаговых операций</font></h3><br />
Анимация может показать выполнение некоей линейной последовательности действий, не зависящей от пользователя. Классическая полоса загрузки – самый распространённый пример.<br />
<br />
<div style="text-align:center;"><img src="http://babich.biz/content/images/2017/02/1-Yput53IzAQ3Rg_Bs4E3JdQ.gif" alt="image" /></div><br />
<i><font color="#999999">Полоса загрузки для Aviasales. (Автор: Mark)</font></i><br />
<br />
Анимацию можно использовать и для процессов, предусматривающих выполнение пользователем пошаговых операций.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/698/a74/5b0/698a745b0bde64a0bbe5dfff8e9e429b.gif" alt="image" /></div><br />
<i><font color="#999999">Анимация может показать прохождение по шагам некоей последовательности действий. (Автор: Joshua Sortino)</font></i><br />
<br />
<h3><font color="#3AC1EF">Анимация и каркасное отображение веб-страниц</font></h3><br />
Вариант каркасного отображение веб-страниц предусматривает наличие пространства, которое постепенно заполняется загружаемой информацией. Постепенное, не разорванное периодами «пустоты», наполнение страницы, даёт ощущение быстроты выполнения действий. Эту технику можно использовать на практически любом сайте вместе с ненавязчивой анимацией процесса загрузки, которая обеспечивает удержание внимания пользователя.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c7f/4e6/e9e/c7f4e6e9ea3af735132e564714625a59.gif" alt="image" /></div><br />
<i><font color="#999999">Каркасные экраны загружают элементы пользовательского интерфейса ещё до того, как будет полностью отображено содержимое страницы. (Автор: tqndemseven)</font></i><br />
<br />
<h2><font color="#3AC1EF">Визуальная обратная связь</font></h2><br />
<h3><font color="#3AC1EF">Анимированная реакция на действия пользователя</font></h3><br />
Хороший дизайн взаимодействий с пользователем предусматривает обратную связь, которая сообщает о результатах взаимодействия, делает его видимым и понятным. Если посетитель сайта не знает, с какими именно элементами страниц можно работать, чего от них можно ожидать, он будет чувствовать себя растерянным. Для того, чтобы на корню убить подобные состояния, надо лишь продуманно спроектировать варианты взаимодействия, сделав их чёткими и понятными.<br />
<br />
<h3><font color="#3AC1EF">Анимация элементов управления для настольных и мобильных сайтов</font></h3><br />
Один из самых распространённых примеров визуальной обратной связи – анимация при наведении курсора на интерактивный элемент.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7e8/868/cbd/7e8868cbdb9d8f1df606b18752bb956a.gif" alt="image" /></div><br />
<i><font color="#999999">Когда пользователь не уверен в назначении элемента управления, он пытается навести на него курсор мыши. Анимация элемента при наведении курсора, на интуитивном уровне, сообщит пользователю о том, что с объектом можно взаимодействовать. (Источник: codepen)</font></i><br />
<br />
Вышесказанное справедливо для сайтов, которые просматривают на обычных компьютерах, а вот мобильные устройства, на экранах которых нет курсоров мыши, это уже другая история. Поэтому, на мобильных сайтах, кнопки и другие интерактивные элементы должны быть оснащены визуальными подсказками. Подсказки должны указывать, ещё до того, как пользователь коснётся элемента, на то, что с ним можно взаимодействовать. А после касания нужно немедленно дать визуальную обратную связь. Это указывает пользователю на то, что его действие вызвало реакцию системы, наподобие кнопки на рисунке ниже, которая выглядит нажатой при касании.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/15e/a2f/337/15ea2f33708ab909533b767a11ae73f5.gif" alt="image" /></div><br />
<i><font color="#999999">Затенение указывает на то, что элемента можно коснуться для выполнения некоего действия. (Автор: Vadim Gromov)</font></i><br />
<br />
<h3><font color="#3AC1EF">Привлечение внимания с помощью анимации</font></h3><br />
Хорошо известно, что наши глаза привлекает движение. Этим можно воспользоваться для того, чтобы направлять внимание пользователя и подкреплять выполняемые им действия.<br />
<br />
Вот, например, ввод данных в форму. Анимация отлично подойдёт для придания этому процессу новых качеств. На рисунке, приведённом ниже, форма отрицательно «качает головой» в ответ на попытку выполнения действия при незаполненных полях. Если всё введено верно, она вполне может одобрительно «кивнуть». Такая анимация позволяет пользователю мгновенно понять то, к каким результатам привело его действие.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dfd/9de/cd7/dfd9decd7484ca5d7579c054b4d27d94.gif" alt="image" /></div><br />
<i><font color="#999999">Форма отрицательно «качает головой». (Автор: Micha"el Villar)</font></i><br />
<br />
<h2><font color="#3AC1EF">Навигация</font></h2><br />
<h3><font color="#3AC1EF">Переходы и взаимоотношения состояний</font></h3><br />
Сегодня в тренде скрытые навигационные меню, которые появляются при щелчке на <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://babich.biz/basic-patterns-for-mobile-navigation/">кнопке-гамбургер</a>е. С помощью анимации можно обеспечить связь состояний приложения и предотвратить слишком быстрые, режущие глаз, переходы между экранами. Хорошо спроектированные переходы дают пользователям чёткое понимание того, на чём следует сосредоточиться.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/865/b71/708/865b7170839e42a4137cb22ec8a124ec.gif" alt="image" /></div><br />
<i><font color="#999999">Анимацию можно использовать для того, чтобы сделать переходы между экранами приложения более очевидными. В итоге пользователь будет точно знать, где он был в начале действия, и где оказался после его завершения. (Источник: codyhouse)</font></i><br />
<br />
Вот – пример с веб-сайта Brian Hoff Design. Когда пользователь щёлкает по круглой кнопке со стрелкой, большой блок меню появляется с правой стороны экрана. Благодаря анимации, меню будто выезжает из области, находящейся за пределами экрана. В результате во взаимодействии со страницей нет логических разрывов.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b9f/bec/c96/b9fbecc96f590bbd0bad686ee04a6e33.gif" alt="image" /></div><br />
<i><font color="#999999">Анимация помогает связать воедино два состояния страницы</font></i><br />
<br />
<h3><font color="#3AC1EF">Плавное изменение состояний</font></h3><br />
Анимация переходов бесценна для указания смены состояний страницы. В статье «Умные переходы в UX-дизайне» Адриан Зумбруннен показал отличный пример того, как анимация может помочь пользователю оставаться в курсе того, где именно он находится, при щелчке по ссылке, которая ведёт к другому разделу той же самой страницы.<br />
<br />
Просто сравните это с резким переходом, который ощущается как неестественный «скачок».<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/56c/2ad/995/56c2ad995631b9b11c8cf02e14c63330.gif" alt="image" /></div><br />
<i><font color="#999999">Внезапное изменение состояния выглядит ненатурально. Пользователю тяжело воспринимать подобное. (источник: smashingmagazine)</font></i><br />
<br />
А вот то же самое, но с анимацией:<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ff/dd4/612/9ffdd46122eb1d33a19114893c2a99b2.gif" alt="image" /></div><br />
<i><font color="#999999">Анимировать – значит «вдохнуть жизнь» (источник: smashingmagazine)</font></i><br />
<br />
В механизме навигации по сайту использована ненавязчивая анимация. Это помогает пользователю ориентироваться в статье, видеть, где именно расположен раздел, который он просматривает.<br />
<br />
<h2><font color="#3AC1EF">Творческие эффекты</font></h2><br />
Творческий подход к анимации украшает интерфейс, привносит в него развлекательную ценность. Сайты с подобными интерфейсами способны восхитить посетителя и запомниться ему.<br />
<br />
<h3><font color="#3AC1EF">Искусство рассказывать истории и длинный скролл</font></h3><br />
«Всё внимание – на верхнюю половину видимой части сайта». Совсем недавно это было железным правилом. Дизайнеры стремились, во что бы то ни стало, заполнить эту область ценной информацией. Теперь же «правило верхней половины» потеряло абсолютную истинность. На самом деле, известно, что «на обычной странице 66% внимания сосредоточено ниже верхней половины видимой части сайта». Таким образом, при скроллинге страницы то, что появляется снизу, привлекает больше внимания. Это делает прокрутку неотъемлемой частью дизайна взаимодействия.<br />
<br />
<b>Анимации оживляют процесс скроллинга и доставляют удовольствие пользователю.</b><br />
<br />
Анимация способна раскрыть свой потенциал в деле рассказывания историй. Это позволяет создать у пользователя эмоциональную связь с интерфейсом, который иначе был бы скучным и невыразительным. Тут весьма распространена <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://babich.biz/best-practices-for-long-scrolling/">анимация с эффектом параллакса</a>, но, полагаем, в подобных ситуациях имеет смысл поискать что-то, менее бросающееся в глаза. Рассмотрите возможность разбиения сайта на «фрагменты», рассчитанные на прокрутку. В пределах каждого из этих фрагментов вы можете анимировать вывод текстов и изображений. <br />
<br />
Например, ниже показаны анимации, оживляющие страницу, применённые к обычным изображениям.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2d5/187/aab/2d5187aab94246b0e5005bebd79c17d9.gif" alt="image" /></div><br />
<i><font color="#999999">Анимация при прокрутке. Источник: Le Mugs</font></i><br />
<br />
<h2><font color="#3AC1EF">Инструменты и учебные руководства</font></h2><br />
<ul>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://theultralinx.com/2015/01/15-ui-animation-tutorials/">15 руководств по анимации интерфейса</a>. Эта подборка учебных материалов подойдёт для начинающих.</li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://w3c.github.io/web-animations/">Веб-анимации</a>. Более продвинутое руководство от W3 по синхронизации и таймингам для анимации на веб-страницах и в API.</li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.justinaguilar.com/animations/">Шпаргалка по CCS3-анимации</a>. Полезный набор готовых к использованию приёмов анимации, которые позволяют применять CSS-классы к различным элементам страниц.</li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.templatemonster.com/blog/html5-animation-tools/">Инструменты для создания анимации</a>. Список и анализ 16-ти популярных средств для создания анимации.</li>
</ul><br />
<h2><font color="#3AC1EF">Выводы</font></h2><br />
Дизайн – это больше чем визуальное представление данных. Дизайн – это управление взаимодействием пользователя и веб-страницы. Как результат, анимация играет чрезвычайно важную роль в деле передачи информации. Поэтому, проектируя страницы, необходимо с самого начала помнить об интерактивной природе веб-пространства и воспринимать её проявления как естественную часть дизайна.<br />
<br />
Уважаемые дизайнеры! Расскажите нам о своих любимых приёмах веб-анимации.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321822/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/1U7Ydf5Xtbg" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321822/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321822/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author ru_vds" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','author ru_vds',
      '19932341','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+ru_vds');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+ru_vds/">author ru_vds</a>
 </span>  <span title="Поиск по метке разработка веб-сайтов" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','разработка веб-сайтов',
      '1516636','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E2%E5%E1-%F1%E0%E9%F2%EE%E2');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E2%E5%E1-%F1%E0%E9%F2%EE%E2/">разработка веб-сайтов</a>
 </span>  <span title="Поиск по метке блог компании ruvds.com" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','блог компании ruvds.com',
      '19902337','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+ruvds.com');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+ruvds.com/">блог компании ruvds.com</a>
 </span>  <span title="Поиск по метке ux" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','ux',
      '6976912','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','ux');">
   <a rel="tag" href="//www.liveinternet.ru/tags/ux/">ux</a>
 </span>  <span title="Поиск по метке дизайн" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','дизайн',
      '73','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E4%E8%E7%E0%E9%ED');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E4%E8%E7%E0%E9%ED/">дизайн</a>
 </span>  <span title="Поиск по метке анимация" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','анимация',
      '1736','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E0%ED%E8%EC%E0%F6%E8%FF');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E0%ED%E8%EC%E0%F6%E8%FF/">анимация</a>
 </span>  <span title="Поиск по метке веб-разработка" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','веб-разработка',
      '1073429','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%E5%E1-%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%E5%E1-%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0/">веб-разработка</a>
 </span>  <span title="Поиск по метке мобильная разработка" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684928','мобильная разработка',
      '6770494','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%EE%E1%E8%EB%FC%ED%E0%FF+%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%EE%E1%E8%EB%FC%ED%E0%FF+%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0/">мобильная разработка</a>
 </span> 
<span id="DI_TAG_408684928">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684928"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684928+"=0;");
document.getElementById('post408684928').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684928);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684928;r="+Math.random();
        eval("serg_post"+408684928+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684927" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684927&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684927" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684927" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684927" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684927" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684927"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684927"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684927">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684927">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684927">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684927">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684927&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684927&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684927" id="blLi_ppan-like_408684927">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684927&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684927" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684927').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684927" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684927">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684927" id="updateForm408684927" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684927/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" class="TTL"><b>Новые возможности продукта СКАТ DPI 6.0 «Севастополь» от VAS Experts</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 15:43 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684927/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684927&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684927links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Мы в компании VAS Experts занимаемся созданием сервисов для анализа и контроля трафика и представляем новую версию <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://vasexperts.ru/product-skat.php">решения</a> СКАТ DPI 6.0 «Севастополь». Система получила несколько исправлений, основанных на опыте разработки предыдущих версий продукта, а также обзавелась новыми функциями, о которых и пойдет речь ниже. <br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/company/vasexperts/blog/319636/"> <img src="https://habrastorage.org/files/b52/d59/69b/b52d5969babb41d4865f800fbb97496a.jpg" /></a><a target="_blank" name="habracut"></a><i>/ Flickr / <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.flickr.com/photos/alexxx-malev/8545681368/in/photostream/">Alexxx Malev</a> / <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://creativecommons.org/licenses/by-sa/2.0/">CC</a></i><br />
<br />
<h2>Развитие функций NAT и IPFIX</h2><br />
В новой версии продукта была добавлена возможность подключать NAT для пользователей, одновременно использующих «белые» и «серые» адреса. Для этого на одном логине объединяются несколько IP-адресов, а затем на него назначаются политики и подключаются услуги. Эта функция удобна для корпоративных клиентов, которые покупают у оператора блоки адресов. <br />
<br />
Вот пример команды для объединения адресов в один логин:<br />
<br />
<pre><code>fdpi_ctrl load –bind_multi –user имя_абонента: ip_адрес_или_блок</code></pre><br />
При этом хотелось бы отметить, что функция CG-NAT требует включения в схему резервного устройства. Это связано с тем, что при установке системы СКАТ «в разрыв» bypass-карты не помогают, поэтому выход платформы из строя прекращает выдачу адресов. Таким образом, рекомендуемая схема включения выглядит так:<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/e02/a9a/d21/e02a9ad2140247aba93b87ba2839daaa.png" width="500" /></div><i>Схема установки СКАТ с функцией CGNAT (Источник: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=po7hphbohAY">вебинар</a>)</i><br />
<br />
Что касается протокола IPFIX, то он позволяет передавать аналитические данные со СКАТ как на внутреннюю СХД сервера, так и на внешние агрегаторы. В своем новом воплощении IPFIX получил две новые функции. Первая — экспорт признака блокировки ресурса: скажем, если ресурс оказался заблокирован по черным спискам, то в поле LOCKED появится соответствующее значение. Вторая — экспорт имени хоста для протоколов HTTPS и QUIC.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/8fe/a1b/48c/8fea1b48c62b425f94bae0ee7d67fc1a.png" width="500" /></div><i>Развитие IPFIX (Источник: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=po7hphbohAY">вебинар</a>)</i><br />
<br />
Отметим, что одним из наиболее популярных способов анализа информации с платформы DPI <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=311">является</a> связка демона-коллектора nfcapd, дампа nfdump и визуализатора NfSen, являющегося графическим интерфейсом для данных nfdump. Для сбора информации в формате IPFIX подойдет любой универсальный IPFIX-коллектор, который понимает шаблоны, или утилита IPFIX Receiver. После накопления данных хотя бы за одни сутки NfSen строит графики по протоколам, объему трафика и др.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/42b/ce1/63a/42bce163ac2c44518ac72eac1bb449f0.png" width="500" /></div><br />
Помимо графиков, с помощью NfSen можно строить отчеты за произвольные периоды по протоколам и направлениям. При этом нам хотелось бы отметить, что визуализатор не рекомендуется устанавливать на сервер, где развернуто решение DPI, – подготовка отчетов сильно загружает центральный процессор, а это может отрицательно сказаться на производительности DPI-платформы.<br />
<br />
<h2>Набор функций для работы в качестве L3 BRAS</h2><br />
Сервисный шлюз BRAS — это новая функция системы контроля и анализа трафика СКАТ. Частично её возможности были представлены еще в СКАТ 5.0. В новой версии появилась авторизация сессий IPoE на radius, что расширило спектр возможностей оператора связи в сфере контроля доступа абонентов к интернету, а также при работе с дополнительными тарифными опциями (работа L3 и идентификация клиентов по IP или метке Q-in-Q).<br />
<br />
Отметим, что СКАТ с функцией BRAS внедряется в сети оператора «в разрыв», однако с использованием дополнительных компонентов: СКАТ PCRF, radius-сервера и биллинг-сервера. О том, как выполняется конфигурирование функции L3 BRAS читайте в одном из наших материалов, который вы найдете по <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=576">ссылке</a>. <br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/bb4/6ca/265/bb46ca265bda4f41bb6662b20f563048.png" width="500" /></div><i>Место СКАТ L3 BRAS в сети оператора (Источник: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=po7hphbohAY">вебинар</a>)</i><br />
<br />
У системы СКАТ с функцией BRAS есть несколько применений, среди которых стоит выделить управление доступом абонента при нулевом балансе, чтобы пользователь имел возможность перейти на страницу платежной системы и пополнить счет, управление общей полосой канала (тарифные планы, QoS), а также <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=553">идентификацию</a> абонентов в Wi-Fi-сети (например по телефонному номеру). <br />
<br />
Что касается последнего пункта, то работа по идентификации пользователя происходит на оборудовании оператора связи. Для этого оператор должен иметь стандартный набор устройств (коммутаторы, маршрутизаторы и т. д.), а также систему DPI, DHCP-сервер для организации выдачи адресов абонентам, ВМ с веб-сервером Apache и NAT с записью лога трансляций.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/dd6/39f/cc2/dd639fcc2adb44bda9a9e404c741e4ae.jpg" width="500" /></div><i>Доступ к интернету через точку общего доступа</i><br />
<br />
Работает система следующим образом. Устройство абонента подключается к Wi-Fi-роутеру, который, в свою очередь, «просит» новый IP у DHCP-сервера. Последний передает данные обратно роутеру и вызывает shell-скрипт, который активирует в СКАТ DPI тариф с ограничениями доступа. <br />
<br />
Далее, когда пользователь вводит нужный ему URL, веб-сервер получает запрос на страницу идентификации, где пользователь вводит номер телефона, за которым следует отправка запроса на код доступа. Сервер генерирует случайную последовательность цифр и отправляет её пользователю по СМС. Когда код подтвержден, новый shell-скрипт устанавливает тариф доступа Wi-Fi и переадресует клиента на запрошенный URL.<br />
<br />
Для реализации вышеописанной схемы необходимо настроить оборудование оператора: систему DPI, DHCP-сервер, веб-сервер. Инструкции по настройке вы можете найти в одном из наших <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=553">материалов</a>.<br />
<br />
<h2>Поддержка работы с сервером управления политиками PCRF</h2><br />
Сервер PCRF может <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=55">располагаться</a> на отдельном устройстве и руководить множеством PCEF либо являться частью системы DPI СКАТ. Сервис fdpi_pcrf выполняет роль BRAS для fastdpi — для исходящего клиентского трафика fdpi_pcrf запрашивает авторизацию у radius-сервера, профиль тарифного плана и список предоставляемых услуг. Чтобы обеспечить отказоустойчивость системы, есть возможность реализовать схему резервирования master-slave.<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/77e/3e5/1d9/77e3e51d920444caa043ab58a1251ff2.png" width="500" /></div><i>Работа сервера управления политиками (Источник: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=po7hphbohAY">вебинар</a>)</i><br />
<br />
Сам сервер fdpi_pcrf интегрирован с fastdpi и имеет три компонента. Первый — модуль авторизации в fastdpi, который анализирует исходящий трафик от локальных клиентов. В случае отсутствия авторизации клиента, модуль отсылает TCP-запрос на fdpi_pcrf. Второй — сервер fdpi_pcrf, который принимает по внутреннему протоколу запросы на авторизацию от fastdpi и обрабатывает их. Ну и третий — это управляющий модуль fastdpi, принимающий результаты работы fdpi_pcrf по протоколу fdpi_ctrl и пишущий их в базу данных клиентов.<br />
<br />
<div><div><div><br/><iframe type="text/html"  width=400  height=300 src="https://www.youtube.com/embed/po7hphbohAY?rel=0&showinfo=1" frameborder="0" allowFullScreen scroling="no" webkitAllowFullScreen mozallowfullscreen></iframe> <br/></div></div></div><br />
<br />
Подробнее о системе СКАТ DPI 6.0 «Севастополь» вы можете узнать из нашей презентации, представленной выше. Часть видео посвящена секции Q&A — вопросы задавали участники вебинара в режиме онлайн. <br />
<br />
P.S. Другие материалы из нашего блога:<br />
<br />
<ul>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=553">Идентификация абонента в Wi-Fi сети по телефонному номеру</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=482">DPI на помощь спутниковому интернету — опыт на сети связи ANADYR.NET</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=576">DPI система СКАТ в качестве L3 BRAS</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=501">Борьба с DDoS – CAPTCHA и ее история</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.vasexperts.ru/?p=472">Рейтинг интернет-ресурсов — анализ трафика средствами DPI</a></li>
</ul>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/319636/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/319636/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/319636/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/KQQOZnEKQ8k" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/319636/' target=_blank>https://habrahabr.ru/post/319636/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author VASExperts" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','author VASExperts',
      '20698730','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+VASExperts');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+VASExperts/">author VASExperts</a>
 </span>  <span title="Поиск по метке сетевые технологии" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','сетевые технологии',
      '1395592','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F1%E5%F2%E5%E2%FB%E5+%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F1%E5%F2%E5%E2%FB%E5+%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8/">сетевые технологии</a>
 </span>  <span title="Поиск по метке блог компании vas experts" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','блог компании vas experts',
      '20698731','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+vas+experts');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+vas+experts/">блог компании vas experts</a>
 </span>  <span title="Поиск по метке vas experts" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','vas experts',
      '20708453','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','vas+experts');">
   <a rel="tag" href="//www.liveinternet.ru/tags/vas+experts/">vas experts</a>
 </span>  <span title="Поиск по метке dpi" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','dpi',
      '71230','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','dpi');">
   <a rel="tag" href="//www.liveinternet.ru/tags/dpi/">dpi</a>
 </span>  <span title="Поиск по метке скат dpi" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684927','скат dpi',
      '20708454','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F1%EA%E0%F2+dpi');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F1%EA%E0%F2+dpi/">скат dpi</a>
 </span> 
<span id="DI_TAG_408684927">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684927"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684927+"=0;");
document.getElementById('post408684927').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684927);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684927;r="+Math.random();
        eval("serg_post"+408684927+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684926" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684926&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684926" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684926" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684926" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684926" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684926"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684926"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684926">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684926">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684926">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684926">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684926&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684926&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684926" id="blLi_ppan-like_408684926">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684926&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684926" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684926').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684926" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684926">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684926" id="updateForm408684926" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684926/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" class="TTL"><b>[Из песочницы] Практические приемы использования многопоточных вычислений при работе с Revit API</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 15:13 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684926/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684926&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684926links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Я архитектор, долгое время проектировал здания и сооружения, но вот с лета прошлого года начал программировать на C# используя Revit API. У меня уже есть несколько модулей-надстроек для Revit и теперь я хочу поделиться некоторым опытом разработки для Revit. Предполагается, что читатели умеют писать макросы для Revit на C#.<br />
<br />
Revit API не содержит методов для параллельных вычислений. Даже при попытке разместить объекты Revit API в параллельных потоках, возникнет ошибка времени выполнения программы. Поэтому я сейчас хочу показать как можно выполнять все таки параллельные вычисления, работая при этом с Revit API.<br />
<br />
Представим следующую практическую задачу, которую выполним в параллельном и последовательном режиме. Выделим несколько сотен стен, найдем центр каждой стены в плане. После проверим расстояние между центрами стенам, и найдем две наиболее близко расположенные стены относительно их центров.<a target="_blank" name="habracut"></a><br />
<br />
Если мы будем работать непосредственно с объектами Revit API (в данном случае с Wall) нам придется обрабатывать каждую стену последовательно, соответственно такие вычисления будут происходить в одном потоке. Попробуем выделить необходимые свойства стен, добавить их в собственные классы и провести необходимые вычисления уже с собственными классами, в нескольких потоках.<br />
<br />
Сначала создадим макрос WallTesting. И теперь создадим класс, который будет получать необходимые для работы свойства объектов стен. <br />
<br />
<pre><code>public class MyWall //Класс в который добавим необходимые параметры из элементов Wall
		{    
		    private LocationCurve wallLine; //Добавляем линию основание стены, она понадобится для вычислений
		    private XYZ p1 = new XYZ(); //Добавляем первую точку линии основания
		    private XYZ p2 = new XYZ();    //Добавляем вторую точку основания линии стены
		    public XYZ pCenter; //Добавляем среднюю точку стены, которую будем вычислять, но не задаем начальное значение   
		    
		    public MyWall (LocationCurve WallLine)     //Конструктор пользовательского класса стены
		    {
		        this.wallLine = WallLine;            //Делаем в конструкторе минимум работы - просто передаем нужные нам параметры для вычислений        		                
		    }    
		    public XYZ GetPointCenter () //Метод, вычисляющий среднюю точку стены
		    	//Тут можно бы сделать кэширование срединной точки, и не вычислять ее - если точка известна, но для упрощения кода не будем делать этого.
		    {
				p1 = wallLine.Curve.GetEndPoint(0);
		        
		        p2 = wallLine.Curve.GetEndPoint(1);
		        
		        return pCenter = new XYZ((p2.X + p1.X)/2, (p2.Y + p1.Y)/2, (p2.Z + p1.Z)/2);//Тут немножко вспоминаем векторную геометрию за 9 класс школы		            	
		    }    
		    public double GetLenght (XYZ x) //Метод, вычисляющий расстояние до предложенной ему средней точки другой стены
		    {	            	
		        XYZ vector = new XYZ((pCenter.X - x.X), (pCenter.Y - x.Y), (pCenter.Z - x.Z)); //Находим вектор между средней точкой первой стены и второй стены
		                      
		        return Math.Sqrt ( Math.Pow( vector.X,2)  + Math.Pow( vector.Y,2) + Math.Pow( vector.Z,2)); //Находим длину вектора между средними точками двух стен      
		    }    
		}</code></pre><br />
В общем состав класса и его работа расписана в комментариях, можно теперь написать главный рабочий метод WallTesting.<br />
<br />
<pre><code>public void WallTesting ()
{
    UIDocument uidoc = this.ActiveUIDocument; //Получаем активный документ
    Document doc = uidoc.Document; //Создаем документ
    
    List<mywall> wallList = new List(); //Добавляем вспомогательные члены - список в который перенесем необходимые свойства из элементов Wall
    List <double> minPoints = new List<double>(); //В этом списке будут храниться минимальные расстояния от каждой стены    
    
    Selection selection = uidoc.Selection; // получаем выделенные объекты
    
    ICollection<elementid> selectedIds = uidoc.Selection.GetElementIds(); //и помещаем их в коллекцию
    
    DateTime end; //Далее проверим как будет работать наша вычисления в многопоточном режиме
        
    DateTime start = DateTime.Now; //Засекаем время
    
    foreach (ElementId e in selectedIds) // Помещаем необходимые свойства элемента Wall в свои объекты MyWall.
    //Эту операцию нельзя выполнять в многопоточном режиме, так как мы пока работаем с объектами Revit API               
    {
        Element el = doc.GetElement(e); //получаем элемент по его Id
        Wall w = el as Wall; //Смотрим, стена ли это
        if (w != null) //Если стена - 
        {
            wallList.Add( new MyWall (w.Location as LocationCurve)); // Создаем объект MyWall и добавляем в его необходимые свойства из элемента Wall
        }
    }

    
    System.Threading.Tasks.Parallel.For(0, wallList.Count, x => //Далее будем последовательно у каждого объекта MyWall сравнивать 
     //расстояние от средней точки до средней точки всех остальных объектов (стен). Запускаем задачу в параллельном режиме
    {
            List <double> allLenght = new List<double>(); //Это вспомогательный список
            wallList[x].GetPointCenter(); //Находим срединную точку текущего объекта
        
        foreach (MyWall nn in wallList) //проверяем расстояние до каждой срединной точки остальных объектов(стен)
        {   
            double n = wallList[x].GetLenght( nn.GetPointCenter() );
            if (n != 0) //Исключаем добавление в список текущего объекта
                allLenght.Add(n); //И записываем все расстояния в этот вспомогательный список
        } 
        allLenght.Sort(); //Сортируем вспомогательный список
        
        minPoints.Add(allLenght[0]); //Добавляем наименьшее расстояние в соответствующий список
     });//Заканчиваем задачу           
    
    minPoints.Sort(); //Сортируем все минимальные расстояния
    
    double minPoint = minPoints[0]; //Берем самое маленькое расстояние между стенами
    
        end = DateTime.Now; // Записываем текущее время
        
        TimeSpan ts = (end - start);              
    
        TaskDialog.Show("Revit", "Минимальное расстояние между стенами - " + (minPoint*304.8).ToString() +
                        "\nЗадача в параллельном режиме обрабатывалась - "  + ts.TotalMilliseconds.ToString() + " миллисекунд");
        		        
}</double></double></elementid></double></double></mywall></code></pre><br />
Уже можно запустить макрос и посмотреть как он шустро находит минимальное расстояние между средними точками стен, но все же немного потерпим и добавим метод WorkWithWall, который будет работать с объектами Revit API со стенами (Wall) и будет обрабатывать их последовательно. Код не комментирую — в нем методы и параметры аналогичны приведенным выше.<br />
<br />
<pre><code>void WorkWithWall(Document doc, ICollection<elementid> selectedIds)
{
	List<wall> wallList = new List<wall>();
    List <double> minPoints = new List<double>();  
	 
	DateTime end;              
    DateTime start = DateTime.Now;
    
    foreach (ElementId e in selectedIds)               
    {
        Element el = doc.GetElement(e);
        Wall w = el as Wall; 
        if (w != null) 
        {
        	wallList.Add(w);
        }                
    } 
    
    foreach (Wall w in wallList)
    {
    	List <double> allLenght = new List<double>();
    	LocationCurve wallLine = w.Location as LocationCurve;
    	XYZ pCenter =
    		new XYZ((wallLine.Curve.GetEndPoint(1).X + wallLine.Curve.GetEndPoint(0).X)/2, 
    		        (wallLine.Curve.GetEndPoint(1).Y + wallLine.Curve.GetEndPoint(0).Y)/2,
    		        (wallLine.Curve.GetEndPoint(1).Z + wallLine.Curve.GetEndPoint(0).Z)/2);
    	
    	foreach (Wall w2 in wallList)
    	{
    		LocationCurve wallLine2 = w2.Location as LocationCurve;
    		XYZ pCenter2 =
    			new XYZ((wallLine2.Curve.GetEndPoint(1).X + wallLine2.Curve.GetEndPoint(0).X)/2, 
    		        	(wallLine2.Curve.GetEndPoint(1).Y + wallLine2.Curve.GetEndPoint(0).Y)/2,
    		        	(wallLine2.Curve.GetEndPoint(1).Z + wallLine2.Curve.GetEndPoint(0).Z)/2);            		
    		
    		
    		XYZ vector = new XYZ((pCenter.X - pCenter2.X), (pCenter.Y - pCenter2.Y), (pCenter.Z - pCenter2.Z));
                              
            double lenght = Math.Sqrt ( Math.Pow( vector.X,2)  + Math.Pow( vector.Y,2) + Math.Pow( vector.Z,2));
            
            if (lenght !=0)
            	allLenght.Add(lenght);
    	}
    	allLenght.Sort();
        
        minPoints.Add(allLenght[0]);
    }
    
    minPoints.Sort();
    
    double minPoint = minPoints[0];
    
        end = DateTime.Now;
        
        TimeSpan ts = (end - start);              
    
        TaskDialog.Show("Revit", "Минимальное расстояние между стенами - " + (minPoint*304.8).ToString() +
                        "\nЗадача в последовательном режиме обрабатывалась - "  + ts.TotalMilliseconds.ToString() + " миллисекунд");            		
}</double></double></double></double></wall></wall></elementid></code></pre><br />
Добавим в конец рабочего метода WallTesting метод вот так:<br />
<br />
<pre><code>WorkWithWall(doc, selectedIds);</code></pre><br />
Теперь работа завершена, остается создать примерно 1000 стен, запустить макрос у увидеть, как он работает. Разница в параллельной и последовательной работе будет в 3 раза в пользу первой. Я не делал обработчик исключения, на тот случай, если стены не выделены перед запуском макроса. Так, что не забудьте сначала выделить стены.<br />
<br />
<div style="text-align:center;"><img src="http://bim3d.ru/fileadmin/images/user_upload/par-w2.jpg" alt="image" /></div><br />
<h3>Резюме</h3><br />
1. Если вам надо обработать большое количество элементов, задумайтесь о многопоточных вычислениях. При малом количестве элементов накладные расходы будут больше извлекаемого ускорения работы в параллельном режиме.<br />
<br />
2. Если вам нужны многопоточные вычисления, сначала создайте собственные классы, в которые передайте необходимые свойства элементов Revit API и методы работы с этими свойствами. Создайте список из собственных классов и обрабатывайте его в многопоточном режиме.<br />
Не забудьте — вы можете кэшировать некоторые свойства и члены класса, и не вычислять их, если уже раннее это когда-то было сделано.<br />
<br />
3. Не пытайтесь в методы, работающие с разными потоками, передать объекты Revit API, например Wall. У вас возникнет ошибка времени выполнения.<br />
<br />
<b>PS:</b> Приложил файлы с примерами. Это файл "<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://bim3d.ru/fileadmin/images/user_upload/Test1000Wall.rvt">Test1000Wall.rvt</a>" в котором находится 1000 стен с расстоянием друг от друга 1000мм (в осях). Справа сверху расстояние между стенами в осях 700мм. Файл "<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://bim3d.ru/fileadmin/images/user_upload/TestParallelWall.cs">TestParallelWall.cs</a>" это готовый макрос для тестов.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321816/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321816/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321816/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/PTqKqASEn0w" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321816/' target=_blank>https://habrahabr.ru/post/321816/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author Akunets" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684926','author Akunets',
      '21149256','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+Akunets');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+Akunets/">author Akunets</a>
 </span>  <span title="Поиск по метке cad/cam" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684926','cad/cam',
      '16034258','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','cad%2Fcam');">
   <a rel="tag" href="//www.liveinternet.ru/tags/cad%2Fcam/">cad/cam</a>
 </span>  <span title="Поиск по метке c#" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684926','c#',
      '264','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','c%23');">
   <a rel="tag" href="//www.liveinternet.ru/tags/c%23/">c#</a>
 </span>  <span title="Поиск по метке api" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684926','api',
      '164865','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','api');">
   <a rel="tag" href="//www.liveinternet.ru/tags/api/">api</a>
 </span>  <span title="Поиск по метке revit api" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684926','revit api',
      '21149257','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','revit+api');">
   <a rel="tag" href="//www.liveinternet.ru/tags/revit+api/">revit api</a>
 </span> 
<span id="DI_TAG_408684926">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684926"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684926+"=0;");
document.getElementById('post408684926').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684926);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684926;r="+Math.random();
        eval("serg_post"+408684926+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684925" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684925&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684925" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684925" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684925" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684925" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684925"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684925"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684925">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684925">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684925">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684925">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684925&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684925&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684925" id="blLi_ppan-like_408684925">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684925&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684925" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684925').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684925" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684925">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684925" id="updateForm408684925" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684925/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" class="TTL"><b>Проверка open-source сервера World of Warcraft CMaNGOS</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 15:12 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684925/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684925&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684925links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        В этой статье мне хотелось бы поделиться результатами проверки статическим анализатором PVS-Studio открытой реализации сервера игры World of Warcraft – CMaNGOS.<br />
<br />
<p><img src="https://habrastorage.org/files/ed9/a82/0f9/ed9a820f991d458b8aeec1cbbf7c61c7.png" /></p><br />
<br />
<h2>Введение</h2><br />
C(ontinued)MaNGOS является активно развивающимся ответвлением старого проекта MaNGOS (Massive Network Game Object Server), призванного создать свободный альтернативный сервер для игры World of Warcraft. Большая часть разработчиков MaNGOS продолжает работу в проекте CMaNGOS.<br />
<br />
Как пишут сами разработчики, их цель – создать открытый «well written server in C++» для одной из лучших MMORPG. Постараюсь немного помочь им в этом, и проверю CMaNGOS при помощи статического анализатора PVS-Studio.<br />
<br />
Примечание: Для проверки использовался сервер CMaNGOS-Classic, доступный в <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/cmangos/mangos-classic">репозитории проекта на github.</a><br />
<a target="_blank" name="habracut"></a><br />
<h2>Результаты проверки</h2><br />
<h2>Ошибка в приоритете операций</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V593/">V593</a> Consider reviewing the expression of the 'A = B &lt; C' kind. The expression is calculated as following: 'A = (B &lt; C)'. SpellEffects.cpp 473<br />
<pre><code>void Spell::EffectDummy(SpellEffectIndex eff_idx)
{
  ....
  if (uint32 roll = urand(0, 99) &lt; 3) // &lt;=
    ....
  else if (roll &lt; 6)
    ....
  else if (roll &lt; 9)
    ....
  ....
}</code></pre><br />
Автор предполагал, что переменной <i>roll</i> будет присвоено случайное значение, а затем произойдет сравнение этого значения с <i>3</i>. Однако, приоритет операции сравнения выше, чем приоритет операции присваивания (см. <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/t/0064/">таблицу приоритетов операций</a>), поэтому в действительности сначала случайное число будет сравниваться с <i>3</i>, а затем результат этого сравнения (<i>0</i> или <i>1</i>) будет записан в переменную <i>roll</i>.<br />
<br />
Данную ошибку можно исправить просто поставив скобки:<br />
<pre><code>if ((uint32 roll = urand(0, 99)) &lt; 3)</code></pre><br />
<h2>Одинаковые действия в блоках if и else</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V523/">V523</a> The 'then' statement is equivalent to the 'else' statement. SpellAuras.cpp 1537<br />
<pre><code>void Aura::HandleAuraModShapeshift(bool apply, bool Real)
{
  switch (form)
  {
    case FORM_CAT:
      ....
    case FORM_TRAVEL:
      ....
    case FORM_AQUA:
      if (Player::TeamForRace(target->getRace()) == ALLIANCE)
        modelid = 2428; // &lt;=
      else
        modelid = 2428; // &lt;=
    ....
  }
  ....
}</code></pre><br />
В обоих блоках переменной <i>modelid </i> присваивается одно и то же значение, скорее всего, это ошибка, и константу в одном из блоков нужно заменить на какую-то другую.<br />
<br />
<h2>Неопределенное поведение</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V567/">V567</a> Undefined behavior. The 'm_uiMovePoint' variable is modified while being used twice between sequence points. boss_onyxia.cpp 405<br />
<pre><code>void UpdateAI(const uint32 uiDiff) override
{
  ....
  switch (urand(0, 2))
  {
    case 0:
      ....
    case 1:
    {
        // C++ is stupid, so add -1 with +7
        m_uiMovePoint += NUM_MOVE_POINT - 1;
        m_uiMovePoint %= NUM_MOVE_POINT;
        break;
    }
    case 2:
        ++m_uiMovePoint %= NUM_MOVE_POINT; // &lt;=
        break;
  }
  ....
}</code></pre><br />
В указанной строке переменная <i>m_uiMovePoint</i> дважды изменяется в рамках одной <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://en.wikipedia.org/wiki/Sequence_point">точки следования</a>, что приводит к неопределенному поведению программы. Более подробно об этом можно почитать в описании диагностики <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V567/">V567</a>.<br />
<br />
Аналогичная ошибка:<ul>
<li>V567 Undefined behavior. The 'm_uiCrystalPosition' variable is modified while being used twice between sequence points. boss_ossirian.cpp 150</li>
</ul><br />
<h2>Ошибка в условии</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V547/">V547</a> Expression is always false. Probably the '||' operator should be used here. SpellEffects.cpp 2872<br />
<pre><code>void Spell::EffectEnchantItemTmp(SpellEffectIndex eff_idx)
{
  ....
  // TODO: Strange stuff in following code
  // shaman family enchantments
  if (....)
      duration = 300;
  else if (m_spellInfo->SpellIconID == 241 &&
           m_spellInfo->Id != 7434)
      duration = 3600;
  else if (m_spellInfo->Id == 28891 &&
           m_spellInfo->Id == 28898) // &lt;=
      duration = 3600;
  ....
}</code></pre><br />
В указанном условии проверяется равенство переменной <i>m_spellInfo->Id</i> двум разным значениям одновременно. Результат такой проверки, естественно, всегда <i>false</i>. Скорее всего, автор ошибся и вместо оператора '||' использовал оператор '&&'.<br />
<br />
Примечательно, что в комментариях отмечено странное поведение данного блока кода и, возможно, что оно как раз вызвано этой ошибкой.<br />
<br />
В проекте нашлось еще несколько подобных ошибок, вот их полный список:<ul>
<li>V547 Expression is always false. Probably the '||' operator should be used here. SpellEffects.cpp 2872</li>
<li>V547 Expression is always true. Probably the '&&' operator should be used here. genrevision.cpp 261</li>
<li>V547 Expression is always true. Probably the '&&' operator should be used here. vmapexport.cpp 361</li>
<li>V547 Expression is always true. Probably the '&&' operator should be used here. MapTree.cpp 125</li>
<li>V547 Expression is always true. Probably the '&&' operator should be used here. MapTree.cpp 234</li>
</ul><br />
<h2>Подозрительное форматирование</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V640/">V640</a> The code's operational logic does not correspond with its formatting. The statement is indented to the right, but it is always executed. It is possible that curly brackets are missing. instance_blackrock_depths.cpp 111<br />
<pre><code>void instance_blackrock_depths::OnCreatureCreate(Creature* pCreature)
{
  switch (pCreature->GetEntry())
  {
    ....
    case NPC_HAMMERED_PATRON:
      ....
      if (m_auiEncounter[11] == DONE)
        pCreature->SetFactionTemporary(....);
        pCreature->SetStandState(UNIT_STAND_STATE_STAND); // &lt;=
      break;
    case NPC_PRIVATE_ROCKNOT:
    case NPC_MISTRESS_NAGMARA:
    ....
  }
}</code></pre><br />
Здесь, вероятнее всего, автор забыл поставить фигурные скобки после оператора <i>if</i>, в результате чего вызов <i>pCreature->SetStandState(UNIT_STAND_STATE_STAND)</i> будет выполняться вне зависимости от условия в <i>if</i>.<br />
<br />
Если же такое поведение и задумывалось, то стоит поправить выравнивание кода:<br />
<pre><code>if (m_auiEncounter[11] == DONE)
  pCreature->SetFactionTemporary(....);
pCreature->SetStandState(UNIT_STAND_STATE_STAND);</code></pre><br />
<h2>Одинаковые операнды в тернарном операторе</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V583/">V583</a> The '?:' operator, regardless of its conditional expression, always returns one and the same value: SAY_BELNISTRASZ_AGGRO_1. razorfen_downs.cpp 104<br />
<pre><code>void AttackedBy(Unit* pAttacker) override
{
  ....
  if (!m_bAggro)
  {
    DoScriptText(urand(0, 1) ?
                 SAY_BELNISTRASZ_AGGRO_1 : // &lt;=
                 SAY_BELNISTRASZ_AGGRO_1,  // &lt;=
                 m_creature, pAttacker);
    m_bAggro = true;
  }
  ....
}</code></pre><br />
Второй и третий операнды тернарного оператора идентичны, скорее всего, это ошибка. Судя по коду проекта, можно предположить, что один из операндов должен иметь значение <i>SAY_BELNISTRASZ_AGGRO_2</i>.<br />
<br />
<h2>Целочисленное деление</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V674/">V674</a> The '0.1f' literal of the 'float' type is compared to a value of the 'unsigned int' type. item_scripts.cpp 44<br />
<pre><code>bool ItemUse_item_orb_of_draconic_energy(....)
{
  ....
  // If Emberstrife is already mind controled or above 10% HP:
  //  force spell cast failure
  if (pEmberstrife && pEmberstrife->HasAura(SPELL_DOMINION_SOUL) 
      || pEmberstrife->GetHealth() /
         pEmberstrife->GetMaxHealth() > 0.1f) // &lt;=
  {
    ....
    return true;
  }
  return false;
}</code></pre><br />
Метод <i>Unit::GetHealth()</i> возвращает значение типа <i>uint32_t</i>, и метод <i>Unit::GetMaxHealth()</i> также возвращает значение типа <i>uint32_t</i>, поэтому результат их деления является целочисленным и сравнивать его с <i>0.1f</i> бессмысленно.<br />
<br />
Чтобы правильно определить 10% границу здоровья, данный код можно переписать, например, так:<br />
<pre><code>// If Emberstrife is already mind controled or above 10% HP:
//  force spell cast failure
if (pEmberstrife && pEmberstrife->HasAura(SPELL_DOMINION_SOUL) 
    || ((float)pEmberstrife->GetHealth()) /
       ((float)pEmberstrife->GetMaxHealth()) > 0.1f)
{
  ....
  return true;
}</code></pre><br />
<h2>Безусловный выход из цикла for</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V612/">V612</a> An unconditional 'break' within a loop. Pet.cpp 1956<br />
<pre><code>void Pet::InitPetCreateSpells()
{
  ....
  for (SkillLineAbilityMap::const_iterator
       _spell_idx = bounds.first; _spell_idx != bounds.second;
       ++_spell_idx)
  {
      usedtrainpoints += _spell_idx->second->reqtrainpoints;
      break; // &lt;=
  }
  ....
}</code></pre><br />
Не вполне понятно, что здесь имелось в виду, но безусловный оператор <i>break</i> в теле цикла <i>for</i> выглядит очень подозрительно. Даже если здесь нет ошибки, стоит отрефакторить код и избавиться от ненужного цикла, ведь итератор <i>_spell_idx</i> принимает одно единственное значение.<br />
<br />
Аналогичное предупреждение:<ul>
<li>V612 An unconditional 'break' within a loop. Pet.cpp 895</li>
</ul><br />
<h2>Избыточное условие</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V728/">V728</a> An excessive check can be simplified. The '||' operator is surrounded by opposite expressions '!realtimeonly' and 'realtimeonly'. Player.cpp 10536<br />
<pre><code>void Player::UpdateItemDuration(uint32 time, bool realtimeonly)
{
  ....
  if ((realtimeonly && (....)) || !realtimeonly) // &lt;=
    item->UpdateDuration(this, time);
  ....
}</code></pre><br />
Проверку вида (<i>a</i> && <i>b</i>) || !<i>a</i> можно упростить до !<i>a</i> || <i>b</i>, что наглядно видно на таблице истинности:<br />
<br />
<p><img src="https://habrastorage.org/files/32e/2a4/dad/32e2a4dad17e486db8f180f6a6c103dd.png" /></p><br />
<br />
Таким образом, исходное выражение упростится до:<br />
<pre><code>void Player::UpdateItemDuration(uint32 time, bool realtimeonly)
{
  ....
  if (!(realtimeonly) || (....))
    item->UpdateDuration(this, time);
  ....
}</code></pre><br />
<h2>Проверка this на null</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V704/">V704</a> '!this ||!pVictim' expression should be avoided: 'this' pointer can never be NULL on newer compilers. Unit.cpp 1417<br />
<pre><code>void Unit::CalculateSpellDamage(....)
{
  ....
  if (!this || !pVictim) // &lt;=
    return;
  ....
}</code></pre><br />
Согласно современному стандарту С++, указатель <i>this </i> никогда не может быть нулевым. Зачастую использование сравнения <i>this</i> с нулем может приводить к неожиданным ошибкам. Подробнее прочитать об этом можно в описании диагностики <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V704/">V704</a>.<br />
<br />
Аналогичные проверки:<ul>
<li>V704 '!this ||!pVictim' expression should be avoided: 'this' pointer can never be NULL on newer compilers. Unit.cpp 1476</li>
<li>V704 '!this ||!pVictim' expression should be avoided: 'this' pointer can never be NULL on newer compilers. Unit.cpp 1511</li>
<li>V704 '!this ||!pVictim' expression should be avoided: 'this' pointer can never be NULL on newer compilers. Unit.cpp 1797</li>
</ul><br />
<h2>Неоправданная передача по ссылке</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V669/">V669</a> The 'uiHealedAmount' argument is a non-constant reference. The analyzer is unable to determine the position at which this argument is being modified. It is possible that the function contains an error. boss_twinemperors.cpp 109<br />
<pre><code>void 
HealedBy(Unit* pHealer, uint32& uiHealedAmount) override // &lt;=
{
  if (!m_pInstance)
    return;

  if (Creature* pTwin =
      m_pInstance->GetSingleCreatureFromStorage(
        m_creature->GetEntry() == NPC_VEKLOR ?
                                  NPC_VEKNILASH :
                                  NPC_VEKLOR))
  {
      float fHealPercent = ((float)uiHealedAmount) /
                           ((float)m_creature->GetMaxHealth());
      
      uint32 uiTwinHeal =
        (uint32)(fHealPercent * ((float)pTwin->GetMaxHealth()));
      
      uint32 uiTwinHealth = pTwin->GetHealth() + uiTwinHeal;
      
      pTwin->SetHealth(uiTwinHealth &lt; pTwin->GetMaxHealth() ?
                                      uiTwinHealth :
                                      pTwin->GetMaxHealth());
  }
}</code></pre><br />
Переменная <i>uiHealedAmount</i> передается по ссылке, но в теле функции не изменяется. Это может вводить в заблуждение, ведь создается впечатление, что функция <i>HealedBy()</i> что-то записывает в <i>uiHealedAmount</i>. Лучше передать переменную по константной ссылке или по значению.<br />
<br />
<h2>Повторное присваивание</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V519/">V519</a> The 'stat' variable is assigned values twice successively. Perhaps this is a mistake. Check lines: 1776, 1781. DetourNavMeshQuery.cpp 1781<br />
<pre><code>dtStatus dtNavMeshQuery::findStraightPath(....) const
{
  ....
  if (....)
  {
    stat = appendPortals(apexIndex, i, closestEndPos,  // &lt;=
              path, straightPath, straightPathFlags,
              straightPathRefs, straightPathCount,
              maxStraightPath, options);
  }

  stat = appendVertex(closestEndPos, 0, path[i],       // &lt;=
            straightPath, straightPathFlags,
            straightPathRefs, straightPathCount,
            maxStraightPath);
  ....
}</code></pre><br />
Анализатор обнаружил подозрительное место, где переменной <i>stat</i> два раза подряд присваиваются разные значения. Определенно стоит проверить этот участок кода на предмет ошибок.<br />
<br />
<h2>Проверка указателя на null после new</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V668/">V668</a> There is no sense in testing the 'pmmerge' pointer against null, as the memory was allocated using the 'new' operator. The exception will be generated in the case of memory allocation error. MapBuilder.cpp 553<br />
<pre><code>void MapBuilder::buildMoveMapTile(....)
{
  ....
  rcPolyMesh** pmmerge =
     new rcPolyMesh*[TILES_PER_MAP * TILES_PER_MAP];
     
  if (!pmmerge) // &lt;=
  {
    printf("%s alloc pmmerge FIALED! \r", tileString);
    return;
  }
  ....
}</code></pre><br />
Проверка указателя на ноль после использования оператора <i>new</i> бессмысленна. При невозможности выделить память, оператор <i>new</i> генерирует исключение <i>std::bad_alloc()</i>, а не возвращает <i>nullptr</i>. Соответственно, программа никогда не зайдет в блок после условия.<br />
<br />
Чтобы исправить эту ошибку можно сделать выделение памяти в блоке <i>try {....} catch(const std::bad_alloc &) {....}</i>, или использовать для выделения памяти конструкцию <i>new(std::nothrow)</i>, которая не будет генерировать исключение в случае неудачи.<br />
<br />
Аналогичные проверки указателей:<ul>
<li>V668 There is no sense in testing the 'data' pointer against null, as the memory was allocated using the 'new' operator. The exception will be generated in the case of memory allocation error. loadlib.cpp 36</li>
<li>V668 There is no sense in testing the 'dmmerge' pointer against null, as the memory was allocated using the 'new' operator. The exception will be generated in the case of memory allocation error. MapBuilder.cpp 560</li>
<li>V668 There is no sense in testing the 'm_session' pointer against null, as the memory was allocated using the 'new' operator. The exception will be generated in the case of memory allocation error. WorldSocket.cpp 426</li>
</ul><br />
<h2>Неправильный порядок аргументов</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V764/">V764</a> Possible incorrect order of arguments passed to 'loadVMap' function: 'tileY' and 'tileX'. MapBuilder.cpp 279<br />
<pre><code>void MapBuilder::buildTile(uint32 mapID,
                           uint32 tileX, uint32 tileY,
                           dtNavMesh* navMesh, uint32 curTile,
                           uint32 tileCount)
{
  ....
  // get heightmap data
  m_terrainBuilder->loadMap(mapID, 
                            tileX, tileY,
                            meshData);

  // get model data
  m_terrainBuilder->loadVMap(mapID,
                             tileY, tileX, // &lt;=
                             meshData); 
  ....
}</code></pre><br />
Анализатор обнаружил подозрительную передачу аргументов в функцию — были перепутаны местами аргументы <i>tileX</i> и <i>tileY</i>.<br />
<br />
Если взглянуть на прототип функции <i>loadVMap()</i>, то становится очевидно, что это действительно ошибка.<br />
<pre><code>bool loadVMap(uint32 mapID, 
              uint32 tileX, uint32 tileY,
              MeshData& meshData);</code></pre><br />
<h2>Два идентичных блока кода</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V760/">V760</a> Two identical blocks of text were found. The second block begins from line 213. BattleGround.cpp 210<br />
<pre><code>BattleGround::BattleGround()
: m_BuffChange(false),
  m_StartDelayTime(0),
  m_startMaxDist(0)
{
    ....
    m_TeamStartLocO[TEAM_INDEX_ALLIANCE]   = 0;
    m_TeamStartLocO[TEAM_INDEX_HORDE]      = 0;

    m_BgRaids[TEAM_INDEX_ALLIANCE]         = nullptr;
    m_BgRaids[TEAM_INDEX_HORDE]            = nullptr;

    m_PlayersCount[TEAM_INDEX_ALLIANCE]    = 0; // &lt;=
    m_PlayersCount[TEAM_INDEX_HORDE]       = 0; // &lt;=

    m_PlayersCount[TEAM_INDEX_ALLIANCE]    = 0; // &lt;=
    m_PlayersCount[TEAM_INDEX_HORDE]       = 0; // &lt;=

    m_TeamScores[TEAM_INDEX_ALLIANCE]      = 0;
    m_TeamScores[TEAM_INDEX_HORDE]         = 0;
    ....
}</code></pre><br />
Здесь два раза подряд выполняются одни и те же действия. Скорее всего, такой код появился в результате Copy-Paste.<br />
<br />
<h2>Дублирующее условие</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V571/">V571</a> Recurring check. The 'isDirectory' condition was already verified in line 166. FileSystem.cpp 169<br />
<pre><code>FileSystem::Dir& 
FileSystem::getContents(const std::string& path, 
                        bool forceUpdate) 
{    
  // Does this path exist on the real filesystem?
  if (exists && isDirectory) // &lt;=
  {
    // Is this path actually a directory?
    if (isDirectory) // &lt;=
    {
      ....
    }
    ....
  }
  ....
}</code></pre><br />
Условие <i>isDirectory </i> проверяется дважды. Можно удалить дублирующую проверку.<br />
<br />
<h2>Побитовое И с нулевой константой</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V616/">V616</a> The 'SPELL_DAMAGE_CLASS_NONE' named constant with the value of 0 is used in the bitwise operation. Spell.cpp 674<br />
<pre><code>void Spell::prepareDataForTriggerSystem()
{ 
  ....
  if (IsPositiveSpell(m_spellInfo->Id))
  {
    if (m_spellInfo->DmgClass & SPELL_DAMAGE_CLASS_NONE) // &lt;=
    {
      m_procAttacker = PROC_FLAG_DONE_SPELL_NONE_DMG_CLASS_POS;
      m_procVictim = PROC_FLAG_TAKEN_SPELL_NONE_DMG_CLASS_POS;
    }
  }
  ....
}</code></pre><br />
Константа <i>SPELL_DAMAGE_CLASS_NONE</i> имеет нулевое значение, а побитовое И любого числа и нуля, является нулем, следовательно условие будет всегда иметь значение <i>false</i>, а блок, следующий за ним никогда не выполнится.<br />
<br />
Аналогичная ошибка:<ul>
<li>V616 The 'SPELL_DAMAGE_CLASS_NONE' named constant with the value of 0 is used in the bitwise operation. Spell.cpp 692</li>
</ul><br />
<h2>Потенциальное разыменование нулевого указателя</h2><br />
<b>Предупреждение PVS-Studio:</b> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/w/V595/">V595</a> The 'model' pointer was utilized before it was verified against nullptr. Check lines: 303, 305. MapTree.cpp 303<br />
<pre><code>bool StaticMapTree::InitMap(const std::string& fname,
                            VMapManager2* vm)
{
  ....
  WorldModel* model = 
    vm->acquireModelInstance(iBasePath, spawn.name);
    
  model->setModelFlags(spawn.flags); // &lt;=
  ....
  if (model) // &lt;=
  {
    ....
  }
  ....
}</code></pre><br />
Указатель <i>model</i> проверяется на <i>null</i>, т.е. допускается его равенство нулю, однако, выше указатель уже используется и без всяких проверок. Налицо потенциальное разыменовывание нулевого указателя.<br />
<br />
Чтобы исправить эту ошибку, следует проверить значение указателя <i>model</i> до того, как вызывать метод <i>model->setModelFlags(spawn.flags)</i>.<br />
<br />
Аналогичные предупреждения:<ul>
<li>V595 The 'model' pointer was utilized before it was verified against nullptr. Check lines: 374, 375. MapTree.cpp 374</li>
<li>V595 The 'unit' pointer was utilized before it was verified against nullptr. Check lines: 272, 290. Object.cpp 272</li>
<li>V595 The 'updateMask' pointer was utilized before it was verified against nullptr. Check lines: 351, 355. Object.cpp 351</li>
<li>V595 The 'dbcEntry1' pointer was utilized before it was verified against nullptr. Check lines: 7123, 7128. ObjectMgr.cpp 7123</li>
</ul><br />
<h2>Заключение</h2><br />
PVS-Studio как всегда нашел много подозрительных мест и ошибок в коде. Надеюсь, разработчики CMaNGOS поправят все недочеты, а так же начнут постоянно использовать статический анализ в своем проекте, поскольку разовая проверка не так уж эффективна.<br />
<br />
Также напомню, что теперь любой желающий может воспользоваться возможностью <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/b/0457/">бесплатного</a> использования PVS-Studio при соблюдении описанных по ссылке условий.<br />
<br />
P.S. Вы можете предложить для проверки нашим анализатором любой интересный для вас проект через форму обратной связи или с помощью GitHub. Подробности по <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/b/0473/">ссылке</a>.<br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/en/b/0476/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35e/064/ddf/35e064ddf91f5d99b620384893909ff7.png" /></div></a><br />
Если хотите поделиться этой статьей с англоязычной аудиторией, то прошу использовать ссылку на перевод: Bredikhin Egor. <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/en/b/0476/">Checking the World of Warcraft CMaNGOS open source server</a>.<br />
<br />
<div><b>Прочитали статью и есть вопрос?</b><div>Часто к нашим статьям задают одни и те же вопросы. Ответы на них мы собрали здесь: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.viva64.com/ru/a/0085/">Ответы на вопросы читателей статей про PVS-Studio, версия 2015</a>. Пожалуйста, ознакомьтесь со списком.<br />
</div></div>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321814/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/Qk9b4HFXO28" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321814/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321814/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author EgorBredikhin" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','author EgorBredikhin',
      '20278183','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+EgorBredikhin');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+EgorBredikhin/">author EgorBredikhin</a>
 </span>  <span title="Поиск по метке разработка игр" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','разработка игр',
      '156391','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E8%E3%F0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%E8%E3%F0/">разработка игр</a>
 </span>  <span title="Поиск по метке open source" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','open source',
      '21273','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','open+source');">
   <a rel="tag" href="//www.liveinternet.ru/tags/open+source/">open source</a>
 </span>  <span title="Поиск по метке c++" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','c++',
      '8445','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','c%2B%2B');">
   <a rel="tag" href="//www.liveinternet.ru/tags/c%2B%2B/">c++</a>
 </span>  <span title="Поиск по метке блог компании pvs-studio" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','блог компании pvs-studio',
      '15744904','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+pvs-studio');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+pvs-studio/">блог компании pvs-studio</a>
 </span>  <span title="Поиск по метке статический анализ кода" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','статический анализ кода',
      '6640065','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F1%F2%E0%F2%E8%F7%E5%F1%EA%E8%E9+%E0%ED%E0%EB%E8%E7+%EA%EE%E4%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F1%F2%E0%F2%E8%F7%E5%F1%EA%E8%E9+%E0%ED%E0%EB%E8%E7+%EA%EE%E4%E0/">статический анализ кода</a>
 </span>  <span title="Поиск по метке pvs-studio" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','pvs-studio',
      '6640071','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','pvs-studio');">
   <a rel="tag" href="//www.liveinternet.ru/tags/pvs-studio/">pvs-studio</a>
 </span>  <span title="Поиск по метке static code analysis" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','static code analysis',
      '8358918','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','static+code+analysis');">
   <a rel="tag" href="//www.liveinternet.ru/tags/static+code+analysis/">static code analysis</a>
 </span>  <span title="Поиск по метке world of warcraft" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684925','world of warcraft',
      '23529','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','world+of+warcraft');">
   <a rel="tag" href="//www.liveinternet.ru/tags/world+of+warcraft/">world of warcraft</a>
 </span> 
<span id="DI_TAG_408684925">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684925"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684925+"=0;");
document.getElementById('post408684925').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684925);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684925;r="+Math.random();
        eval("serg_post"+408684925+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684924" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684924&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684924" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684924" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684924" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684924" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684924"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684924"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684924">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684924">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684924">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684924">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684924&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684924&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684924" id="blLi_ppan-like_408684924">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684924&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684924" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684924').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684924" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684924">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684924" id="updateForm408684924" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684924/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" class="TTL"><b>Приглашаем на Tarantool Meetup 2 марта</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 14:53 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684924/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684924&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684924links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/cf6/ec2/c30/cf6ec2c30b68478fa014d20d09f15362.png" /><br />
<br />
В первый четверг марта в нашем московском офисе состоится Tarantool Meetup 2017. Пользователи <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://tarantool.org/">Tarantool</a> расскажут про их опыт его внедрения и использования, о его плюсах и минусах и дальнейших планах использования. Это уникальная возможность услышать коллег и пообщаться с разработчиками нашей СУБД. Расписание мероприятия уже готово, подробнее смотрите под катом.<br />
<a target="_blank" name="habracut"></a><br />
19:30 — 19:40 — сбор гостей<br />
<br />
<img src="https://habrastorage.org/files/7d0/45a/7dc/7d045a7dcd1e4c34b3931dfb410ac906.jpg" align="left" />19:40 — 19:45 — <b>открытие мероприятия</b><br />
<br />
Денис Аникин<br />
технический директор почтовых и облачных сервисов Mail.Ru Group<br />
<br />
<img src="https://habrastorage.org/files/d9a/53c/f7c/d9a53cf7c59e4bc981c7dc7cd2d56317.jpg" align="left" />19:45 — 20:15 — <b>«Репликация из MySQL в Tarantool: подводные камни»</b><br />
<br />
Александр Яковлев<br />
Wamba<br />
<br />
Поговорим, как сделать репликацию из MySQL master в Tarantool slave, если ее нет в коробке. Зачем это было нужно: Tarantool как отличная альтернатива handler socket. Подводные камни, которые нужно было знать раньше. Плюсы и минусы Тарантула, с которыми мы встретились. Что хотелось бы, чтобы сделали в Тарантуле. Некоторые сравнения MySQL vs Tarantool. Какой профит мы получили от внедрения Тарантула?<br />
<br />
<img src="https://habrastorage.org/files/8f7/b46/496/8f7b464968e74c85a73590bdf9620a16.jpg" align="left" />20:15 — 20:45 — <b>«Применение СУБД Tarantool в Yota для ускорения работы высоконагруженных сервисов»</b><br />
<br />
Роман Стрекаловский<br />
Yota (online из Санкт-Петербурга)<br />
<br />
Разработка InMemory DataGrid на основе Tarantool. Цель — увеличение производительности, без масштабных изменений в инфраструктуре и архитектур. Описаны основные решения, преимущества и недостатки данного решения.<br />
<br />
20:45 — 20:50 — перерыв<br />
<br />
<img src="https://habrastorage.org/files/a5e/7b7/8fa/a5e7b78fa7dc4188aa256c235a26e2ff.jpg" align="left" />20:50 — 21:20 — <b>«Tarantool как основное хранилище данных для серверных Windows приложений, написанных на .net.»</b><br />
<br />
Анатолий Попов<br />
evote.com<br />
<br />
 — Выбор хранилища для основных данных проекта.<br />
 — Что делать, если к СУБД нет коннектора?<br />
 — Эксплуатация тарантула.<br />
<br />
21:20 — 21:30 — общение в кулуарах<br />
<br />
Участие бесплатное, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://corp.mail.ru/ru/press/events/311/">регистрация</a> обязательна. Сбор гостей в 19.30. Адрес: офис Mail.Ru Group, Ленинградский пр., 39, стр. 79. Ждем вас на нашем митапе! Приходите, будет весело!
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321812/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/aaX1X1Ct9vA" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321812/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321812/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author danikin" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','author danikin',
      '10332439','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+danikin');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+danikin/">author danikin</a>
 </span>  <span title="Поиск по метке open source" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','open source',
      '21273','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','open+source');">
   <a rel="tag" href="//www.liveinternet.ru/tags/open+source/">open source</a>
 </span>  <span title="Поиск по метке nosql" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','nosql',
      '6667067','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','nosql');">
   <a rel="tag" href="//www.liveinternet.ru/tags/nosql/">nosql</a>
 </span>  <span title="Поиск по метке блог компании mail.ru group" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','блог компании mail.ru group',
      '11751839','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mail.ru+group');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mail.ru+group/">блог компании mail.ru group</a>
 </span>  <span title="Поиск по метке mail.ru" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','mail.ru',
      '14874','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','mail.ru');">
   <a rel="tag" href="//www.liveinternet.ru/tags/mail.ru/">mail.ru</a>
 </span>  <span title="Поиск по метке tarantool" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','tarantool',
      '7217396','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','tarantool');">
   <a rel="tag" href="//www.liveinternet.ru/tags/tarantool/">tarantool</a>
 </span>  <span title="Поиск по метке tarantool meetup" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684924','tarantool meetup',
      '19779902','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','tarantool+meetup');">
   <a rel="tag" href="//www.liveinternet.ru/tags/tarantool+meetup/">tarantool meetup</a>
 </span> 
<span id="DI_TAG_408684924">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684924"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684924+"=0;");
document.getElementById('post408684924').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684924);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684924;r="+Math.random();
        eval("serg_post"+408684924+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684923" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684923&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684923" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684923" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684923" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684923" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684923"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684923"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684923">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684923">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684923">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684923">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684923&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684923&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684923" id="blLi_ppan-like_408684923">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684923&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684923" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684923').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684923" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684923">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684923" id="updateForm408684923" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684923/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" class="TTL"><b>Сведение с применением «регуляторов»: задача выполнимости</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 14:45 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684923/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684923&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684923links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	         <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321778/' target=_blank>https://habrahabr.ru/post/321778/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author ph_piter" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684923','author ph_piter',
      '9693480','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+ph_piter');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+ph_piter/">author ph_piter</a>
 </span>  <span title="Поиск по метке алгоритмы" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684923','алгоритмы',
      '252536','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E0%EB%E3%EE%F0%E8%F2%EC%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E0%EB%E3%EE%F0%E8%F2%EC%FB/">алгоритмы</a>
 </span>  <span title="Поиск по метке блог компании издательский дом «питер»" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684923','блог компании издательский дом «питер»',
      '15610190','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%E8%E7%E4%E0%F2%E5%EB%FC%F1%EA%E8%E9+%E4%EE%EC+%AB%EF%E8%F2%E5%F0%BB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%E8%E7%E4%E0%F2%E5%EB%FC%F1%EA%E8%E9+%E4%EE%EC+%AB%EF%E8%F2%E5%F0%BB/">блог компании издательский дом «питер»</a>
 </span> 
<span id="DI_TAG_408684923">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684923"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684923+"=0;");
document.getElementById('post408684923').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684923);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684923;r="+Math.random();
        eval("serg_post"+408684923+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684920" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684920&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684920" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684920" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684920" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684920" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684920"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684920"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684920">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684920">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684920">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684920">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684920&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684920&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684920" id="blLi_ppan-like_408684920">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684920&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684920" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684920').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684920" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684920">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684920" id="updateForm408684920" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684920/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" class="TTL"><b>Вебинар: Введение в Singularity</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 14:04 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684920/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684920&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684920links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/bcc/73a/356/bcc73a356dd34a719285624a05680efe.jpg" /><br />
<br />
Команда <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://flyelephant.net">FlyElephant</a> приглашает всех на вебинар "<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://flyelephant.net/events/webinar-introduction-to-singularity"><b>Введение в Singularity</b></a>", который проведет <br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://gmkurtzer.github.io/">Gregory Kurtzer</a> (HPC Systems Architect и Technical Lead в Lawrence Berkeley National Laboratory).<br />
Вебинар будет проходить завтра, <b>15 февраля, в 19:00 (EET) / 9:00 am (PST)</b>. Язык — английский.<br />
<a target="_blank" name="habracut"></a><br />
В последние годы, контейнерных технологий, в частности, Docker, приобрели огромную популярность для обеспечения простоты развертывания приложений. Тем не менее, эти технологии предназначены для виртуализации на уровне микро-сервисов, а не для использования в многопользовательских научно-вычислительных средах, что приводит к созданию различных сложности при интеграции их с HPC вычислительными ресурсами. <br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://singularity.lbl.gov/">Singularity</a> является контейнерной системой совместимой с HPC ресурсами и разработанной специально для научных вычислений. Она поддерживает разные архитектуры (x86, ARM и Power), менеджеры ресурсов (SLURM, Torque, SGE, Condor и другие), MPI, GPU, Xeon Phi, параллельные файловые системы. Singularity достаточно простая в настройке и начале использования. По этим причинам, Singularity быстро набирает обороты в научных вычислительных сообществах.<br />
<br />
<b>Зарегистрироваться на вебинар можно <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://flyelephant.net/events/webinar-introduction-to-singularity">здесь</a>.</b>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321808/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321808/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321808/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/9mqy6WAUGus" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321808/' target=_blank>https://habrahabr.ru/post/321808/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке hpc" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','hpc',
      '1256','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','hpc');">
   <a rel="tag" href="//www.liveinternet.ru/tags/hpc/">hpc</a>
 </span>  <span title="Поиск по метке singularity" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','singularity',
      '94705','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','singularity');">
   <a rel="tag" href="//www.liveinternet.ru/tags/singularity/">singularity</a>
 </span>  <span title="Поиск по метке gpu" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','gpu',
      '274759','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','gpu');">
   <a rel="tag" href="//www.liveinternet.ru/tags/gpu/">gpu</a>
 </span>  <span title="Поиск по метке data mining" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','data mining',
      '1388891','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','data+mining');">
   <a rel="tag" href="//www.liveinternet.ru/tags/data+mining/">data mining</a>
 </span>  <span title="Поиск по метке вебинар" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','вебинар',
      '1476472','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%E5%E1%E8%ED%E0%F0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%E5%E1%E8%ED%E0%F0/">вебинар</a>
 </span>  <span title="Поиск по метке mpi" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','mpi',
      '1758521','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','mpi');">
   <a rel="tag" href="//www.liveinternet.ru/tags/mpi/">mpi</a>
 </span>  <span title="Поиск по метке высокая производительность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','высокая производительность',
      '3492749','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC/">высокая производительность</a>
 </span>  <span title="Поиск по метке машинное обучение" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','машинное обучение',
      '6672117','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%E0%F8%E8%ED%ED%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%E0%F8%E8%ED%ED%EE%E5+%EE%E1%F3%F7%E5%ED%E8%E5/">машинное обучение</a>
 </span>  <span title="Поиск по метке author m31" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','author m31',
      '7288068','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+m31');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+m31/">author m31</a>
 </span>  <span title="Поиск по метке machine learning" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','machine learning',
      '7401789','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','machine+learning');">
   <a rel="tag" href="//www.liveinternet.ru/tags/machine+learning/">machine learning</a>
 </span>  <span title="Поиск по метке big data" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','big data',
      '7705353','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','big+data');">
   <a rel="tag" href="//www.liveinternet.ru/tags/big+data/">big data</a>
 </span>  <span title="Поиск по метке bigdata" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','bigdata',
      '8473487','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','bigdata');">
   <a rel="tag" href="//www.liveinternet.ru/tags/bigdata/">bigdata</a>
 </span>  <span title="Поиск по метке data science" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','data science',
      '10023629','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','data+science');">
   <a rel="tag" href="//www.liveinternet.ru/tags/data+science/">data science</a>
 </span>  <span title="Поиск по метке deep learning" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','deep learning',
      '15845749','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','deep+learning');">
   <a rel="tag" href="//www.liveinternet.ru/tags/deep+learning/">deep learning</a>
 </span>  <span title="Поиск по метке блог компании flyelephant" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','блог компании flyelephant',
      '18886976','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+flyelephant');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+flyelephant/">блог компании flyelephant</a>
 </span>  <span title="Поиск по метке flyelephant" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','flyelephant',
      '18925571','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','flyelephant');">
   <a rel="tag" href="//www.liveinternet.ru/tags/flyelephant/">flyelephant</a>
 </span>  <span title="Поиск по метке xeon phi" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684920','xeon phi',
      '19068363','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','xeon+phi');">
   <a rel="tag" href="//www.liveinternet.ru/tags/xeon+phi/">xeon phi</a>
 </span> 
<span id="DI_TAG_408684920">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684920"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684920+"=0;");
document.getElementById('post408684920').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684920);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684920;r="+Math.random();
        eval("serg_post"+408684920+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684919" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684919&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684919" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684919" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684919" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684919" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684919"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684919"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684919">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684919">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684919">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684919">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684919&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684919&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684919" id="blLi_ppan-like_408684919">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684919&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684919" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684919').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684919" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684919">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684919" id="updateForm408684919" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684919/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" class="TTL"><b>Где живут ваши объявления?</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 13:40 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684919/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684919&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684919links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/fd8/4f7/80d/fd84f780d84f4d81b5805e2dbde0feae.png" alt="image" /><br />
<br />
Мы открываем техно-блог компании Avito. Многие знают бренд, но не так много тех, кто знает, как сервис устроен с технической стороны. В своём блоге мы приоткроем завесу неизвестного и расскажем о технической кухне сервиса.<br />
<br />
Начнем с небольшой истории о том, что проект представляет из себя сегодня, чем занимается команда инженеров и, что мы планируем делать в ближайшем будущем. Еще мы собрали в этом посте множество ссылок на уже опубликованные материалы, доклады и презентации нашей команды, которыми давно хотели поделиться. Хотите знать, где живут ваши объявления? Добро пожаловать под кат!<br />
<a target="_blank" name="habracut"></a><br />
<h2>Начало</h2><br />
Очень сложно начинать короткий рассказ о компании с насыщенной историей так, чтобы ничего не забыть и не сильно вдаваться в детали. Детали оставим для будущих статей, в которых постараемся подробнее раскрыть те или иные вопросы. Если у вас есть особые или интересные темы, о которых вы бы хотели услышать от разработчиков Avito, пишите о них в комментариях — мы обязательно затронем эти вопросы.<br />
<br />
Как и в случае многих больших проектов, история Avito начиналась с небольшой команды. Первая версия сайта была запущена в 2007-ом году, и первые шаги были полны проб и ошибок. В текущем виде сайт сформировался лишь два года спустя. Сервис начинал создаваться силами всего 4 разработчиков, которые занимались абсолютно всем, от инфраструктуры до клиентской части. Сайт 2009-го года вряд ли можно было бы отправить на конкурс «Лучший сайт чего-бы-то-ни-было». Но этот результат до сих пор вызывает чувство ностальгии у причастных к нему. Как и определенную гордость, ведь это было сделано малым количеством ресурсов, но достаточно для того, чтобы заявить о себе и заложить фундамент успешной компании.<br />
<br />
Сложно представить, но до 2012-го года размер команды разработки практически не менялся. Однако проект становился все больше, и это стало необходимостью. Так с 2012-го команда начала активно расти, увеличиваясь в разы. Появилось деление на специализации, направления, проекты, команды, группы. Сейчас над Avito трудится департамент из более чем 250 специалистов.<br />
<br />
<h2>Avito сегодня</h2><br />
Сегодня Avito стабильно входит в <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://mediascope.net/services/media/media-audience/internet/information/">топ-5 площадок рунета</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://techcrunch.com/2015/10/23/naspers-buys-majority-stake-in-russian-classifieds-site-avito-for-1-2b/">топ-3 мировых классифайдов</a> по версии <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.nasdaq.com/video/avito-ranks-with-craigslist-in-online-classified-ads--sees-revenue-doubling-518458153">различных</a> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.rbc.ru/special/business/14/12/2015/5669bbdc9a79472e718fd6df?from=typeindex%2Farticle_specproject">источников</a>. Ежемесячно через web и мобильные приложения сервис обслуживает более 35 миллионов пользователей, которые ежедневно публикуют около миллиона новых объявлений (в “бэк-офисе” их накопилось уже более миллиарда), совершают более 100 тысяч сделок. По <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://yandex.ru/company/researches/2016/ya_internet_regions_2016#polzovanieinternetomvraznyxgorodax">данным Яндекса</a>, в некоторых городах России (например, в Москве), по числу просмотров страниц Avito опережает всех, включая социальные сети.<br />
<img src="https://habrastorage.org/files/191/dc7/e09/191dc7e095734e97a62c2f14de0d265b.png" alt="image" /><br />
<br />
Avito является высоконагруженным проектом. Немного цифр, чтобы оценить масштаб: 300+ серверов, 10TB в postgres, 270TB картинок, 13Gbit/s трафика вечером в пике, около миллиона запросов к бекенду в минуту. Поэтому экспертиза в области обработки данных является одной из самых критичных для наших бизнес-процессов. При этом стоит понимать, что такие объемы данных нужно не только накапливать и хранить, но и обрабатывать, фильтровать, классифицировать и обеспечивать поиск по ним. Эффективно справляться со всеми задачами не может один-единственный инструмент, потому используется ряд решений, таких как: PostgreSQL, Tarantool, Vertica, MongoDB, Redis и прочие системы хранения. Мы обязательно поделимся рассказами про особенности архитектуры в будущих статьях. Пока же можно ознакомиться с докладами, в которых наши коллеги делятся своим опытом:<br />
<ul>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=2LDAcGZRAEM&feature=youtu.be&t=1h1m40s">PostgreSQL в архитектуре Avito</a>», Михаил Тюрин (PostgreSQLRussia Meetup 2014)</li>
<li>Слайды доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/ssuserdc9298/devconf15">Avito.ru объявления и postgres</a>», Михаил Тюрин (DevConf 2015)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/1RS6GvK-JfU?t=51m40s">Сегментация пользователей на Tarantool</a>», Юрий Самсонов (Tarantool Meetup 2015)</li>
<li>Слайды доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/ssuserdc9298/pgconfru-2015-avito-postgresql">Большая база объявлений</a>», Михаил Тюрин (PgConf 2015)</li>
</ul><br />
<img src="https://habrastorage.org/files/dfe/8fc/02c/dfe8fc02cc484d9c966a4bc249b488a1.png" alt="image" /><br />
<br />
Много данных — это хорошо для сервиса, но большая проблема для пользователя – как найти нужное? В этом помогает систематизация объявлений и поиск по ним. Поиск — наиболее сложная задача. И проблема здесь не столько в объемах данных, сколько в человеческом факторе. Дело в том, что пользователи постоянно ошибаются, как в описании объявлений, так и в поисковой строке. Одна из основных задач — нивелировать ошибки в описании и понять, что же имел в виду пользователь, указывая что-то в поисковой строке.<br />
<br />
Для устранения ошибок в описаниях используются различные справочники и алгоритмы коррекции, а так же более продвинутые подходы вроде компьютерного зрения. Последнее, например, с очень высокой вероятностью (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.machinelearning.ru/wiki/index.php?title=Конкурс_Avito-2016:_Распознавание_марки_и_модели_автомашин_на_изображениях/Рейтинг_участников">по некоторым категориям более 95%</a>) определяет, правильно ли пользователь выбрал категорию. Кроме того, Avito регулярно привлекает специалистов по машинному обучению для участия в конкурсах (на платформах <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.machinelearning.ru/wiki/index.php?title=Категория:Avito">machinelearning.ru</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://boosters.pro/champ_4">boosters</a> и <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.kaggle.com/c/avito-duplicate-ads-detection">kaggle</a>), целью которых является поиск наиболее эффективных алгоритмов для решения различных прикладных задач.<br />
<br />
Для полнотекстового поиска используется Sphinx, и мы регулярно делимся опытом его использования, активно участвуем в развитии технологии.<br />
<ul>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=odwttz-GBOA">Атличнаи дивчачьи каньки</a>»: исправляем ошибки», Андрей Смирнов (SphinxSearch meetup #2, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=hmaiLvaokOQ">Бэк-офис в Avito: миллиард объявлений на 10 серверах</a>», Вячеслав Крюков (SphinxSearch meetup #2, 2016)</li>
<li>Слайды доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://backendconf.ru/2016/abstracts/2100.html">Архитектура поиска в Avito</a>», Андрей Смирнов (BackendConf 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=PiMXMzsLm9g&list=PLknJ4Vr6efQExFxznmq2h0mOiKKpTqkV9&oref=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DPiMXMzsLm9g%26list%3DPLknJ4Vr6efQExFxznmq2h0mOiKKpTqkV9&has_verified=1">Sphinx tips & tricks</a>», Роман Павлушко (SphinxSearch meetup, 2015)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=PYosStXsq0I&list=PLknJ4Vr6efQExFxznmq2h0mOiKKpTqkV9&index=2&oref=https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DPYosStXsq0I%26list%3DPLknJ4Vr6efQExFxznmq2h0mOiKKpTqkV9%26index%3D2&has_verified=1">Допиливаем Sphinx на чистом С</a>», Виталий Леонов (SphinxSearch meetup, 2015)</li>
</ul><br />
Как уже упоминалось, ежедневно пользователи добавляют около миллиона новых объявлений. Но мало кто знает, что более половины из них являются спамом. Традиционно для этого используется модерация. Занятный факт: первую версию системы модерации написали всего за одну неделю, да так удачно, что с тех пор ни разу не пришлось её как-то радикально переписывать. Но, несмотря на улучшения, очевидно, что с таким объемом информации сложно справиться вручную. Поэтому используются более продвинутые методы, например, нейронные сети, которые постоянно обучаются на основе действий модераторов. Тем не менее, противостояние между спамерами и системой модерации бесконечно, и этому мы посвятим отдельный пост. <br />
<br />
<img src="https://habrastorage.org/files/6a1/22d/3cc/6a122d3cc8c5458d8e32d49e8b7068fa.png" alt="image" /><br />
<br />
Минутка рекламы… а точнее, поговорим о ее показе. Экономические и этические вопросы оставим для других блогов. Здесь же интересна техническая составляющая этого вопроса. Дело в том, что рекламодателям и площадкам интересна только целевая аудитория. Для ее определения используется сегментирование аудитории. Проблема в том, что пользователей и их запросов огромное количество, а чтобы определить категорию пользователя, необходимо учитывать множество критериев. При этом время на определение категории ограничено, а ее нужно вычислить и передать рекламным площадкам, провести между ними аукцион и определить рекламный блок к показу. Все это опять же связано с большим количеством данных и требованиями к времени (все должно происходить за доли секунды). Подробнее мы об этом уже рассказывали на конференциях и митапах.<br />
<ul>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/HwsBHXbirYs">Успеть за 100 миллисекунд: контекстная реклама на Sphinx</a>», Дмитрий Хасанов (BackendConf 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/2wxbpuB4EKg">Контекстная реклама в Avito: что под капотом</a>», Вадим Аюев и Андрей Остапец (Python Data Science meetup 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/3MEe5IzBJk4">Построение рекомендательной системы на Python</a>», Василий Лексин (Python Data Science meetup 2016)</li>
</ul><br />
Данные — не единственное сложное место. Бизнес и рынок диктуют все новые условия, которые превращаются во все более сложную бизнес-логику. Исторически сложилось, что бизнес-логика сервиса реализована на PHP. В прошлом году мы перешли на новую его версию — PHP7, и уже чувствуем как сервера выдохнули и стали напрягаться в три раза меньше. Сегодня PHP — не единственный серверный язык, который используется в Avito. Изначально проект был монолитным, но он уже давно развивается в сторону микросервисов. В зависимости от задачи и нагрузок используются различные языки, такие как Python и Go.<br />
<br />
Какие бы сложные задачи не решались на стороне сервера, это все скрыто от обычного пользователя. А то, что видят пользователи, работая с сервисом, делается силами фронтенд команды. Изначально сайт создавался на традиционных для того времени технологиях, серверный рендеринг и jQuery. Но не так давно мы полностью отказались от jQuery в пользу браузерных API и небольших библиотек, решающих конкретные задачи, а годом ранее начали переход на ECMA2015. Помимо этого появляются все больше веб-приложений (SPA), которые реализуются на React и basis.js. Фронтенд-разработчики так же участвуют в open source проектах (таких, например, как <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/css/csso">CSSO</a>), создают инструменты и делятся своим опытом на конференциях:<br />
<ul>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/BstzvS2xd5U">Как сделать ваш JavaScript быстрее</a>», Роман Дворнов (Highload++, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/OFKbwNc8AIw">Фронтенд в Avito</a>», Александр Лобашев (WSD Москва, 2015)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/46YeR1vlh7E">МРТ для данных</a>», Анастасия Горячева (WSD Екатеринбург, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/RQbvWRwreaQ">Сжимаем CSS</a>», Роман Дворнов (DUMP, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/dqKQhvO9EPA">О том, как не надо тестировать</a>», Иван Стрелков (FrontTalks, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/aMP6j6um4Ss">Иструментируй это</a>», Роман Дворнов (FrontTalks, 2015)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://youtu.be/HQbOTl2xPLQ?list=PLknJ4Vr6efQFV5dA3lL6ErVVDS-QoncjF">Блеск и нищета Proxy-браузеров</a>», Александр Зубов (Mobile Frontend Meetup, 2015)</li>
</ul><br />
<br />
<img src="https://habrastorage.org/files/e85/162/466/e85162466c714a9e8a9947eddcc13273.png" alt="image" /><br />
Компания Avito появилась практически вместе с зарождением мобильной платформы, какой мы знаем ее сегодня. Конечно же, сначала была только веб-версия, потом появилась веб-версия, адаптированная для мобильных устройств. Но нативные приложения – это нативные приложения, и у них есть своя специфика, которая зависит от платформы. Сегодня мобильным приложениям уделяется очень большое внимание — и мы уверены, что этот тренд будет сохраняться. Отдельные команды разрабатывают сразу несколько приложений под <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://itunes.apple.com/ru/developer/keh-ecommerce-llc/id417281776">iOS</a> и <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://play.google.com/store/apps/dev?id=6750101820856332864&hl=ru">Android</a>. Ребята подходят к вопросу разработки ответственно, делятся своим опытом на конференциях и наработками на <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/avito-tech/">GitHub</a>.<br />
<br />
Обе команды, и iOS, и Android, используют самый современный стек технологий. Во-первых, это Swift и Kotlin, которые уже практически полностью заменили в наших продуктах тяжелое наследие Java и Objective-C. Во-вторых, это инвестирование в развитие и продвижение различных инженерных практик — CI, CD, Code Review, автоматизация тестирования. В-третьих, это чистая и масштабируемая архитектура, которая позволяет нескольким группам разработчиков развивать крупный проект без возникновения коллизий и оперативно реагировать на нужды пользователей.<br />
<ul>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=CDZ5g9nH2Fk">Introducing Application Coordinator</a>», Андрей Панов (CocoaHeads, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=060ERE8ZMGI">DeepLink’и в Avito</a>», Артём Разинов (Встреча iOS-разработчиков в Avito #2, 2016)</li>
<li>Видео-запись митапа «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=8u4fZ1z4X-w">Android development with Kotlin</a>» (2016)</li>
<li>Слайды доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/MaxSokolov2/advanced-swift-generics">Advanced Swift Generics</a>», Максим Соколов (Mobius 2016)</li>
<li>Интервью с Максимом Соколовым «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/company/jugru/blog/301998/">Пора ли переходить на Swift</a>» (2016)</li>
<li>Слайды доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/AvitoTech/objectivec-swift-avito">Оптимизация скорости компиляции большого проекта на Swift+Objective-C</a>», Иван Бондарь (Встреча iOS-разработчиков в Avito, 2016)</li>
<li>Видео-запись доклада «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/watch?v=kyOm_dC038s">Удобный и расширяемый роутинг в iOS-приложении</a>», Тимур Юсипов (Встреча iOS-разработчиков в Avito #2, 2016)</li>
</ul><br />
Вначале дизайн Avito рисовали менеджеры и разработчики, но с появлением мобильных приложений стало понятно, что надо развивать это направление в компании. Сейчас у нас 15 дизайнеров интерфейсов: команда Avito и команда профессиональных инструментов Acti.<br />
Дизайн и разработка интерфейсов для такого большого продукта — очень сложный и интересный процесс. Вся работа строится в плотном взаимодействии с разработкой, есть множество ограничений со стороны платформы, и их надо учитывать. Дизайнеры всегда стараются найти оптимальное решение с точки зрения удобства пользователя, бизнеса, разработки и сроков.<br />
<br />
Ребята не только рисуют макеты, но и пишут собственные приложения, плагины, разрабатывают сложные интерактивные прототипы, участвуют в разработке дизайн-платформы. На некоторые каверзные вопросы дизайнеры <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://vc.ru/p/avito-ama">ответили в статье на vc.ru</a>.<br />
<br />
Тестирование в Avito появилось не сразу, первые QA-специалисты присоединились к команде в 2012-ом году. Сегодня в ней более 40 человек, треть из которых — автоматизаторы. Набор инструментов достаточно стандартный: PHP + PHPUnit, Selenium, Selendroid. Для организации взаимодействия между тестировщиками и разработчиками используется самописный инструмент “Avito.Cthulhu”, который позволяет хранить тест-кейсы, распределять задачи, отслеживать задачи, вернувшиеся на тестирование. <br />
<br />
Итак, мы вкратце пробежались по отдельным направлениям разработки сервиса, хотя многое ещё осталось за кадром. Обещаем в скором времени исправить этот недостаток! <br />
<br />
<h2>Вместо заключения</h2><br />
Узнать больше про техническую кухню Avito можно из докладов наших разработчиков на ведущих конференциях и митапах. Кроме того, мы регулярно организуем встречи разработчиков в нашем офисе и хостим ивенты независимых сообществ, таких как MoscowJS, CocoaHeads, PostgreSQLRussia, Tarantool, Moscow SPA meetup и других. Анонсы всех событий и новости мы публикуем в нашем технологическом <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://twitter.com/AvitoTech">твиттер-канале AvitoTech</a>, там же выкладываем ссылки на итоговые материалы. Записи со встреч, которые проходили в нашем офисе, можно найти на нашем <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.youtube.com/c/AvitoTech">Youtube-канале</a>. Пишите в комментариях, с какой стороны вам было бы интересно узнать об Avito, и мы это обязательно учтём ваши пожелания при подготовке следующих постов. До новых встреч!
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321796/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/B7cRfmzIooo" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321796/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321796/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке php" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','php',
      '719','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','php');">
   <a rel="tag" href="//www.liveinternet.ru/tags/php/">php</a>
 </span>  <span title="Поиск по метке базы данных" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','базы данных',
      '2077','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%E0%E7%FB+%E4%E0%ED%ED%FB%F5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%E0%E7%FB+%E4%E0%ED%ED%FB%F5/">базы данных</a>
 </span>  <span title="Поиск по метке postgresql" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','postgresql',
      '192968','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','postgresql');">
   <a rel="tag" href="//www.liveinternet.ru/tags/postgresql/">postgresql</a>
 </span>  <span title="Поиск по метке avito" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','avito',
      '1625023','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','avito');">
   <a rel="tag" href="//www.liveinternet.ru/tags/avito/">avito</a>
 </span>  <span title="Поиск по метке avito.ru" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','avito.ru',
      '1625024','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','avito.ru');">
   <a rel="tag" href="//www.liveinternet.ru/tags/avito.ru/">avito.ru</a>
 </span>  <span title="Поиск по метке sphinx" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','sphinx',
      '1734245','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','sphinx');">
   <a rel="tag" href="//www.liveinternet.ru/tags/sphinx/">sphinx</a>
 </span>  <span title="Поиск по метке высокая производительность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','высокая производительность',
      '3492749','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%FB%F1%EE%EA%E0%FF+%EF%F0%EE%E8%E7%E2%EE%E4%E8%F2%E5%EB%FC%ED%EE%F1%F2%FC/">высокая производительность</a>
 </span>  <span title="Поиск по метке qa" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','qa',
      '4553199','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','qa');">
   <a rel="tag" href="//www.liveinternet.ru/tags/qa/">qa</a>
 </span>  <span title="Поиск по метке backend" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','backend',
      '6055940','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','backend');">
   <a rel="tag" href="//www.liveinternet.ru/tags/backend/">backend</a>
 </span>  <span title="Поиск по метке мобильная разработка" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','мобильная разработка',
      '6770494','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%EE%E1%E8%EB%FC%ED%E0%FF+%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%EE%E1%E8%EB%FC%ED%E0%FF+%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0/">мобильная разработка</a>
 </span>  <span title="Поиск по метке frontend" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','frontend',
      '6895394','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','frontend');">
   <a rel="tag" href="//www.liveinternet.ru/tags/frontend/">frontend</a>
 </span>  <span title="Поиск по метке разработка мобильных приложений" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','разработка мобильных приложений',
      '8121492','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9/">разработка мобильных приложений</a>
 </span>  <span title="Поиск по метке author oldtuna" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','author oldtuna',
      '21149252','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+oldtuna');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+oldtuna/">author oldtuna</a>
 </span>  <span title="Поиск по метке блог компании avito" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684919','блог компании avito',
      '21149253','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+avito');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+avito/">блог компании avito</a>
 </span> 
<span id="DI_TAG_408684919">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684919"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684919+"=0;");
document.getElementById('post408684919').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684919);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684919;r="+Math.random();
        eval("serg_post"+408684919+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684917" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684917&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684917" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684917" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684917" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684917" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684917"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684917"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684917">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684917">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684917">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684917">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684917&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684917&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684917" id="blLi_ppan-like_408684917">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684917&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684917" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684917').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684917" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684917">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684917" id="updateForm408684917" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684917/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" class="TTL"><b>[Перевод] Знакомство с Styled components </b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 13:38 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684917/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684917&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684917links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        «Предлагаем вашему вниманию перевод свежей ознакомительной статьи Cаши Грифа (Sacha Greif), соавтора книги «Discover Meteor», о специфике работы с библиотекой Styled components.<br />
СSS – странная штука. Его основам можно обучиться за 15 минут, но на то, чтобы найти хороший способ организации стилей, могут уйти годы. <br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/cbd/b65/f50/cbdb65f50f6a41e9b5e125d54a185869.jpeg" /></div><br />
<br />
Отчасти это объясняется особенностями самого языка. В своем исходном виде CSS довольно ограничен — никаких переменных, циклов или функций. В то же время, он развязывает вам руки, обеспечивая возможность задавать стиль элементам, классам, ID или любым их комбинациям. <br />
<br />
<a target="_blank" name="habracut"></a><br />
<img src="https://habrastorage.org/files/4ec/85f/e52/4ec85fe5248743ea85cd4b0e292e3e87.png" /><br />
<br />
<b>Хаотичные листы стилей</b><br />
Как вы, должно быть, уже испытали на себе, это нередко приводит к полной неразберихе. И хотя препроцессоры, такие, как SASS и LESS, добавляют много полезных функций, они не в состоянии подавить анархию в CSS.<br />
<br />
Эта организационная работа была предоставлена таким методологиям как BEM, которые – хоть и полезны в этом отношении – все же не являются обязательными и не могут быть внедрены более универсально, на уровне языка или инструментов. <br />
<br />
<b>Новая волна CSS</b><br />
<br />
Перемотаем на пару лет вперед: новая волна инструментов на базе JavaScript пытается решить эти трудности коренным образом, изменяя сам способ написания CSS.<br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/styled-components/styled-components">Styled Components</a> — это одна из таких библиотек, которая быстро привлекла к себе внимание масс из-за присущей ей смеси инноваций с привычностью. Поэтому, если вы используете React (а если нет, советую ознакомиться с моими статьями «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://medium.freecodecamp.com/a-study-plan-to-cure-javascript-fatigue-8ad3a54f2eb1">Учебный план по JavaScript</a>» и «<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://medium.freecodecamp.com/the-5-things-you-need-to-know-to-understand-react-a1dbd5d114a3#.f7tqfmz2v">Введение в React</a>»), вам однозначно стоит взглянуть на эту альтернативу CSS.<br />
<br />
Я недавно использовал Styled Components для редизайна личного <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://sachagreif.com/">сайта</a> и хочу поделиться некоторыми моментами, которые я для себя выделил в процессе работы.<br />
<br />
<b>Components, Styled</b><br />
<br />
Главное, что нужно иметь в виду при работе с Styled Components – название следует понимать практически буквально. Вы больше не стилизуете элементы HTML или компоненты на основании их класса или HTML-элемента:<br />
<br />
<pre><code><h1 classname="title">Hello World</h1>
h1.title{
  font-size: 1.5em;
  color: purple;
}</code></pre><br />
<br />
Вместо этого вы определяете стилизованные компоненты, которые имеют свои собственные инкапсулированные стили. Далее вы свободно используете эти стили по всему коду: <br />
<br />
<pre><code>import styled from 'styled-components';
const Title = styled.h1`
  font-size: 1.5em;
  color: purple;
`;
</code></pre><br />
<br />
Разница как будто бы небольшая, и по факту оба синтаксиса очень похожи. Но ключевое отличие состоит в том, что стили теперь являются частью компонента. Другими словами, мы избавляемся от CSS-классов как от промежуточного этапа между компонентом и его стилями.<br />
<br />
Как сказал один из создателей Styled-components Макс Стойбер:<br />
<br />
<blockquote>«Основная идея styled-components заключается в том, чтобы внедрить лучшие практики путем удаления мэппинга между стилями и компонентами». </blockquote><br />
<br />
<b>Снижение сложности</b><br />
<br />
Сначала это кажется нелогичным, ведь весь смысл использования CSS вместо того, чтобы стилизовать HTML-элементы напрямую (помните тэг font?), был в том, чтобы разделить стили и разметку путем введения классов как промежуточного слоя.<br />
<br />
Но подобное разъединение также создает много сложностей, и на этом основании можно утверждать, что «настоящий» язык программирования — такой, как JavaScript, — больше подходит для того, чтобы исправить эти трудности, чем CSS.<br />
<br />
<b>Props, а не классы</b><br />
<br />
Придерживаясь этой «не-классовой» философии, styled-components используют props вместо классов для всего, что касается кастомизации поведения компонента.<br />
<br />
Итак, вместо этого: <br />
<br />
<pre><code><h1 classname="title primary">Hello World</h1> // will be blue
h1.title{
  font-size: 1.5em;
  color: purple;
  
  &.primary{
    color: blue;
  }
}</code></pre><br />
<br />
Вы пишете это: <br />
<br />
<pre><code>const Title = styled.h1`
  font-size: 1.5em;
  color: ${props => props.primary ? 'blue' : 'purple'};
`;
 // will be blue
</code></pre><br />
<br />
Как видите, styled-components позволяют вам очистить компоненты в React, вынося все, что связано с имплементацией CSS и HTML, за их пределы.<br />
<br />
Тем не менее, styled-components CSS – это все-таки тоже CSS. Поэтому такой код тоже вполне приемлем, хотя и не совсем обычен:<br />
<br />
<pre><code>const Title = styled.h1`
  font-size: 1.5em;
  color: purple;
  
  &.primary{
    color: blue;
  }
`;
 // will be blue
</code></pre><br />
<br />
Это одна из особенностей, которая делает styled-components очень простым для понимания инструментом: когда закрадываются сомнения, вы всегда можете вернуться к тому, что знаете!<br />
<br />
<b>Оговорки</b><br />
<br />
Важно также отметить, что styled-components еще молодой проект и некоторые его фишки до сих пор не поддерживаются полностью. Например, если вы хотите повторить стиль родительского компонента в дочернем, на данный момент вам придется воспользоваться CSS классами (по крайней мере, пока не выйдет styled-components v2).<br />
<br />
Также сейчас не существует «законного» способа, чтобы проводить предварительный рендеринг на вашем CSS на сервере, хотя это определенно можно сделать путем введения стилей вручную. <br />
<br />
Кроме того, styled-components создают свои рандомные имена классов, что может сделать затруднительным использование «инструментов разработчика» вашего браузера для поиска первоначального определения места отображения ваших стилей.<br />
<br />
Но явно обнадеживает то, что команда разработчиков в курсе данных проблем и активно работает, чтобы их исправить. Скоро выходит вторая версия, и я ее очень жду!<br />
<br />
<b>Узнайте больше</b><br />
<br />
Моя цель в этой статье заключалась не в том, чтобы детально объяснить, как работают styled-components, а больше в том, чтобы дать маленькую наводку, чтобы вы сами могли решить, интересно ли вам это.<br />
<br />
Если мне удалось пробудить в вас интерес, вот некоторые ресурсы, на которых вы можете узнать о styled-components больше:<br />
<br />
<ul>
<li>Макс Стойбер недавно написал статью о смысле styled-components на ресурсе <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.smashingmagazine.com/2017/01/styled-components-enforcing-best-practices-component-based-systems/">Smashing Magazine</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/styled-components/styled-components">Репозиторий</a> styled-components сам по себе имеет обширную документацию</li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://medium.com/@jamiedixon/styled-components-production-patterns-c22e24b1d896#.fp2hs1tcg">Статья Джеми Диксона</a> показывает несколько плюсов использования styled-components</li>
<li>Если вы хотите узнать больше о том, как библиотека работает на практике, прочитайте вот <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://mxstbr.blog/2016/11/styled-components-magic-explained/">эту статью</a> от Макса.</li>
</ul><br />
<br />
И если вы вдруг захотите углубиться в тему, можете также посмотреть <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/threepointone/glamor">Glamor</a> – другой взгляд на CSS новой волны!»
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321804/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321804/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321804/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/hB0npR7L20k" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321804/' target=_blank>https://habrahabr.ru/post/321804/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author EverydayTools" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','author EverydayTools',
      '20681387','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+EverydayTools');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+EverydayTools/">author EverydayTools</a>
 </span>  <span title="Поиск по метке html" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','html',
      '49','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','html');">
   <a rel="tag" href="//www.liveinternet.ru/tags/html/">html</a>
 </span>  <span title="Поиск по метке css" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','css',
      '203','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','css');">
   <a rel="tag" href="//www.liveinternet.ru/tags/css/">css</a>
 </span>  <span title="Поиск по метке блог компании everyday tools" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','блог компании everyday tools',
      '20681388','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+everyday+tools');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+everyday+tools/">блог компании everyday tools</a>
 </span>  <span title="Поиск по метке styled components" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','styled components',
      '21149251','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','styled+components');">
   <a rel="tag" href="//www.liveinternet.ru/tags/styled+components/">styled components</a>
 </span>  <span title="Поиск по метке верстка" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','верстка',
      '21757','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E2%E5%F0%F1%F2%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E2%E5%F0%F1%F2%EA%E0/">верстка</a>
 </span>  <span title="Поиск по метке javascript" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','javascript',
      '134','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','javascript');">
   <a rel="tag" href="//www.liveinternet.ru/tags/javascript/">javascript</a>
 </span>  <span title="Поиск по метке библиотека" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','библиотека',
      '43','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%E8%E1%EB%E8%EE%F2%E5%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%E8%E1%EB%E8%EE%F2%E5%EA%E0/">библиотека</a>
 </span>  <span title="Поиск по метке github" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684917','github',
      '3284504','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','github');">
   <a rel="tag" href="//www.liveinternet.ru/tags/github/">github</a>
 </span> 
<span id="DI_TAG_408684917">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684917"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684917+"=0;");
document.getElementById('post408684917').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684917);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684917;r="+Math.random();
        eval("serg_post"+408684917+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684914" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684914&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684914" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684914" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684914" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684914" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684914"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684914"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684914">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684914">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684914">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684914">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684914&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684914&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684914" id="blLi_ppan-like_408684914">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684914&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684914" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684914').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684914" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684914">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684914" id="updateForm408684914" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684914/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" class="TTL"><b>От мультиканальности к омниканальности</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 13:11 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684914/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684914&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684914links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <i>Платон Бегун, руководитель направления контактных центров <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.cti.ru/">CTI</a></i><br />
<br />
В последнее время замечаю, как общается с друзьями моя 18-ти летняя дочь – чаты, соцсети, постоянная переписка. В метро – та же картина. Уже сейчас выросло целое «Поколение Y», люди от 17 до 35 лет, которые не представляют себе общение с друзьями без цифровых коммуникаций (чаты, социальные сети) и предпочитают такой способ общения телефонным звонкам. <br />
<br />
Логично, что это поколение как клиент ожидает возможности общения с компаниями в привычном стиле. И многие организации в своих контактных центрах внедряют решения для коммуникации с клиентами, например, с помощью чата. Но, как показывают исследования, цифровые каналы общения слабо интегрированы с основной платформой контактного центра, хуже мониторятся и служат в основном для примитивного справочно-информационного обслуживания. То есть внедрение производится по принципу «чтобы было». С другой стороны, в индустрии контактных центров уже достаточно давно обсуждается концепция omni channel, которая призвана устранить неравенство в процессах обслуживания по голосовым и текстовым (цифровым) каналам.<br />
<br />
<img src="https://habrastorage.org/files/768/690/a91/768690a911384c2498cf32451fdf43f7.jpg" /> <a target="_blank" name="habracut"></a><br />
 <br />
<b>Как возникла омниканальность: «omni» — существующий повсюду<br />
</b>До контактных центров (КЦ) были колл-центры – они занимались обработкой исключительно телефонных звонков, это были входящие, исходящие оповещения. С появлением IP-технологий была реализована идея контакт-центров на принципах работы IP-телефонии. IP характеризуется тем, что по одному и тому же протоколу передается голос, видео, данные. И в КЦ появилась возможность использовать одних и тех же операторов для обработки обращений по разным каналам: звонки, e-mail, чаты. Видео-контактные центры широкого распространения не получили, тем не менее такая технологическая возможность тоже появилась. «Колл» превратился в «контакт» центр и стал мультиканален. <br />
<br />
Омниканальность возникла в продолжение развития мультиканальности. Основной базис концепции «omni канальности» применительно к контактным центрам, по сравнению с мультиканальным обслуживанием, можно сформулировать так: <b>«omni» – это мультиканальность + контекст</b>. <br />
<br />
<img src="https://habrastorage.org/files/7e9/d18/42c/7e9d1842ce4c44128d53750f5b8cb3eb.jpg" /><br />
<br />
Если смотреть шире, то «omni» основывается на следующих постулатах:<br />
<ol>
<li>Возможность для клиента получать доступ ко всем услугам контактного центра независимо от канала обращения в КЦ. То есть клиент может провести любую операцию как через звонок в КЦ, так и через чат, e-mail или другой удобный для себя канал общения с компанией.</li>
<li>В КЦ и компании в целом должна поддерживаться возможность передачи контекста обращения клиента при его общении с компанией по различным каналам доступа. Должна быть организована единая база данных по истории обращений клиента. Чем эти обращения закончились и закончились ли.</li>
<li>Клиент должен иметь возможность перехода из канала в канал без потери контекста конкретного обращения. Пример: клиент в личном кабинете на сайте начинает оформлять услугу (например, заполняет анкету на кредит). Затем, не закончив заполнение анкеты, он может прерваться и уйти с сайта, чтобы продолжить работу над анкетой через мобильное приложение или чат. А закончиться процесс может с помощью заказа обратного звонка, чтобы клиент мог получить ответ на какой-либо свой вопрос.</li>
</ol><br />
<b>Кому и зачем нужен omni channel?<br />
</b><br />
Важность концепции омниканальности в процессе обслуживания сложно недооценить: обладая информацией о поведении клиента можно предвидеть его действия. Таким образом, формируется база лояльных клиентов.<br />
<br />
Проводя мониторинг сообщений в соцсетях и сравнивая его с имеющейся базой контекста обращений клиентов, можно эффективно гасить негативные настроения. Чем отличается российский потребитель? В случае недовольства он просто уйдет, не будет сообщать компании, что были проблемы. Внедряя бизнес-процессы омниканального обслуживания, такие ситуации можно отслеживать и включать в стратегию удержания клиентов или корректировки текущих бизнес-процессов обслуживания, выявляя системные проблемы. <br />
<br />
А для клиента важно, что его узнают, владеют информацией о его предпочтениях и могут предложить что-то полезное. Когда в процессе заказа он переходит из канала в канал, ему не надо дублировать информацию, а это большая экономия времени. Оператор уже знает, зачем клиент к нему обратился. Все это повышает качество обслуживания и удобство общения клиента с компанией, а значит и лояльность. Полезность высоколояльных клиентов неоспорима для любой компании.<br />
 <br />
<b>Как реализовать концепцию омниканальности без технологий?<br />
</b><br />
Реализация концепции омниканальности требует наличия определенных технологических решений. Но это всего 20% концепции. 80% – правильно выстроенные бизнес-процессы. <br />
<br />
Выступая на конференциях по этой теме, я спрашиваю у аудитории: <br />
 — Кто считает, что в их контактном центре внедрена концепция omni channel?<br />
Руку, как правило, не поднимает никто. <br />
 — А кто делает смс-рассылки?<br />
Руки поднимает большинство. <br />
<br />
<img src="https://habrastorage.org/files/7c5/cee/639/7c5cee639c5046eb8c32e176a65c9b8c.jpg" /><br />
<br />
Предположим, вы отсылаете клиенту информацию со спецпредложением. В данном случае цель рассылки – сгенерировать обращение клиента в компанию, заинтересовать его, чтобы он обратился и совершил покупку. Вдруг в течение 15 минут поступает несколько звонков в КЦ, на стандартный номер компании с номеров клиентов, номера которых совпадают с рассылкой. Очень высока вероятность того, что клиент, получив информацию, решил позвонить. А дальше – вы такие звонки ведете по обычному пути? «Здравствуйте, вы позвонили в компанию…, выберите пункт меню».<br />
<br />
Либо вы сразу отлавливаете эту ситуацию, без входящего стандартного меню переводите клиента на определенную группу операторов, которые специализируются на конкретном вопросе. И оператору одновременно выводите на экран информацию о том, что звонит клиент, которому 15 мин назад отправили смс с предложением услуги, условия такие и т.д. И оператор его уже встречает подготовленный. Это бизнес-процесс, заточенный на то, чтобы сначала по одному каналу направили информацию клиенту, получили звонок, отследили контекст (почему он может к нам обратиться), тут же применили соответствующую методику обработки такого запроса – вот <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.cti.ru/ru/activities/news/omnichannel-is-a-key-trend-in-customer-service-cti/">omni channel</a>, соответствующий практически всем критериям. <br />
<br />
Спрашиваю зал: <br />
– У вас такое есть? <br />
Поднимают руки очень мало людей. А реализовать это достаточно просто. У вас уже есть база данных рассылки. В системе маршрутизации при получении звонка сделайте запрос – не из этой ли базы звонок? С точки зрения техники внедрять ничего не надо. А omni channel уже работает. <br />
<br />
Для полной реализации концепции омниканальности нужна реализация трех вышеперечисленных пунктов. Для этого уже нужна специализированная база, которая хранит контекст сообщения, и специализированные решения, которые через чат позволяют получать хотя бы тот же уровень обслуживания, как при обращении по телефону. <br />
<br />
Омниканальность можно начинать встраивать потихонечку, не внедряя ничего нового. Чтобы компании понимали, что omni channel – это не страшный зверь. Если начинать идти в этом направлении, подстраивая бизнес-процессы, приучая себя прежде всего, как компанию, что с клиентами надо работать именно так, то дальнейшие шаги будут легче. Более плотное внедрение омниканальности предусматривает соответствующие технологии, без которых трудно реализовать более сложные кейсы, чем с смс-рассылками.<br />
 <br />
<b>Вывод<br />
</b><br />
От omni channel не уйдет никто. Компаниям нужно внедрять эту концепцию уже сегодня без каких-то существенных затрат на новые технологии. Начинать надо именно с бизнес-процессов и поискать те кусочки этой концепции, которые можно реализовать уже сейчас. Дальше – посмотреть, что можно внедрить следующим шагом. На сегодня наиболее востребованным каналом общения стали чаты, начинать надо с них. <br />
<br />
Главное – отстраивать эти процессы, ориентируясь на то, что в итоге в КЦ будет внедрена полнофункциональная система омниканальности. Проектировать надо с запасом, чтобы сразу была база для хранения контекста. Это важно, чтобы при следующем шаге не наткнуться на то, что с технологической точки зрения все, что сделано было ранее, надо сломать и переделать.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321788/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321788/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321788/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/Pj_KIWbNPpk" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321788/' target=_blank>https://habrahabr.ru/post/321788/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке управление проектами" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','управление проектами',
      '1484','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%EF%F0%EE%E5%EA%F2%E0%EC%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%EF%F0%EE%E5%EA%F2%E0%EC%E8/">управление проектами</a>
 </span>  <span title="Поиск по метке чаты" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','чаты',
      '1506','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F7%E0%F2%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F7%E0%F2%FB/">чаты</a>
 </span>  <span title="Поиск по метке управление продажами" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','управление продажами',
      '488142','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%EF%F0%EE%E4%E0%E6%E0%EC%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%EF%F0%EE%E4%E0%E6%E0%EC%E8/">управление продажами</a>
 </span>  <span title="Поиск по метке колл-центры" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','колл-центры',
      '18028647','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EE%EB%EB-%F6%E5%ED%F2%F0%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EE%EB%EB-%F6%E5%ED%F2%F0%FB/">колл-центры</a>
 </span>  <span title="Поиск по метке контактные центры" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','контактные центры',
      '18924069','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EE%ED%F2%E0%EA%F2%ED%FB%E5+%F6%E5%ED%F2%F0%FB');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EE%ED%F2%E0%EA%F2%ED%FB%E5+%F6%E5%ED%F2%F0%FB/">контактные центры</a>
 </span>  <span title="Поиск по метке мультиканальность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','мультиканальность',
      '19327361','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%F3%EB%FC%F2%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%F3%EB%FC%F2%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC/">мультиканальность</a>
 </span>  <span title="Поиск по метке управление e-commerce" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','управление e-commerce',
      '20042054','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+e-commerce');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+e-commerce/">управление e-commerce</a>
 </span>  <span title="Поиск по метке омниканальность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','омниканальность',
      '21149246','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EE%EC%ED%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EE%EC%ED%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC/">омниканальность</a>
 </span>  <span title="Поиск по метке author cti" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','author cti',
      '21149248','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+cti');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+cti/">author cti</a>
 </span>  <span title="Поиск по метке omni channel" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','omni channel',
      '21149249','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','omni+channel');">
   <a rel="tag" href="//www.liveinternet.ru/tags/omni+channel/">omni channel</a>
 </span>  <span title="Поиск по метке платон бегун" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684914','платон бегун',
      '21149250','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%EB%E0%F2%EE%ED+%E1%E5%E3%F3%ED');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%EB%E0%F2%EE%ED+%E1%E5%E3%F3%ED/">платон бегун</a>
 </span> 
<span id="DI_TAG_408684914">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684914"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684914+"=0;");
document.getElementById('post408684914').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684914);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684914;r="+Math.random();
        eval("serg_post"+408684914+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684913" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684913&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684913" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684913" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684913" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684913" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684913"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684913"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684913">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684913">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684913">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684913">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684913&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684913&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684913" id="blLi_ppan-like_408684913">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684913&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684913" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684913').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684913" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684913">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684913" id="updateForm408684913" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684913/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" class="TTL"><b>Дмитрий Сорин, Senior Software Engineer в Atlassian, поделился впечатлениями о пяти годах работы в «Яндексе»</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 13:03 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684913/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684913&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684913links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <div><blockquote style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0462962962963% 0; text-align:center; width:100%;"> <div></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.instagram.com/p/BPr5LBkDX_N/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_blank">Я проработал здесь пять лет и все еще не могу отвыкнуть говорить "мы" и "у нас". Это была славная охота. Слишком много хочется сказать и слишком сильно накрывает #yabudni</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">A post shared by Dmitry Sorin (@staypositive_ru) on <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2017-01-25T11:34:05+00:00">Jan 25, 2017 at 3:34am PST</time></p></div></blockquote>
</div><br />
<i>Дмитрий Сорин, сейчас работающий в сиднейском офисе Atlassian и переехавший спустя пять лет работы в «Яндексе», поделился <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://medium.com/@1999/про-яндекс-и-не-только-1c3e110454d0#.d1z0jdejy">в публикации на Medium</a> собственными впечатлениями и накопленным за это время опытом. Данный материал перепечатывается без изменений с разрешения автора.</i><br />
<br />
<h3>Про Яндекс и не только</h3><br />
В начале 2012 года я переехал из Санкт-Петербурга в Москву, чтобы начать работать в московском Яндексе. За последующие пять лет я поработал разработчиком расширений для Firefox и не только (участвовал в разработке Яндекс.Бара, Элементов и Визуальных Закладок для Firefox и Chrome), руководил разработкой фронтенда Телепрограммы (tv.yandex.ru), нового КиноПоиска (то, что сейчас находится на домене plus.kinopoisk.ru) и многих внутренних проектов Кино и ТВ, обучал ручных тестировщиков писать автотесты. В январе 2017 я уволился из Яндекса и переехал в Сидней, чтобы начать работать в Atlassian на позиции Senior Software Engineer.<br />
<br />
Этот пост — квинтэссенция моего опыта работы в Яндексе за пять лет. Мне повезло работать с классными специалистами, которые многому меня обучили. Также мне повезло поработать не только разработчиком, но и получить опыт руководства — т.н. «people management», когда именно команда, а не код, становится главным фокусом. Здесь может чего-то не хватать, но это то, что хочется сохранить, чтобы потом иметь возможность возвращаться и проверять себя.<br />
<a target="_blank" name="habracut"></a><br />
<h3>Трудно ли попасть в Яндекс</h3><br />
Попасть трудно, но возможно. Лично я прошёл около 6 собеседований, причём первые два завалил. Тут есть единственное правило: пробуйте, заваливайте собеседования, подтягивайте слабые места и снова пробуйте. За пять лет работы в Яндексе я собеседовал множество кандидатов, но тех, которые поработали над ошибками и пришли ещё раз, было крайне мало. Очень важен позитивный настрой: не нужно переживать, что вы чего-то не знаете: даже те, кто собеседует вас, наверняка знают не всё. Важно желание решить поставленную задачу, умение обучаться, позитивный настрой и упорство.<br />
Лично для меня <i>позитивный</i> и <i>конструктивный настрой</i> кандидатов был самым важным моментом в собеседованиях. Конечно же это не отменяет момента, что к собеседованиям нужно готовиться.<br />
<br />
<h3>В компании есть много специалистов более высокого уровня, чем вы</h3><br />
В это тяжело поверить особенно на старте, ведь вы такой классный специалист. Важный момент здесь: это не означает, что вы бесполезны. Это означает, что здесь есть у кого учиться и с 99% вероятностью этот парень, который рассказывает вам про «blue green deployment», знает о чём говорит. При правильном <i>позитивном и конструктивном</i> подходе это вам очень поможет: здесь есть куда расти и у кого учиться.<br />
<br />
<h3>Зарплаты в Яндексе</h3><br />
Есть такая расхожая история про то, что в Яндексе зарплаты немного ниже, чем по рынку. Если упрощать, то наверное можно сказать, что отношение к этому в компании следующее: да, зарплаты чуть ниже, но у нас отличные внутренние сервисы, прекрасные люди и профессионалы, компенсация за еду и отличный соцпакет. Это компенсирует проседание зарплаты, но в целом по России разработчикам в Яндексе платят очень неплохо. Если бы я ушёл в Mail.Ru / Jetbrains, моя зарплата не стала бы сильно больше.<br />
<br />
Вообще же зарплаты в большом Яндексе (поисковый портал) теперь изменяются на ревью раз в полгода-год и кажется это скорее хорошо, чем плохо. Но про это лучше знают те, кто остался работать в компании.<br />
<br />
За полгода до увольнения я получил свои первые RSU (именно получил, а не дождался вестинга, то есть до вестинга первой четверти я не доработал полгода). Да, они есть и разработчики с определённого грейда могут их получать по результатам ревью и не только. Получить RSU вполне возможно. Для этого нужно чтобы совпали две вещи: быть классным и ценным сотрудником + иметь адекватного руководителя, который заинтересован в своей команде. Если у вас нет RSU, но вам кажется что могло бы быть, всегда можно поговорить со своим руководителем — хуже от этого точно не будет.<br />
<br />
<h3>Work-life balance — точно не про Яндекс</h3><br />
Это сугубо личное ИМХО, но если вы считаете, что сможете нормально совмещать работу и личную жизнь, работая в Яндексе, продвигаться по карьерной лестнице и попутно увеличивать з/п, то я в этом сильно сомневаюсь. Здесь все выстроено на максимальную производительность, здесь горят проектами, любят фигачить на убой, могут <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.facebook.com/sbmaxx/posts/10154403515023932?pnref=story">писать код по ночам</a> и на выходных дома.<br />
<br />
С другой стороны у меня есть немало примеров яндексоидов, которые живут в Москве, растят детей и ездят в офис именно как на работу. Так что это сильно зависит от вашего отношения к работе и продукта, над которым ваша команда будет работать.<br />
<br />
<h3>В компании много различных проектов</h3><br />
Когда надоедает работать в одном проекте, всегда есть возможность перейти в другой с помощью ротации и это не есть что-то плохое. Случается всякое: надоел продукт, руководитель жестокий тиран, не устраивает технологический стек. В этом плане в компании все достаточно хорошо: наши HR настоящие котики: они обычно находят место, в котором вам понравится. Так в свое время я попал в медиасервисы, где обрёл совершенно новую команду.<br />
<br />
Когда вы приходите работать в Яндекс, допрашивайте ваших будущих потенциальных коллег на финальном собеседовании максимально подробно: какие планы у продукта, как устроено планирование и взаимодействие между командами, какого вектора развития придерживается ваша будущая команда. Хорошо бы поговорить лично с будущим руководителем. Яндекс большой — разработка в одной части компании может быть вполне себе живой и современной, и совершенно задавленной и никому не нужной в другой.<br />
<br />
<h3>Как получить повышение</h3><br />
Мне это было совершенно непонятно на старте и только сейчас поработав руководителем я могу сказать что-то конкретное по этому поводу. Нужно фигачить по плану, не спорить с руководителем по мелочам (вообще стоит верить своему руководителю) и капелька удачи.<br />
<br />
<ul>
<li>Фигачить по плану. От вас ожидают закрытия задач в высоком темпе с высоким качеством. Также ваша работа должна быть предсказуемой, чтобы руководство могло планировать какие-то задачи и сроки их выполнения. Если же вы решили начать делать задачи не из плана проекта, то по сути вы рушите планы продукта/проекта.</li>
<li>Споры с руководителем обычно ни к чему продуктивному не ведут. Обычно руководитель имеет больше опыта, чем вы, поэтому какие-то решения ему могут быть очевидны, а вам нет. Иногда стоит доверять людям, а уже после выполнения задач в более спокойной обстановке (скажем на кофепоинте) обсуждать другие варианты решения проблем.</li>
<li>Удача. Как я уже написал, вам может попасть руководитель-тиран, руководитель, не заинтересованный в росте сотрудников, или просто руководитель без большого опыта. Тут не угадаешь.</li>
</ul><br />
Тем не менее это всего лишь моё мнение. <i>Оно основано на том, что было нужно мне как руководителю</i>. Вам может попасться руководитель, который любит разработчиков, готовых спорить по поводу каждого решения. Может просто не повезти и вы будете работать в отделе, который не развивается и всё стоит на месте. В любом случае стоит общаться с руководством и из первых рук узнавать о том что требуется.<br />
<br />
<h3>Жилищная ссуда</h3><br />
Не знаю как обстоят дела с покупкой квартир в других городах, но в Москве с этим очень туго. Квартиры стоят дорого, ипотека не очень-то и доступна, некоторые покупают квартиры в Подмосковье и ездят на работу на электричке.<br />
<br />
В связи с этим такая вещь как яндексовая жилищная ссуда (беспроцентная ссуда на 3 года с которой вы только платите налог) — огромное подспорье при покупке квартиры. Размер её зависит от вашей зарплаты, поэтому не стоит торопиться её брать. В 2015 году я взял 2ккв в ипотеку около МКАДа именно с помощью яндексовой ссуды, за что очень благодарен компании. При увольнении остаток ссуды нужно выплатить единовременно.<br />
<br />
<h3>В компании работают разные люди и не все они идеальны</h3><br />
Долгое время я был уверен, что все в компании — пушистые котики и профессионалы своего дела. Увы, у всех вещей есть изнанка. Подавляющее большинство сотрудников Яндекса — профессионалы своего дела и работать с ними одно удовольствие. Но на удивление есть и некомпетентные странные люди, которые попали в компанию по ошибке или протекции. Также есть и забитые люди, обиженные на весь мир (средоточие этого — яндексовый филиал форчана), и просто люди, сочащиеся говном. Впрочем это скорее исключение, они встречаются правда редко.<br />
<br />
Большей частью в Яндексе вы будете работать с приятными людьми и большими профессионалами своего дела, но стоит помнить, что люди бывают разные.<br />
<br />
<h3>Девчонки в Яндексе…</h3><br />
…самые умные и красивые. Это правда.<br />
<br />
Как итог хотел бы подчеркнуть вот что: Яндекс — потрясающая компания, возможно лучшая для работы в IT в России.<br />
<br />
После неудачного перезапуска КиноПоиска в медиасервисах у меня почти не осталось задач, которые были бы мне интересны, а новое руководство было занято стабилизацией сервиса, правда что под этим подразумевалось до сих пор не все знают.<br />
<br />
Именно поэтому в 2016 году я стал собеседоваться в различные зарубежные компании, а в конце года выбрал Atlassian, после чего в 2017 году перешёл сюда. Главными факторами для меня были возможность написания кода и практика английского.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321802/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/2XlyYh-wpx4" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321802/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321802/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author Shapelez" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684913','author Shapelez',
      '7227590','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+Shapelez');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+Shapelez/">author Shapelez</a>
 </span>  <span title="Поиск по метке управление разработкой" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684913','управление разработкой',
      '11491','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%F0%E0%E7%F0%E0%E1%EE%F2%EA%EE%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F3%EF%F0%E0%E2%EB%E5%ED%E8%E5+%F0%E0%E7%F0%E0%E1%EE%F2%EA%EE%E9/">управление разработкой</a>
 </span>  <span title="Поиск по метке карьера в it-индустрии" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684913','карьера в it-индустрии',
      '16912815','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%E0%F0%FC%E5%F0%E0+%E2+it-%E8%ED%E4%F3%F1%F2%F0%E8%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%E0%F0%FC%E5%F0%E0+%E2+it-%E8%ED%E4%F3%F1%F2%F0%E8%E8/">карьера в it-индустрии</a>
 </span>  <span title="Поиск по метке дмитрий сорин" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684913','дмитрий сорин',
      '21149247','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E4%EC%E8%F2%F0%E8%E9+%F1%EE%F0%E8%ED');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E4%EC%E8%F2%F0%E8%E9+%F1%EE%F0%E8%ED/">дмитрий сорин</a>
 </span>  <span title="Поиск по метке яндекс" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684913','яндекс',
      '4482','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%FF%ED%E4%E5%EA%F1');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%FF%ED%E4%E5%EA%F1/">яндекс</a>
 </span> 
<span id="DI_TAG_408684913">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684913"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684913+"=0;");
document.getElementById('post408684913').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684913);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684913;r="+Math.random();
        eval("serg_post"+408684913+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684912" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684912&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684912" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684912" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684912" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684912" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684912"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684912"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684912">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684912">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684912">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684912">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684912&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684912&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684912" id="blLi_ppan-like_408684912">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684912&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684912" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684912').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684912" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684912">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684912" id="updateForm408684912" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684912/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" class="TTL"><b>Омниканальность: облегчаем коммуникацию клиентам и сотрудникам</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 12:55 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684912/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684912&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684912links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Сегодня в среде маркетологов омниканальность достаточно популярная тема. Особенно в таких отраслях, как ритейл, банковских сектор и другие. Сразу нужно отметить, что это понятие может обозначать немного разные вещи, например, когда мы говорим о торговле или коммуникации, но суть одна. Поскольку <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://infobip.com/ru">наша компания</a> известна на рынке, как поставщик коммуникационных решений и платформ, то в этой публикации мы расскажем об <i>омниканальных коммуникацях</i>.<br />
<br />
<img src="https://habrastorage.org/files/a94/858/0bc/a948580bcdeb4f2a87c795d09474e2f5.jpg" /><a target="_blank" name="habracut"></a><br />
<br />
Если отбросить все сложные формулировки, то объяснить суть омниканальных коммуникаций очень просто — пользователь связывается с вами, так, как ему удобно. И в этом главное преимущество омниканальности для маркетинга. Она повышает лояльность потребителя по отношению к бренду и одновременно рационально использует заложенный на коммуникацию бюджет. <br />
<br />
Еще одно достоинство омниканальности – способность управлять всеми каналами связи с клиентом из единого центра. Таким образом повышается эффективность коммуникации, лучше видна big picture – общая картина происходящих процессов.<br />
<br />
<h3>Как хочу, так и общаюсь</h3><br />
Использование омниканальных коммуникаций – это возможность отказаться от постоянного поиска самого эффективного инструмента для коммуникаций в каждом отдельном случае. Это решение принимается настроенной платформой с полностью интегрированной системой коммуникаций. Все они, само собой, должны управляться из единого интерфейса. Омниканальный маркетинг строится в соответствии с требованиями пользователей и, в то же время, основывается на технологических инновациях. Таким образом, разрозненные ранее каналы мы можем использовать как единый инструмент, соответственно, три основных принципа омниканальности — полный охват, единая структура и взаимосвязанность.<br />
<br />
Давайте посмотрим, как это выглядит на практике. Все мы помним, что в центре внимания – клиент, и маркетинговые коммуникации строятся на его требованиях, и именно он задает темп коммуникации. К примеру, запрос в техподдержку может поступить по SMS (клиенту так было удобнее), более подробный диалог происходит через обмен электронными письмами с описанием подробностей, затем для подтверждения используется телефонный номер, а в завершение пользователь снова переключается на SMS для участия в опросах. Клиент должен понимать, что в любом случае компания найдет способ с ним связаться, не “потеряет” его и историю общения, не будет перекладывать на него поиск самого удобного канала. <br />
<br />
<img src="https://habrastorage.org/files/e0f/134/af3/e0f134af33464878891ea64b006d5116.jpg" /><br />
<i>В клиентоориентированной компании каждый клиент — как минимум принц</i><br />
<br />
Среди компаний, активно использующих омниканальные решения, такие гиганты как Disney и Bank of America. Disney <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://blog.hubspot.com/marketing/omni-channel-user-experience-examples">использует</a> абсолютно все возможные каналы коммуникаций, чтобы сделать опыт клиента легким, удобным, и приятным. Во-первых, сайт компании работает одинаково хорошо на любом устройстве, будь то настольный компьютер или мобильный телефон. Во-вторых, специальное приложение позволяет до мелочей спланировать поездку в парк развлечений, вплоть до выбора мест, где вы остановитесь пообедать. В-третьих, в процессе отдыха в Диснейленде компания будет подсказывать вам, где находятся интересующие вас аттракционы и сколько вам придется выстоять к ним в очереди. <br />
<br />
Что касается Bank of America, то эта финансовая организация известна внедрением разнообразных сервисов, чтобы их клиент мог проводить максимальное количество операций удаленно, при этом не беспокоясь о безопасности счетов.<br />
<br />
<h3>Нет времени ждать</h3><br />
Для компании, выбравшей использование современных омниканальных решений, вопрос коммуникации с клиентом существенно облегчается. Единый интерфейс обеспечивает доступность всех каналов и удобство их использования, а также скорость реакции. Мы живем в эпоху радикальных преобразований коммуникации как таковой. Социальные сети сделали возможным онлайн-общение с компаниями и брендами – теперь их представители всегда готовы ответить на вопросы клиентов, а смартфоны позволяют осуществлять такое общение в любое время и в любом месте. Реагировать нужно соответственно. <br />
<br />
Теперь потребители не просто ждут реакции компаний и брендов – <b>они ждут ее незамедлительно.</b><br />
<br />
<img src="https://habrastorage.org/files/feb/7f2/045/feb7f204553f47f8a451c6d4f7d58edc.jpg" /><br />
<i>В клиентоориентированной компании на все вопросы всегда есть оперативные ответы</i><br />
<br />
Согласно <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.mycustomer.com/community/blogs/visebility/how-life-online-is-changing-consumer-expectations">исследованию</a>, проведенному центром Lithium, более 40% потребителей ожидают получить ответ на свой вопрос в течение часа. И такое ожидание заставляет компании осуществлять постоянный мониторинг и отвечать на запросы, поступающие по всем каналам. Пользователи не только хотят, чтобы им ответили быстро — они хотят общаться наиболее удобным им способом. <br />
<br />
Омниканальность не ограничена обменом сообщениями и предлагает полный цикл маркетинговых услуг для потребителя. Возьмем, к примеру, индустрию путешествий. В соответствии с <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://martechtoday.com/omnichannel-marketing-can-help-travel-brands-fly-farther-faster-143915">исследованиями </a>Facebook и Deloitte, большая часть пользователей использует несколько устройств (и часто — одновременно) при планировании путешествия. Для поддержки связи с курортом, авиакомпанией, отелем пользователь каждый раз обращается напрямую к бренду, и это означает, что коммуникация должна быть не только бесперебойной, но и поддерживаться всеми устройствами и платформами. Приведенный выше пример Disney показывает, что такая коммуникация уже стала стандартом.<br />
<br />
<h3>Каналы коммуникации</h3><br />
Давайте рассмотрим основные каналы общения с клиентом. Отметим, что каждый из них важен по отдельности, но лишь вместе они обеспечивают эффективный уровень коммуникаций.<br />
<br />
Первый канал, с которого чаще всего клиент начинает знакомство с вашей компанией, — это <b>сайт</b>. Все уже знают, что он должен быть удобным, простым, и информативным. Этот канал – база для других каналов коммуникации. Он формирует первое впечатление о бренде и показывает клиенту, как существующему, так и потенциальному, какие существуют способы связи с вашей компанией. Сайт, информации на котором недостаточно или она устаревшая, а форма связи отсутствует или не работает — бесполезен.<br />
<br />
Второй, не менее важный канал, — это <b>электронная почта</b>. С развитием технологий электронная почта потеряла свое значение как способ быстрой коммуникации. Ее, в отличие от мессенджеров, часто проверяют лишь несколько раз в день, но зато читают вдумчиво и в располагающей для этого обстановке. Рассылка – это способ напомнить о бренде, рассказать о новостях, анонсировать скидки и мероприятия. В то же время есть у электронной почты и слабые стороны – из-за огромного количества спама письма часто теряются, и потому критически важную информацию этому каналу связи доверять не стоит.<br />
<br />
По <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://expandedramblings.com/index.php/email-statistics/">статистике</a>, в 2015 году в мире ежедневно отправлялось более 200 миллиардов писем, а в среднем каждый офисный работник получал более 120 из них. А вот к письмам от клиентов стоит относиться внимательно. Времена, когда обращения по телефону были в приоритете и обрабатывались быстрее, уже давно прошли. Сейчас людям часто удобнее описать вопрос в письме, и ждать ответ, чем общаться голосом.<br />
<br />
<b>Голосовые звонки</b> – самый эффективный канал коммуникации, однако использовать его надо очень осторожно. Этот способ связи самый активный, звоня по телефону бренд настойчиво врывается в жизнь клиента, а значит, повод должен быть действительно важным. По <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://uk.businessinsider.com/ee-stats-on-decline-of-voice-calls-in-uk-2015-10">статистике </a>издания Business Insider, люди все реже предпочитают звонить, и все больше используют другие каналы связи. Таким образом, голосовые звонки незаменимы в вопросах безопасности, а вот для рекламы их использовать не стоит.<br />
<br />
Несмотря на то, что <b>SMS</b> многим кажется устаревшим сервисом, этот канал связи с клиентом по-прежнему важен. Он незаменим в случаях, когда необходима срочная доставка важной информации, и при этом клиент находится вне зоны доступа интернета. Также компании могут отправлять SMS-сообщения с двусторонней связью, интегрированные с внутренними системами – такими, как обработка заказов и доставка. Как и все компоненты омниканальности, SMS необходимо использовать в сочетании со всеми другими инструментами. Больше об этом мы писали здесь.<br />
<br />
Наконец, новейший канал связи – <b>push-уведомления</b>. В отличие от голосовых звонков или SMS, push-уведомления привязаны к приложению и ограничены операционной системой телефона. Push-уведомления могут привлечь внимание пользователя, переключив его с другой задачи. Это может быть информация по заказу, письмо от службы поддержки, реклама. Push-уведомления служат для привлечения внимания пользователя, они могут быть интерактивными и осуществлять переадресацию на SMS, электронную почту или запрашивать звонок. По мнению экспертов, этот тип уведомлений превращается в необходимый фактор успеха для бизнеса.<br />
<br />
<h3>Как всё объединить?</h3><br />
Мы перешли к самому главному. Для того чтобы объединить все эти каналы, необходима отдельная платформа <b>A2P API</b>. Аббревиатура API расшифровывается как Application Programming Interface (интерфейс программирования приложений), и представляет собой возможность приложениям взаимодействовать между собой, используя возможности друг друга. <br />
<br />
<img src="https://habrastorage.org/files/bd2/54d/702/bd254d702d464e13a342400e7b75809f.jpg" /><br />
<i>В клиентоориентированной компании не экономят на клиентах, а используют технологии</i><br />
<br />
Отправка SMS через веб-сайт – пример такого взаимодействия. A2P означает Application to Person (от приложения – к человеку), и представляет собой технологию для совершения рассылок.<br />
<br />
Если сегодня использование омниканальных решений значительно облегчает процесс коммуникации компании с клиентом и делает его более комфортным, то уже совсем скоро без омниканальности ни один бизнес, работающий с людьми, попросту не сможет выжить.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321800/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321800/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321800/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/rn9i3lmDEvw" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321800/' target=_blank>https://habrahabr.ru/post/321800/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке sms" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','sms',
      '521','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','sms');">
   <a rel="tag" href="//www.liveinternet.ru/tags/sms/">sms</a>
 </span>  <span title="Поиск по метке маркетинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','маркетинг',
      '4336','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%E0%F0%EA%E5%F2%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%E0%F0%EA%E5%F2%E8%ED%E3/">маркетинг</a>
 </span>  <span title="Поиск по метке email" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','email',
      '8443','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','email');">
   <a rel="tag" href="//www.liveinternet.ru/tags/email/">email</a>
 </span>  <span title="Поиск по метке интернет-маркетинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','интернет-маркетинг',
      '11937','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E8%ED%F2%E5%F0%ED%E5%F2-%EC%E0%F0%EA%E5%F2%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E8%ED%F2%E5%F0%ED%E5%F2-%EC%E0%F0%EA%E5%F2%E8%ED%E3/">интернет-маркетинг</a>
 </span>  <span title="Поиск по метке коммуникации" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','коммуникации',
      '18446','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EE%EC%EC%F3%ED%E8%EA%E0%F6%E8%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EE%EC%EC%F3%ED%E8%EA%E0%F6%E8%E8/">коммуникации</a>
 </span>  <span title="Поиск по метке лояльность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','лояльность',
      '191085','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EB%EE%FF%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EB%EE%FF%EB%FC%ED%EE%F1%F2%FC/">лояльность</a>
 </span>  <span title="Поиск по метке push" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','push',
      '221177','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','push');">
   <a rel="tag" href="//www.liveinternet.ru/tags/push/">push</a>
 </span>  <span title="Поиск по метке клиентоориентированность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','клиентоориентированность',
      '352479','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EB%E8%E5%ED%F2%EE%EE%F0%E8%E5%ED%F2%E8%F0%EE%E2%E0%ED%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EB%E8%E5%ED%F2%EE%EE%F0%E8%E5%ED%F2%E8%F0%EE%E2%E0%ED%ED%EE%F1%F2%FC/">клиентоориентированность</a>
 </span>  <span title="Поиск по метке повышение конверсии" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','повышение конверсии',
      '3256063','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%EE%E2%FB%F8%E5%ED%E8%E5+%EA%EE%ED%E2%E5%F0%F1%E8%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%EE%E2%FB%F8%E5%ED%E8%E5+%EA%EE%ED%E2%E5%F0%F1%E8%E8/">повышение конверсии</a>
 </span>  <span title="Поиск по метке growth hacking" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','growth hacking',
      '16444549','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','growth+hacking');">
   <a rel="tag" href="//www.liveinternet.ru/tags/growth+hacking/">growth hacking</a>
 </span>  <span title="Поиск по метке мультиканальность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','мультиканальность',
      '19327361','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%F3%EB%FC%F2%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%F3%EB%FC%F2%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC/">мультиканальность</a>
 </span>  <span title="Поиск по метке author serkon" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','author serkon',
      '20280237','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+serkon');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+serkon/">author serkon</a>
 </span>  <span title="Поиск по метке блог компании infobip" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','блог компании infobip',
      '20280238','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+infobip');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+infobip/">блог компании infobip</a>
 </span>  <span title="Поиск по метке infobip" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','infobip',
      '20280239','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','infobip');">
   <a rel="tag" href="//www.liveinternet.ru/tags/infobip/">infobip</a>
 </span>  <span title="Поиск по метке a2p" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','a2p',
      '20280240','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','a2p');">
   <a rel="tag" href="//www.liveinternet.ru/tags/a2p/">a2p</a>
 </span>  <span title="Поиск по метке инфобип" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','инфобип',
      '21149245','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E8%ED%F4%EE%E1%E8%EF');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E8%ED%F4%EE%E1%E8%EF/">инфобип</a>
 </span>  <span title="Поиск по метке омниканальность" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684912','омниканальность',
      '21149246','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EE%EC%ED%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EE%EC%ED%E8%EA%E0%ED%E0%EB%FC%ED%EE%F1%F2%FC/">омниканальность</a>
 </span> 
<span id="DI_TAG_408684912">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684912"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684912+"=0;");
document.getElementById('post408684912').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684912);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684912;r="+Math.random();
        eval("serg_post"+408684912+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684911" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684911&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684911" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684911" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684911" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684911" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684911"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684911"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684911">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684911">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684911">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684911">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684911&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684911&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684911" id="blLi_ppan-like_408684911">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684911&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684911" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684911').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684911" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684911">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684911" id="updateForm408684911" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684911/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" class="TTL"><b>[Из песочницы] Библиотека для тестов с заполнением пропусков</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 12:42 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684911/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684911&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684911links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/8c0/a2b/ecc/8c0a2becc83146859dcf8ba63be3cc20.jpg" /><br />
<br />
Не всегда же только пользоваться. Именно с такой мысли началось написание библиотеки под Android и последующее написание этой статьи. Вдруг кому пригодится. Под катом то, что в итоге получилось.<br />
<a target="_blank" name="habracut"></a><br />
<h3>Введение</h3><br />
Одним долгим зимним вечером у нас с друзьями разгорелся спор, как реализовать один из необходимых функционалов. Необходимо было написать *нечто*, что смогло бы:<br />
<br />
<ul>
<li>Отрисовать формулу</li>
<li>Отрисовать несколько блоков с буквами/цифрами</li>
<li>Позволить пользователю подвигать блоки и заполнить ими пропуски в формуле.</li>
</ul><br />
Как самому активному, мне не терпелось испробовать силы, и в первую же ночь была написана view, которая на основе дерева формулы рисовала формулу. Посмотрели друзья на это дело и выдвинули еще требования.<br />
<br />
<ul>
<li>Дерево — это, конечно, хорошо, но разбираться в твоей логике заморочно, да и формулы хранить неудобно. Поэтому формула должна задаваться строкой, как формула в математике (можно добавить немного своих знаков, но все должно быть прозрачно).</li>
<li>Коль такой умный, то пиши это так, чтобы внедрение в проект происходило максимально легко.</li>
</ul><br />
Пригорюнился добрый молодец, почесал головушку и сел писать библиотеку. А чтобы было еще интереснее, поставил я себе дополнительно условие:<br />
<br />
<ul>
<li>View должна быть максимально кастомизируема.</li>
</ul><br />
<h3>P.S.</h3><br />
Здесь не будет поэтапного расписывания как написать библиотеку и как ее опубликовать – в интернете, и в том числе на Хабре, уже есть инструкции на этот счет. Я немного расскажу о своей логике, о тех проблемах и сложностях, с которыми столкнулся и как их решал. Кому-то это покажется банальным, кому-то неправильным – не претендую на верное решение и все замечания учту. Надеюсь, что кому-то пригодится эта статься или библиотека. Ссылка на github будет в конце. В описании к репозиторию есть ссылка на демо библиотеки и инструкция к ней.<br />
<br />
<h3>Этап первый – отрисовка дерева</h3><br />
К этому этапу у меня была моя первоначальная демка, требования и твердая уверенность, что все получится. Перво-наперво было решено взяться за отрисовку, а преобразование из строки в дерево оставить напоследок.<br />
<br />
<i>И так, логика дерева такова:</i><br />
<br />
Лист – это набор символов. Например знак умножения или какое-то число. Лист знает о своих размерах, о том, есть ли после него кто-то, и как их расположить относительно себя. Я выделил несколько видов.<br />
<br />
<ol>
<li><b>Constable лист.</b> Это +,-,* и числа. Этот лист имеет единичную высоту и длину в зависимости от внутреннего текста. Все, что за ним, рисуется на одной оси с ним. То есть центр этого листа по оси Y совпадает с центром по оси Y всего, что есть за ним.<br />
<br />
</li>
<li><b>Changeable лист.</b> Он такой же как и constable, только у него есть состояния пустой и заполненный. Высота – единичный блок. Ширина же берется не по его внутренностям, а по самому длинному тексту из всех изменяемых и перемещаемых листов.<br />
<br />
</li>
<li><b>Movable лист.</b> Похож на changeable, только к него состояния видим, невидим, перемещается.<br />
<br />
</li>
<li><b>Power лист.</b> Он имеет ширину по размеру того, что должно быть в степени. И особенность его в том, что все за ним рисует не на одной оси с предыдущим листом. Нижний край всей последующей области должен быть смещен на пол блока относительно предыдущего листа. Звучит замудрено, но надо просто приставить число в степени. (22) Степень рисуется на пол строки выше. Только в отличие от этой степени, в моей число в степени не уменьшается по шрифту. Этот лист знает о том, кто следующий в отрисовке степени, и кто следующий, после отрисовки степени. То есть в формуле (2^(1+3)-4) знак степени знает о «1» и о «-».<br />
<br />
</li>
<li><b>Division лист.</b> Как понятно из названия – это лист, обозначающий деление. Он отрисовывается в 4 этапа. Рисуется линия по центру, длиной как большее из значений длины числителя и знаменателя. Рисуется числитель так, чтобы он был прижат к линии нижним краем и был расположен по центру от всей длины линии (на случай, если знаменатель длиннее). Рисуется знаменатель так, чтобы он был прижат верхним краем к линии и был расположен по центру от всей длины линии (на случай, если числитель длиннее). И в конце передается отрисовка на те листы, что идут после деления.</li>
</ol><br />
<img src="https://habrastorage.org/files/391/bae/fa7/391baefa7fe74a50a87e7e6c13cb46d3.jpg" /> <br />
<br />
Чтобы логика работала, каждый лист должен уметь:<br />
<br />
<ol>
<li>Сказать свою длину и высоту</li>
<li>Сказать длину и высоту себя и того, что находится за ним. Не просто следующего листа, а всей ветки листьев. То есть в формуле 2+3-4 знак «+» знает размеры части «+3-4». Это помогает определить размер всей формулы.</li>
<li>Сказать, насколько ему надо сдвинуться от центра по оси Y (правило введено специально для Power листа)</li>
<li>Уметь отрисовать себя и правильно передать координаты для отрисовки всем своим потомкам.</li>
</ol><br />
<h3>Этап второй — масштабирование блоков и текста</h3><br />
Чтобы максимально заполнить разрешенную область, перед отрисовкой идет этап масштабирования. Принцип прост. У меня есть единичный блок, на основе которого идут все расчеты и переменная, отвечающая за то, во сколько раз надо увеличить масштаб. Логика масштабирования такова: получаем размер формулы, сравниваем с размерами доступной области, изменяем коэффициент масштабирования.<br />
<br />
И тут я столкнулся с небольшой проблемой. Ширина текста увеличивается не пропорционально атрибуту textSize. То есть, пусть у нас был блок текста шириной y и textSize x. Если мы увеличим textSize в 2 раза – ширина блока не будет равна 2*y. В связи с этим, значение масштабирования постоянно колебалось в близких значениях, из-за чего картинка при перерисовке «дрожала». Для решения этой проблемы я видел 2 способа:<br />
<br />
<ol>
<li>Можно было перед каждым шагом сбрасывать значение масштабирование в начальное значение. Но вариант меня не устроил, т к тогда погрешность размера по ширине была бы слишком большая.<br />
<br />
</li>
<li>Ставить перед каждым шагом масштабирования формулу в одни и те же условия. Для этого я добавлял к коэффициенту 0.5 и округлял в большую сторону.</li>
</ol><br />
Пойдя по второму методу, я столкнулся с проблемой в самом первом расчете, когда коэффициент еще равен 1. Что бы решить это, поначалу, я делал расчет по второму методу 2 раза, но это сказалось на производительности. Чтобы избежать второго лишнего расчета, было решено сохранять предыдущее значение и сравнивать его с новым. Если они одинаковые, то второй раз считать смысла нет. Подумав еще, я вынес пересчет в метод onSizeChanged, а так же дополнительно вызывал при задании новой формулы/листов для движения.<br />
<br />
<h3>Этап третий — движение</h3><br />
Здесь все очень просто. Была принята маленькая хитрость. Вместо движения листа, который мы выделили, мы скрываем его и заводим новый, координаты которого постоянно меняем при срабатывании onTouchEvent. Когда срабатывает MotionEvent.ACTION_DOWN, мы ищем, не попало ли наше касание на двигаемый лист, скрываем его и копируем значение в лист, который двигаем. Когда срабатывает MotionEvent.ACTION_UP, мы пробегаем по дереву и смотрим, не пересекаемся ли мы с каким-либо Changeable листом.<br />
<br />
<h3>Этап четвертый — парсер</h3><br />
Тут в некой мере решение в лоб. Для начала было определено 2 спец. символа. Первый указывает на те блоки, которые станут Changeable. Второй символ — парный, указывает область, которую следует определить как Constable или Changeable без внутренних преобразований (например, символ деления). Получаем строку, удаляем все пробелы, что не входят в область выделенную вторым спец. символом, преобразуем знаки деления и начинаем посимвольно считывать. Чтобы можно было удобнее все преобразовывать, знаки деления из вида 2/3 преобразуются в /(2)(3).<br />
<br />
<h3>Этап пятый – кастомизация</h3><br />
Для простоты кастомизации, почти все переменные, которые фигурируют в коде отрисовки или парсера, вынесены в отдельные поля классов. В связи с чем можно успешно поменять почти все, что видишь.<br />
<br />
<h3>Заключение</h3><br />
Как оказалось, данная библиотека вполне подходит под «формулы» не только математические, но и, например, на проверку знаний словарных слов. Еще хотелось бы добавить на будущее, для тех кто тоже решит писать свои библиотеки – в android studio есть создание модуля-библиотеки, и удаляйте все из тега application в манифесте библиотеки. Если есть какие-либо вопросы – с радостью отвечу. Все замечания и пожелания учту.<br />
<br />
-> <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/KuznetsSudby/FormulLib">Библиотека на github</a>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321792/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321792/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321792/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/YHSb3QedqZI" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321792/' target=_blank>https://habrahabr.ru/post/321792/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author KuSu" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','author KuSu',
      '21149244','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+KuSu');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+KuSu/">author KuSu</a>
 </span>  <span title="Поиск по метке разработка под android" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','разработка под android',
      '8090036','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%EF%EE%E4+android');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E0%E7%F0%E0%E1%EE%F2%EA%E0+%EF%EE%E4+android/">разработка под android</a>
 </span>  <span title="Поиск по метке android" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','android',
      '516158','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','android');">
   <a rel="tag" href="//www.liveinternet.ru/tags/android/">android</a>
 </span>  <span title="Поиск по метке library" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','library',
      '4180','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','library');">
   <a rel="tag" href="//www.liveinternet.ru/tags/library/">library</a>
 </span>  <span title="Поиск по метке canvas" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','canvas',
      '15424','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','canvas');">
   <a rel="tag" href="//www.liveinternet.ru/tags/canvas/">canvas</a>
 </span>  <span title="Поиск по метке test" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684911','test',
      '111','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','test');">
   <a rel="tag" href="//www.liveinternet.ru/tags/test/">test</a>
 </span> 
<span id="DI_TAG_408684911">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684911"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684911+"=0;");
document.getElementById('post408684911').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684911);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684911;r="+Math.random();
        eval("serg_post"+408684911+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684910" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684910&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684910" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684910" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684910" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684910" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684910"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684910"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684910">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684910">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684910">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684910">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684910&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684910&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684910" id="blLi_ppan-like_408684910">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684910&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684910" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684910').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684910" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684910">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684910" id="updateForm408684910" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684910/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" class="TTL"><b>Офферы и вертикали в арбитраже трафика</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 12:38 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684910/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684910&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684910links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Это четвертый урок бесплатного курса по мобильному арбитражу, в рамках которого вы получите общий набор знаний про мобильный арбитраж, фундаментальные понятия и набор инструментов, которые необходимы любому арбитражнику, интернет-маркетологу или трафик-менеджеру.<br />
<br />
Предыдущие уроки: <br />
<br />
<ol>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321240/">Что такое арбитраж</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321320/">Участники рынка</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://ru.mobio.network/basic-course/3-basic-terms">Базовые метрики и понятия</a></li>
</ol><br />
В этом уроке поговорим более подробно про офферы: каких типов они бывают, и что такое вертикаль офферов. Рассмотрим специфичные офферы для мобильного арбитража.<br />
<br />
<div><div><div><br/><iframe type="text/html"  width=400  height=300 src="https://www.youtube.com/embed/xPq0Pq09onw?rel=0&showinfo=1" frameborder="0" allowFullScreen scroling="no" webkitAllowFullScreen mozallowfullscreen></iframe> <br/></div></div></div><br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/Mobio_ru/4-72084782">Презентация</a> | <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://ru.mobio.network/basic-course/4-offers-verticals">Текстовая расшифровка</a><br />
<br />
Товар — первый элемент формулы заработка в интернете. Оффер — предложение рекламодателя продвигать товар с определенным условием оплаты.<br />
<br />
Товары могут быть разными, поэтому офферы распределяют на группы в зависимости от рекламируемого товара. Для этого введем понятие вертикали офферов.<br />
<a target="_blank" name="habracut"></a><br />
<h2>Вертикали офферов</h2><br />
Вертикаль офферов — не только категория товаров. Вертикаль определяет методы и способы арбитража, источники трафика, с которыми вы будете работать, а также рекламные креативы и подходы, которые вы будете использовать при продвижении этого товара.<br />
<br />
Вертикали офферов могут быть разные, и не стоит пытаться работать сразу со всеми. Товары из одной вертикали могут хорошо конвертироваться на одном трафике, но плохо на другом. <br />
Разберемся подробнее с видами вертикалей и подходящими источниками трафика. <br />
<br />
<h2>Виды вертикалей</h2><br />
<ul>
<li>Игры (мобильные, компьютерные).</li>
<li>Software и сервисы.</li>
<li>Utilities — приложения на Android, которые ускоряют устройство, экономят заряд, предлагают различные заставки и рабочие столы для мобильных телефонов.</li>
<li>Travel: бронирование авиабилетов, комнат в гостиницах и тд.</li>
<li>Dating, разделяется на две подвертикали: Mainstream dating (обычный сервис знакомств для всех) и Adult (сервис знакомств для более откровенных отношений).</li>
<li>E-Commerce — продажа физических товаров через интернет-магазины и сайты.</li>
<li>Gambling — игровые автоматы, слоты и казино.</li>
<li>Бинарные опционы и Forex.</li>
</ul><br />
Вернемся к понятию оффера и рассмотрим 4 необходимых элемента для каждого оффера.<br />
<br />
<h2>Элементы оффера</h2><br />
1. <b>Продукт</b>. Без него никуда.<br />
<br />
2. <b>Conversion Flow</b> — действие пользователя, которое приведет к конверсии. Например: заполнение анкеты или формы на мобильном сайте, подтверждение подписки на email, установка или открытие мобильного приложения.<br />
<br />
3. <b>Выплата</b> — есть дешевые офферы с небольшими выплатами за лид, и есть офферы, где платят много за лид. Основное отличие не только в цифрах: важно, как много денег нам нужно потратить на данные, для того чтобы понять, работает оффер в плюс или в минус. Обычно на дешевые офферы нам нужно потратить меньше денег: <br />
<br />
Если за оффер платят 20 центов, то 100 лидов наберем за 20 долларов.<br />
Если оффер стоит 100$ и нам нужно 100 лидов, то на тест нужно потратить 10 000$.<br />
<br />
Новичкам лучше стартовать с тестов на дешевых офферах и потом переводить свои рабочие схемы на дорогие офферы.<br />
<br />
4. <b>Требования рекламодателя по продвижению оффера и условия по оплате.</b> С рекламодателем нужно обсудить, какие креативы использовать, каких пользователей привлекать (пол, возраст, гео), какие источники трафика и методы привлечения разрешены. Например, в Dating: нужны ли мужчины до 18 лет или только платежеспособные мужчины 25-35 лет? Какое гео поставить для женщин: только Россия или только Москва? Что можно показывать, а что нельзя? Есть ли какой-то guide line и brand book? Также нужно обсудить, какие источники трафика запрещаются: многие запрещают такие источники трафика, как контекстная реклама на собственный бренд.<br />
<br />
Теперь поговорим о том, как сочетать разные типы оффером с источниками трафика.<br />
<br />
<h2>Офферы и трафик</h2><br />
Не каждая вертикаль офферов подходит для работы с любым источником трафика. Почему так происходит? <br />
<br />
1. <b>Контекст пользователя</b>.У каждого источника трафика есть разный контекст пользователя, в котором он сейчас находится: разные интересы и таргетинги. Например, если у нас есть рекламная площадка — рекламный портал для молодых мам, то мы не сможем там рекламировать приложение, нацеленное на мужскую аудиторию. И наоборот: на рекламной площадке для детей мы не будем рекламировать финансовые инструменты. <br />
Когда начнете работать подробно с одной вертикалью, будете понимать, какие методы и источники трафика подходят под вашу вертикаль.<br />
<br />
2. <b>Стоимость привлечения</b>. Когда мы выбираем оффер и выбираем тип трафика, нужно подумать, откуда мы будем привлекать рекламу и понимать разницу между стоимостью привлечения и выплатой за конверсию. Есть дорогие источники трафика, на которых не будут работать дешевые офферы: мы не пройдем минимальную планку по стоимости клика или стоимости показа. Как пример: на дорогих брендированных площадках мы не сможем сконвертировать дешевый мобильный оффер на утилиты. <br />
<br />
3. <b>Conversion Flow</b>. Не на каждом типе трафика пользователь ожидает тот или иной Conversion Flow. Например, если у нас пользователь на мобильном трафике, он вряд ли заполнит длинную форму на кредит. Ему подойдет этот оффер только в том случае, если будет альтернативный Conversion Flow с маленькой формой заявки.<br />
<br />
4. <b>Рекламная политика</b>. Она вводит большие ограничения на рекламу офферов на определенных источниках трафика. Многие крупные рекламные сети препятствуют распространению рекламы на определенные категории товаров.<br />
Например, на алкогольные категории или на Dating (на Adult). Очень часто утилиты на Android рекламируются с помощью прелендингов, но не все рекламные сети разрешают использование прелейдингов. <br />
<br />
В мобильном арбитраже есть специфичные типы офферов, которые не свойственны обычному арбитражу: мобильные установки приложений по модели CPI и мобильные подписки PIN Submit. <br />
Рассмотрим их подробнее.<br />
<br />
<h2>Мобильные установки и мобильные подписки</h2><br />
Мобильные установки подразделяются на разные подкатегории, и суть их в том, что рекламодатель платит за установку и открытие мобильного приложения.<br />
<br />
Существуют разные мобильные приложения:<br />
<br />
<ul>
<li>Утилиты (лаунчеры на Android, ускорители батарейки, экономитель памяти и так далее)</li>
<li>Travel тематика (авиабилеты, бронирование)</li>
<li>E-Commerce</li>
<li>Игры</li>
<li>Сервисы знакомств в виде мобильных приложений.</li>
<li>Forex и бинарные опционы.</li>
<li>Различные приложения сервисы, как заказ такси или доставка пиццы.</li>
</ul><br />
Другой тип офферов — мобильные подписки. Их называют «пины», PIN Submit. <br />
<br />
Pin Submit — тоже мобильные офферы, которые работают только на мобильном трафике. <br />
Например: пользователь хочет получить доступ к сайту, но не скачивает приложение, а отправляет платное SMS и в ответ получает доступ к этому контенту. Он может получить пароль для доступа к контенту.<br />
<br />
В зависимости от оплаты мобильные подписки подразделяются на два типа:<br />
<br />
1. <b>Wap-Сlick или One click</b>. В этом случае мобильный оператор определяет номер мобильного абонента. Вы нажимаете на кнопку, соглашаетесь на определенные условия и подписываетесь на мобильный сервис. После отправления пароля вам доступен контент.<br />
2. <b>Premium SMS</b>, когда вы должны отправить SMS на платный номер. В этом случае есть еще два варианта оплаты:<br />
<br />
<ol>
<li>МО — пользователь отправляет SMS на короткий номер.</li>
<li>МТ — пользователь получает SMS с платного номера. </li>
</ol><br />
Во втором случае пользователь должен подтвердить ответным SMS или пин кодом на сайте то, что он на это согласен. <br />
<br />
Обычно это сайт с кнопкой «войти», «получить доступ», «скачать». Обязательно есть условия, в которых говорится о том, что пользователь под ними подписывается и с него, например, будет списываться 20 рублей каждый день за доступ к этому сайту, пока он не отпишется. <br />
<br />
В зависимости от страны и мобильного оператора эти правила по-разному регулируются и описываются: где-то требуется указывать в явном виде, где-то можно писать мелким текстом.<br />
<br />
<h2>Заключение</h2><br />
Мы рассмотрели понятие оффера и узнали, какие бывают вертикали офферов. Разобрали, что такое мобильные установки и подписки.<br />
<br />
В следующем уроке выясним, где рекламодатель размещает офферы, и как получить к ним доступ.<br />
<br />
Задавать любые вопросы по арбитражу можно в комментариях или в <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://vk.com/mobionetwork">нашей группе ВКонтакте</a>.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321780/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321780/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321780/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/nnytehoIX0c" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321780/' target=_blank>https://habrahabr.ru/post/321780/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке интернет-маркетинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','интернет-маркетинг',
      '11937','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E8%ED%F2%E5%F0%ED%E5%F2-%EC%E0%F0%EA%E5%F2%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E8%ED%F2%E5%F0%ED%E5%F2-%EC%E0%F0%EA%E5%F2%E8%ED%E3/">интернет-маркетинг</a>
 </span>  <span title="Поиск по метке трафик" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','трафик',
      '34201','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F2%F0%E0%F4%E8%EA');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F2%F0%E0%F4%E8%EA/">трафик</a>
 </span>  <span title="Поиск по метке партнерский маркетинг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','партнерский маркетинг',
      '2664569','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%E0%F0%F2%ED%E5%F0%F1%EA%E8%E9+%EC%E0%F0%EA%E5%F2%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%E0%F0%F2%ED%E5%F0%F1%EA%E8%E9+%EC%E0%F0%EA%E5%F2%E8%ED%E3/">партнерский маркетинг</a>
 </span>  <span title="Поиск по метке арбитраж трафика" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','арбитраж трафика',
      '4301294','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E0%F0%E1%E8%F2%F0%E0%E6+%F2%F0%E0%F4%E8%EA%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E0%F0%E1%E8%F2%F0%E0%E6+%F2%F0%E0%F4%E8%EA%E0/">арбитраж трафика</a>
 </span>  <span title="Поиск по метке партнерские сети" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','партнерские сети',
      '11203361','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%E0%F0%F2%ED%E5%F0%F1%EA%E8%E5+%F1%E5%F2%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%E0%F0%F2%ED%E5%F0%F1%EA%E8%E5+%F1%E5%F2%E8/">партнерские сети</a>
 </span>  <span title="Поиск по метке mobio" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','mobio',
      '16252336','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','mobio');">
   <a rel="tag" href="//www.liveinternet.ru/tags/mobio/">mobio</a>
 </span>  <span title="Поиск по метке growth hacking" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','growth hacking',
      '16444549','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','growth+hacking');">
   <a rel="tag" href="//www.liveinternet.ru/tags/growth+hacking/">growth hacking</a>
 </span>  <span title="Поиск по метке продвижение мобильных приложений" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','продвижение мобильных приложений',
      '16975342','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%F0%EE%E4%E2%E8%E6%E5%ED%E8%E5+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%F0%EE%E4%E2%E8%E6%E5%ED%E8%E5+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9/">продвижение мобильных приложений</a>
 </span>  <span title="Поиск по метке аналитика мобильных приложений" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','аналитика мобильных приложений',
      '17643928','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E0%ED%E0%EB%E8%F2%E8%EA%E0+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E0%ED%E0%EB%E8%F2%E8%EA%E0+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9/">аналитика мобильных приложений</a>
 </span>  <span title="Поиск по метке монетизация мобильных приложений" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','монетизация мобильных приложений',
      '18179405','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%EE%ED%E5%F2%E8%E7%E0%F6%E8%FF+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%EE%ED%E5%F2%E8%E7%E0%F6%E8%FF+%EC%EE%E1%E8%EB%FC%ED%FB%F5+%EF%F0%E8%EB%EE%E6%E5%ED%E8%E9/">монетизация мобильных приложений</a>
 </span>  <span title="Поиск по метке блог компании mobio" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','блог компании mobio',
      '20659422','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mobio');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+mobio/">блог компании mobio</a>
 </span>  <span title="Поиск по метке author nastya_gladkova" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684910','author nastya_gladkova',
      '20674597','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+nastya_gladkova');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+nastya_gladkova/">author nastya_gladkova</a>
 </span> 
<span id="DI_TAG_408684910">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684910"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684910+"=0;");
document.getElementById('post408684910').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684910);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684910;r="+Math.random();
        eval("serg_post"+408684910+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684909" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684909&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684909" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684909" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684909" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684909" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684909"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684909"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684909">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684909">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684909">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684909">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684909&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684909&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684909" id="blLi_ppan-like_408684909">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684909&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684909" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684909').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684909" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684909">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684909" id="updateForm408684909" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684909/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" class="TTL"><b>[Из песочницы] Реверс-инжиниринг сообщений Protocol Buffers</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 12:32 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684909/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684909&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684909links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        Под реверс-ининирингом, в данном контексте, я понимаю восстановление исходной схемы сообщений наиболее близкие к оригиналу, используемому разработчиками. Существует несколько способов получить желаемое. Во-первых, если у нас есть доступ к клиентскому приложению, разработчики не позаботились о том чтобы скрыть отладочные символы и линковаться к LITE версии библиотеки protobuf, то получить оригинальные .proto-файлы не составит труда. Во-вторых, если же разработчики используют LITE сборку библиотеки, то это конечно усложняет жизнь реверсеру, но отнюдь не делает реверсинг бесполезным занятием: при определённой сноровке, даже в этом случае, можно восстановить .proto-файлы достаточно близкие к оригиналу.<br />
<a target="_blank" name="habracut"></a><br />
В данной статье я хотел бы описать некоторые техники реверса ptobobuf сообщений, благодаря которым появился мой проект protodec. Отмечу, что все сказанное относиться к формату кодирования protobuf сообщений версии 2 (3 версия пока не поддерживается, packed поля тоже).<br />
<br />
<h3>Подготовка</h3><br />
Для начала я создам объекты для исследования. Нам понадобятся 2 файла:<br />
<br />
<div><b>addressbook.proto</b><div><pre><code>package tutorial;
option optimize_for = LITE_RUNTIME;
message Person {
  required string name = 1;
  required int32 id = 2;
  optional string email = 3;

  enum PhoneType {
    MOBILE = 0;
    HOME = 1;
    WORK = 2;
  }

  message PhoneNumber {
    required string number = 1;
    optional PhoneType type = 2 [default = HOME];
  }

  repeated PhoneNumber phone = 4;
}

message AddressBook {
  repeated Person person = 1;
}</code></pre></div></div><br />
<div><b>tut.cpp</b><div><pre><code>#include <iostream>
#include <cassert>
#include <string>
#include "addressbook.pb.h"
int main() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;
  tutorial::AddressBook book;
  tutorial::Person * person = book.add_person();
  person->set_id(1234);
  person->set_name("John Doe");
  person->set_email("jdoe@example.com");
  tutorial::Person_PhoneNumber * phone = person->add_phone();
  phone->set_number("555-4321");
  phone->set_type(tutorial::Person_PhoneType_HOME);
  std::string data = book.SerializeAsString();
  assert(!data.empty());
  std::cout.write(&data[0], data.size());
  google::protobuf::ShutdownProtobufLibrary();
}</string></cassert></iostream></code></pre></div></div><br />
Сохраняем их и собираем все вместе. Если вы не знаете, что такое protoc, то Вам нужно прочесть введение в библиотеку Protobuf для вашего языка программирования.<br />
<br />
<pre><code>protoc --cpp_out=. addressbook.proto && g++ addressbook.pb.cc tut.cpp `pkg-config --cflags --libs protobuf` -s -o tut.lite.exe && ./tut.lite.exe > A</code></pre><br />
Удаляем или закомментируем вторую строку файла addressbook.proto и выполняем команду:<br />
<br />
<pre><code>protoc --cpp_out=. addressbook.proto && g++ addressbook.pb.cc tut.cpp `pkg-config --cflags --libs protobuf` -o tut.exe && ./tut.exe > B</code></pre><br />
После выполнения вышеупомянутых команд мы имеем два исполняемых файла tut.lite.exe и tut.exe, с LITE и полной сборкой библиотеки libprotobuf соответственно. Обе программы делают одно и тоже: создаётся protobuf сообщение, которое выводится в std::cout. Так же у нас появилось два бинарных файла с именами A и B. Первый сгенерирован lite версией, второй — полной версией программы. Содержимое их идентично. На скриншоте ниже можно увидеть бинарное представление этого сообщения и его текстовый вид:<br />
<br />
<img src="https://habrastorage.org/files/2fd/1ef/1ec/2fd1ef1ecf0e4c12adff59c98f456468.png" /><br />
<br />
Удаляем addressbook.proto и попытаемся его восстановить.<br />
<br />
<h3>Восстановление схемы сообщений из Descriptor данных исполнимого файла</h3><br />
Глянем содержимое файла adressbook.pb.cc, сгенерированного ранее утилитой protoc. Нас должна заинтересовать функция protobuf_AddDesc_addressbook_2eproto. Одним из первых действий в ней — вызов функции ::google::protobuf::DescriptorPool::InternalAddGeneratedFile, первый аргумент которой и есть Descriptor protobuf сообщение с информацией о структуре оригинальных сообщений.<br />
<br />
<pre><code>// ...
void protobuf_AddDesc_addressbook_2eproto() {
  static bool already_here = false;
  if (already_here) return;
  already_here = true;
  GOOGLE_PROTOBUF_VERIFY_VERSION;

  ::google::protobuf::DescriptorPool::InternalAddGeneratedFile(
    "\n\021addressbook.proto\022\010tutorial\"\332\001\n\006Person"
    "\022\014\n\004name\030\001 \002(\t\022\n\n\002id\030\002 \002(\005\022\r\n\005email\030\003 \001("
    "\t\022+\n\005phone\030\004 \003(\0132\034.tutorial.Person.Phone"
    "Number\032M\n\013PhoneNumber\022\016\n\006number\030\001 \002(\t\022.\n"
    "\004type\030\002 \001(\0162\032.tutorial.Person.PhoneType:"
    "\004HOME\"+\n\tPhoneType\022\n\n\006MOBILE\020\000\022\010\n\004HOME\020\001"
    "\022\010\n\004WORK\020\002\"/\n\013AddressBook\022 \n\006person\030\001 \003("
    "\0132\020.tutorial.Person", 299);
  ::google::protobuf::MessageFactory::InternalRegisterGeneratedFile(
    "addressbook.proto", &protobuf_RegisterTypes);
  Person::default_instance_ = new Person();
  Person_PhoneNumber::default_instance_ = new Person_PhoneNumber();
  AddressBook::default_instance_ = new AddressBook();
  Person::default_instance_->InitAsDefaultInstance();
  Person_PhoneNumber::default_instance_->InitAsDefaultInstance();
  AddressBook::default_instance_->InitAsDefaultInstance();
  ::google::protobuf::internal::OnShutdown(&protobuf_ShutdownFile_addressbook_2eproto);
}
// ...</code></pre><br />
В ней сохранена информацией о перечислениях, списке импорта, сообщениях, имена и типы данных их полей и т.д. Формат не является секретом и поставляется вместе с исходным кодом; его можно глянуть в google/protobuf/descriptor.proto. Эти данные используется при рефлексии, для отладочного вывода содержимого сообщений и т.д.<br />
<br />
Утилита protodec выполняет поиск Descriptor данных в бинарном файле и умеет сохранять восстановленные из них .proto-файлы. Для этого нужно запустить команду:<br />
<br />
<pre><code>protodec --grab tut.exe</code></pre><br />
В ответ увидим что-то такое:<br />
<br />
<img src="https://habrastorage.org/files/6d5/cdd/266/6d5cdd266229489db374c6a7909ef093.png" /><br />
<br />
То есть, в итоге мы получили почти оригинал исходного .proto-файла.<br />
<br />
<h3>Восстановление схемы из байт сообщения</h3><br />
Если к приложению нет доступа (допустим, оно работает где-то на сервере), то и к Descriptor данным добраться будет проблематично. То же самое относится, если приложение собрано с LITE оптимизацией: рефлексия не используется, поэтому и Descriptor описание .proto-файлов не генерируется на этапе компиляции, а следовательно восстановить оригинальные .proto-файлы методом упомянутым ранее у нас не получится. В этом случае можно попробовать анализировать содержимое protobuf сообщений. Отмечу, что они должны быть 100% иметь одинаковую структуру (корневое сообщение должно у них совпадать). Таких сообщений нам понадобятся как можно больше; чем больше в них данных, тем лучше результат получим в итоге.<br />
<br />
Программа protodec может восстановить схему указанного protobuf сообщения с их типами, загруженного из файла. Для этого запустим команду:<br />
<br />
<pre><code>protodec --schema A</code></pre><br />
<img src="https://habrastorage.org/files/841/093/b5d/841093b5d381482d9c2b795d98fa4d29.png" /><br />
<br />
Этот вывод означает, что в данном protobuf сообщении (загруженном из файла A), было обнаружено 3 сообщения. Если мы взглянем на оригинальный addressbook.proto, то несомненно угадывается общее: MSG1 это Person::PhoneNumber, MSG2 это Person, ну а MSG3 это AddressBook. Опишу бросающиеся в глаза несоответствия:<br />
<br />
<ol>
<li>Поле MSG3.fld1 должно быть repeated. Проблема тут в том, что в оригинальном сообщении, в AddressBook.person всего лишь один элемент, а на бинарном уровне нельзя различить repeated поле в таком случае. Если бы в AddressBook.person, данных было хотя бы 2 элемента, то он бы определился верно. Именно поэтому нам нужно несколько сообщений данной схемы, с максимальной заполненностью;<br />
<br />
</li>
<li>Некоторые required поля должны быть optional. Данная проблема так же решается анализом большого количества сообщений, благодаря которому можно понять где должно быть required поле, а где optional;<br />
<br />
</li>
<li>Поле MSG2.fld2 должно быть int32, а оно int64. На низком уровне, в protobuf все целочисленные типы (int32, int64, uint32, uint64, sint32, sint64, bool, enum) хранятся как Varint. Затем можно понять из контекста, числа в этом поле будут ли они знаковыми или беззнаковыми, int64 выбран для того чтобы в него можно было сохранить максимально возможное целочисленное значение для используемого языка программирования.</li>
</ol><br />
Имена, как полей так и сообщений, генерируются автоматически, эти метаданные из тела самого protobuf сообщения «достать» невозможно, т.к. их там попросту нет. В таком случае можно постепенно переименовывать сообщения и поля, когда назначение их становится более-менее понятно из контекста исследуемых сообщений. Так же, в самом приложении, в списке экспорта иногда можно обнаружить данную информацию. Для этого нам понадобится любая утилита умеющая это делать, например, IDA. Вот, здесь мы выудили имена и порядок полей для сообщения tutorial::Person, которое имеет 4 поля:<br />
<br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/f30/aab/84e/f30aab84eb5f4668acf82795ba087eb3.png" /></div><br />
Делаем то же самое для остальных сообщений и в итоге получаем практически оригинальный .proto-файл.<br />
<br />
<h3>Проверка</h3><br />
В итоге у нас получился приблизительно такой .proto-файл:<br />
<br />
<div><b>tut2.proto</b><div><pre><code>package ProtodecMessages;

message PHONE {
	required string Number = 1;
	required int64 Type = 2;
}

message PERSON {
	required string Name = 1;
	required int64 Id = 2;
	required string Email = 3;
	required PHONE Phone = 4;
}

message ADDRESSBOOK {
	repeated PERSON Person = 1;
}</code></pre></div></div><br />
Напишем небольшую программу, чтобы проверить, что наша восстановленная схема может редактировать оригинальные сообщения.<br />
<br />
<div><b>tut2.cpp</b><div><pre><code>#include <iostream>
#include <fstream>
#include <string>
#include <cassert>
#include "tut2.pb.h"

int main() {
  GOOGLE_PROTOBUF_VERIFY_VERSION;
  // читаем содержимое protobuf сообщения из std::cin
  std::string data;
  ProtodecMessages::ADDRESSBOOK book;
  while (std::cin.peek() != EOF)
      data.push_back((char)std::cin.get());
  // все ли удачно распарсили?
  assert(book.ParseFromString(data));
  assert(book.person_size() > 0);
  // изменяем сообщение
  ProtodecMessages::PERSON * person = book.mutable_person(0);
  person->set_email("fake@name.com");
  person->set_id(4321);
  // выводим измененное сообщение в std::cout
  data = book.SerializeAsString();
  assert(!data.empty());
  std::cout.write(&data[0], data.size());
  // Optional:  Delete all global objects allocated by libprotobuf.
  google::protobuf::ShutdownProtobufLibrary();
}</cassert></string></fstream></iostream></code></pre></div></div><br />
Компилируем и запускаем:<br />
<br />
<pre><code>protoc --cpp_out=. tut2.proto && g++ tut2.pb.cc tut2.cpp `pkg-config --cflags --libs protobuf` -o tut2.exe</code></pre><br />
<div style="text-align:center;"><img src="https://habrastorage.org/files/a8c/aa9/247/a8caa924733a4a29823b8b0b49be0466.png" /></div><br />
<h3>Ссылки:</h3><br />
<ul>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://developers.google.com/protocol-buffers/docs/cpptutorial">developers.google.com/protocol-buffers/docs/cpptutorial</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://developers.google.com/protocol-buffers/docs/encoding">developers.google.com/protocol-buffers/docs/encoding</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://en.wikipedia.org/wiki/Protocol_Buffers">en.wikipedia.org/wiki/Protocol_Buffers</a></li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/schdub/protodec">github.com/schdub/protodec</a></li>
</ul>
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321790/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321790/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321790/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/ujUoS3ezlnQ" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321790/' target=_blank>https://habrahabr.ru/post/321790/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author jsbot" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684909','author jsbot',
      '21147958','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+jsbot');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+jsbot/">author jsbot</a>
 </span>  <span title="Поиск по метке реверс-инжиниринг" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684909','реверс-инжиниринг',
      '8203701','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%E5%E2%E5%F0%F1-%E8%ED%E6%E8%ED%E8%F0%E8%ED%E3');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%E5%E2%E5%F0%F1-%E8%ED%E6%E8%ED%E8%F0%E8%ED%E3/">реверс-инжиниринг</a>
 </span>  <span title="Поиск по метке protobuf" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684909','protobuf',
      '7532628','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','protobuf');">
   <a rel="tag" href="//www.liveinternet.ru/tags/protobuf/">protobuf</a>
 </span>  <span title="Поиск по метке protodec" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684909','protodec',
      '21147959','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','protodec');">
   <a rel="tag" href="//www.liveinternet.ru/tags/protodec/">protodec</a>
 </span>  <span title="Поиск по метке messagelite" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684909','messagelite',
      '21147960','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','messagelite');">
   <a rel="tag" href="//www.liveinternet.ru/tags/messagelite/">messagelite</a>
 </span> 
<span id="DI_TAG_408684909">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684909"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684909+"=0;");
document.getElementById('post408684909').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684909);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684909;r="+Math.random();
        eval("serg_post"+408684909+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408684908" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408684908&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408684908" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408684908" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408684908" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408684908" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408684908"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408684908"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408684908">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684908">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408684908">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408684908">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408684908&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408684908&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408684908" id="blLi_ppan-like_408684908">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408684908&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408684908" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408684908').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408684908" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408684908">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408684908" id="updateForm408684908" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408684908/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" class="TTL"><b>Angular 1.x: крадущийся webpack, затаившийся grunt</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 12:21 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408684908/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408684908&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408684908links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <h2>История о том, как мы поменяли сборку проекта с grunt на webpack</h2><br />
Приходишь на работу, открываешь IDE, пишешь <code>npm start</code>, запуская систему сборки, начинаешь работать. Тебе удобно ориентироваться в структуре проекта, удобно отлаживать код и стили, очевидно, как именно и в каком порядке собирается проект.<br />
<br />
Проходит два года. В процессе разработки периодически задумываешься, куда правильно положить файлы с новым модулем, как быть с общими ресурсами, и не всегда с ходу отвечаешь на вопрос джуниора «а каким образом этот файл вообще попадает в бандл?». Или отвечаешь сакральное «так исторически сложилось» и тоскуешь по тому, что было два года назад.<br />
<br />
Как выяснилось, такое случается, если не модернизировать систему сборки вместе с ростом проекта. Хорошая новость в том, что это успешно лечится! Летом мы подтвердили это в бою и хотим поделиться опытом.<br />
<br />
<img src="https://habrastorage.org/files/a82/5e6/4a3/a825e64a3e0d4be897a87d56656d9bbd.jpg" /><br />
<a target="_blank" name="habracut"></a><br />
<h3>Исходная ситуация</h3><br />
Мы разрабатываем пакет офисных приложений МойОфис с 2013 года, web-версию (о которой и пойдет речь) – с 2014-го.<br />
<br />
Имеется несколько смежных проектов (файловый менеджер, авторизация и профиль, веб-редактор документов) с общими сабрепозиториями, каждый из которых представляет собой SPA-часть большого приложения МойОфис. Разработка ведется на <code>angular 1.5</code>, для continuous integration используется jenkins.<br />
<br />
Исходная система сборки на grunt, состоящая из сложносочиненных взаимозависимых задач, была создана на заре проекта и мало менялась с тех пор. Чтобы обозначить масштабы: dev-сборка запускала около 30 grunt-тасок, 30% из которых собирали модули и стили, 70% – перекладывали изображения и шрифты, обновляя ссылки на них. Порядок выполнения был критически важен, однако информацию о взаимозависимости можно было получить только от коллег.<br />
<br />
<h3>Зачем мигрировать и почему webpack</h3><br />
Собирать angular-проект на самом деле не так уж и сложно: нужно всего лишь сконкатенировать все исходные файлы в один, не забывая, чтобы модуль был объявлен раньше его контроллера. Мы делали еще проще: собирали вообще все файлы из папки src (используя `_` в начале имени файла для обеспечения правильного порядка подключения), добавляли массив внешних пакетов, а дальше подключали файлы прямо в head (конечно, только для dev-сборки, для production код конкатенировался в бандл с последующей обфускацией и минификацией).<br />
<br />
<img src="https://habrastorage.org/files/f0f/e2e/00b/f0fe2e00b457408f8553b01dceaae167.jpg" /><br />
<br />
Сборка очевидно устарела морально. Последние критические изменения были датированы 2015 годом, что в условиях современного фронтенда можно приравнивать к оплетенному паутиной углу, в котором уже, откровенно говоря, немодный grunt хранит свои промежуточные файлы.<br />
Плюс у нее был только один: пересборка проекта была условно бесплатной ввиду прямого подключения файлов в head.<br />
<br />
Минусов же гораздо больше:<br />
<br />
<ul>
<li> Собирая файлы по маске, мы не могли разрабатывать независимые подключаемые модули.</li>
<li> Количество HTTP-запросов в dev-режиме измерялось сотнями, а время перезагрузки страницы в таком режиме было на несколько секунд больше, чем в собранном приложении.</li>
<li> Из-за подключения по <code>*.js</code> маске в проект попадали неиспользуемые модули.</li>
<li> При добавлении нового js-файла приходилось перезапускать всю сборку.</li>
<li> Для подключения сторонних зависимостей мы хранили отдельный json c именами модулей.</li>
<li> Grunt вынуждал создавать большое количество промежуточных и конфиг-файлов, из-за которых наш <code>.hgignore</code> содержал в себе более 50 строк.</li>
</ul><br />
И чем больше расширялся наш проект, тем сильнее мешали недостатки билд-системы.<br />
<br />
Отойдя на шаг назад, взглянув на себя, на других, на тренды, вспомнив опыт предыдущих проектов, мы выбрали webpack, который эффективно решает вышеописанные проблемы.<br />
<br />
<h3>Организация работ</h3><br />
<img src="https://habrastorage.org/files/4b6/9f4/34b/4b69f434be8b46fca0e0207d56673872.jpg" /><br />
<br />
Главный секрет успешного рефакторинга – заранее четко определить шаги и составить план.<br />
<br />
<ol>
<li>Составить список всех требований.</li>
<li>Реализовать <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://en.wikipedia.org/wiki/Proof_of_concept">proof of concept</a> на небольшом участке проекта. Идея в том, чтобы собрать все возможные грабли дешево и в фоновом режиме, без рисков для основной разработки.</li>
<li>Осуществить полный переход с учетом всех тонких мест, выявленных в п. 2. Зная все проблемы и имея опыт перевода части кода на новые рельсы, можно довольно точно оценить трудоемкость.</li>
</ol><br />
<h3>Реверс-инжиниринг требований</h3><br />
Новая система должна была не только решить существующие проблемы сборки, но и поддержать несколько новых и давно желаемых фич (и конечно же, не лишиться старых). Составили список того, что должен уметь webpack в готовом виде: <br />
<ul>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://en.wikipedia.org/wiki/Incremental_build_model">Инкрементальный билд</a>.</li>
<li>Watch mode.</li>
<li>Поддержка source map (по флагу).</li>
<li>Минификация (по флагу).</li>
<li>Hot module replacement.</li>
<li>Поддержка Babel.</li>
<li><a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://en.wikipedia.org/wiki/Dead_code_elimination">Dead code elimination.</a></li>
<li>Разделить вендорный код и наш на два бандла.</li>
<li>Добавлять хеш к именам файлов.</li>
</ul><br />
<br />
При этом grunt из процесса исключать нельзя, так как он отвечает за сборку стилей, работу с изображениями и шрифтами, генерацию документации. Для единообразия хотим даже webpack запускать через grunt, а не через npm-таску, чтобы вообще не менять команду для сборки проекта и ничего не перенастраивать на CI.<br />
<br />
<h3>Proof of concept</h3><br />
На растерзание было отдано одно из наших приложений – SPA, отвечающее за все манипуляции с аутентификацией и профилем пользователя. По окончании работ с ним можно было бы приниматься за остальные.<br />
<br />
По-хорошему вся работа разбивалась на три части:<br />
<br />
1. Cоздать конфиг для webpack.<br />
2. Подготовить файлы для такой сборки. Форматы файлов:<br />
<ul>
<li>html,</li>
<li>js,</li>
<li>css,</li>
<li>media (картинки и шрифты),</li>
<li>большое количество конфигов, хранящихся в <code>json</code> и интегрирующихся в сборку где-то посередине.</li>
</ul>3. Переписать юнит-тесты.<br />
<br />
Css вместе с media временно отложили, так как они не интегрированы в angular и могут продолжать жить своей жизнью.<br />
<br />
<h4>js-модули</h4><br />
Для тех, кто уже давно не заглядывал в angular, напомним, как он выглядит изнутри:<br />
<pre><code>// module.js
angular.module('moduleName',[
   'dependencyOneName',
   'dependencyTwoName'  
])
.controller('SomeController', function(){…})
.directive('someDirecive', function(){});

// someService.js
angular.module('moduleName')
.service('SomeService', function(){…});</code></pre><br />
Главное, что нас тревожит в случае с webpack: все зависимости указаны просто строкой-именем необходимого модуля. Для построения графа зависимостей в webpack же необходимо явно указывать, какой файл подключить.<br />
<br />
Со временем образовался такой план:<br />
<pre><code>//module.js
module.exports = angular.module(‘moduleName’, [ 
    require('path/to/firstDependency'),    
    require('path/to/secondDependency')
])
.controller(...require(‘controller.js’))  //es6 spread syntax feature yay!
.name;

//controller.js
module.exports = ['SomeController', function(){}];</code></pre><br />
За счет использования es6 <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Operators/Spread_operator">spread syntax</a> мы смогли изящно избежать дублирования имени модуля при объявлении компонента.<br />
<br />
Так как формат подключения зависимостей менялся критически, в рамках POC нельзя было трогать общие сабрепозитории, чтобы не зацепить другие проекты. Поэтому все общие файлы пришлось методом тыка подключать вручную длинным-предлинным списком.<br />
<br />
<h4>HTML-шаблоны</h4><br />
Шаблоны делятся на две категории: <code>index.html</code> и все остальные. Собирать <code>index.html</code> несложно при помощи <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/jantimon/html-webpack-plugin">html-webpack-plugin</a>. Всеми остальными раньше занимался <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.npmjs.com/package/grunt-ng-template">grunt-ng-template</a>. Пришлось поискать webpack-плагин для работы с шаблонами. Требований к нему было всего два:<br />
<br />
<ul>
<li>Чтобы все шаблоны, упомянутые в модулях, тут же попадали в $templateCache.</li>
<li>Чтобы все внутренние подключения шаблонов (ng-include) тоже обрабатывались.</li>
</ul><br />
С первым пунктом справиться было <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/WearyMonkey/ngtemplate-loader">легко</a>, а со вторым возникли проблемы. До сих пор не существует подходящего решения, и, хотя написать его несложно, для нас подключить все такие шаблоны руками в js было быстрее. В будущем мы хотим разработать webpack-лоадер для этих целей. Если вы уже написали такой сами – поделитесь с нами в комментариях ссылкой на github.<br />
<br />
C попаданием в <code>$templateCache</code> интересный нюанс: если делать <code>require</code> внутри директивы или контроллера, то в кеш он попытается добавиться только в рантайме, не попадая заранее в бандл. С появлением <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://docs.angularjs.org/guide/component">angular-компонентов</a> это было исправлено, в остальных местах приходилось подключать шаблоны до объявления контроллеров.<br />
<br />
Чтобы легко выявлять пропущенные подключения шаблонов, мы добавили в <code>webpack-dev-middleware</code> прослойку, запрещающую загрузку любых вложенных <code>html</code>.<br />
<pre><code>function blockLocalTemplatesMiddleware(req, res, next) {
        var urlPath = parseUrl(req).pathname;
        if (/[^\/]+\/[^\/]+\.html$/g.test(urlPath)) {
            res.statusCode = 404;
            res.end('Request to .html template denied');
        } else {
            next();
        }
    }</code></pre><br />
<h4>Конфиги</h4><br />
У каждого из наших проектов есть конфигурации, зашиваемые в проект на этапе сборки. Раньше все конфиги хранились в нескольких json-файлах, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/werk85/grunt-ng-constant">grunt-ng-constant</a> заворачивала их в angular-модуль и подключала к проекту на этапе сборки, уменьшая прозрачность чтения и отладки. Использование <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://webpack.github.io/docs/list-of-plugins.html#defineplugin">DefinePlugin</a> сделало это гораздо удобнее и проще.<br />
<br />
<h4>Юнит-тесты</h4><br />
<ul>
<li>Чтобы не замедлять тестовую сборку, для подключения всего, кроме js, был использован <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.npmjs.com/package/ignore-loader">ignore-loader</a>.</li>
<li>В юнит-тестах пришлось напрямую обращаться к angular.mock из-за <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://stackoverflow.com/questions/32499108/karma-jasmine-webpack-module-is-not-a-function/32584798#32584798">webpack</a>.</li>
<li>Начали массово падать тесты, использующие <code>angular.element</code>. Знатно поломав голову, мы вспомнили, что <code>angular.element</code> использует jQuery, но не тянет его с собой, поэтому библиотеку надо подключать отдельно в <code>karma.config.js</code>.</li>
</ul><br />
<h3>Окончательная миграция</h3><br />
Три недели аккуратного POC спустя мы были готовы к окончательной миграции всего приложения целиком.<br />
<br />
<img src="https://habrastorage.org/getpro/habr/post_images/c2f/5b5/21f/c2f5b521f6ba8911e12194d0ca70298b.jpg" alt="image" /><br />
<br />
<h4>Работа с css</h4><br />
Мы провели миграцию в июне-июле, о статье задумались в августе, к написанию решительно приступили в декабре и за это время уже успели привыкнуть к удобству модульной структуры и решились на перевод сборки sass-стилей на webpack.<br />
<br />
И хотя эта статья изначально предполагала рассказ только о первом этапе миграции, мы не можем не поделиться опытом отказа от <code>grunt-sass</code>.<br />
<br />
Процесс такой миграции по сути довольно тривиален: просто подключать все необходимые стили в модулях, где они используются. Однако без подводных камней также не обошлось.<br />
<br />
Как работала сборка раньше? Подобно сборке js-модулей. По маске собирались все <code>*.scss</code> и импортились в одном файле. Далее <code>sass</code> отрабатывал на нем одном, все подключенные один раз миксины и хелперы были доступны везде, перекрестных импортов практически не наблюдалось.<br />
<br />
Для реализации модульной структуры мы начали в каждом файле стилей импортить переменные, миксины,<code> node-bourbon</code>, лунапарки, блекджек. Из-за этого случилось две беды:<br />
<br />
<ul>
<li>Из-за отсутсвия <code>import-once</code> (в нем не было особой нужды раньше) наши итоговые <code>.css</code> распухли настолько, что IE (в Chrome, Firefox и даже Safari таких проблем, конечно же, не было) не был в силах их распарсить. То есть страница загружалась, <code>.css</code> файл загружался, но осознать, что он полон стилей, IE был не в состоянии. Эта проблема разрешилась простым добавлением <code>import-once</code>.</li>
<li><code>sass-loader</code>, не обладающий инкрементальным билдом, пересобирал проект всякий раз заново и из-за обилия точек входа и импортов в них тратил на пересборку около 5 секунд. Справиться с этим не меняя архитектуры не представлялось возможным.</li>
</ul><br />
Однако обновление до недавно вышедшего <code>node-sass@4.0.0</code> ускорило пересборку примерно в 1,5 раза, и мы решили отложить массовую переработку стилей.<br />
<br />
<h4>Отладка и тестирование</h4><br />
Главное в разработке – не написать, а отладить, по результатам отладки мы составили шпаргалку для тех, кто решит повторить путь миграции (кстати, тут совершенно неважно, с чего слезать – с gulp или grunt). В основном все встреченные на пути дефекты и их диагностика выглядели как:<br />
<br />
<ul>
<li>“Ничего не собирается, в консоли IDE полно букв”: пытаемся подключить зависимость, которой нет (неверный путь или некорректный экспорт).</li>
<li>“Собралось, но ничего не работает, в консоли браузера очень длинные ошибки”: модулю не хватает зависимости. В старой сборке такой проблемы не было, потому что все модули попадали в сборку и легко можно не упоминать необходимую зависимость, не получив побочных эффектов. Теперь же не упомянутые нигде файлы в бандл не попадают.</li>
<li>“Все загрузилось, но при переходе или клике – падает”: на выбор три варианта – предыдущий, нехватка шаблона в <code>$templateCache</code> или же забыли добавить в сборку webworker.</li>
<li>“Приложение выглядит не так“: из-за смены порядка стилей мы еще довольно долго находили маленькие дефекты, вызванные изначальным расчетом на определенный (алфавитный) порядок подключения файлов.</li>
</ul><br />
Отдельное ручное тестирование от QA-команды в этой задаче не потребовалось, было достаточно просто прогонки автотестов. Единственное, о чем мы попросили тестировщиков, проверить, что jenkins успешно и корректно собирается со всеми возможными флагами.<br />
<br />
<h4>Технические моменты</h4><br />
Возможностей оптимизировать процесс работы angular при помощи webpack очень много. На github можно обнаружить десятки лоадеров (любопытно, что с того момента, как мы завершили миграцию, до дня, когда был начат этот абзац, там уже появились некоторые плагины, которых нам не хватало тогда). Однако треть из них не имеет документации и содержит только минифицированный код, поэтому пользоваться ими не представляется возможным, вторая треть работает неоднозначно (например, существует три лоадера для шаблонов, делают вроде одно и то же, а заработал корректно у нас только один).<br />
<br />
<h4>Неизбежные трудности</h4><br />
<ul>
<li>В этом разделе расскажем про трудности, встреченные нами на пути работы с выбранными инструментами.</li>
<li>Неудобно экспортировать имя модуля, непонятно, как решить эту проблему на angular 1.x.</li>
<li>Можно не подключить необходимую зависимость и остаться непойманным, если она же используется в другом модуле. Это выявляют юнит-тесты, запускающиеся изолированно, но общая тенденция не кажется здоровой.</li>
<li>У некоторых внешних angular-модулей из зависимостей нет экспорта, это причиняет страдание и убавляет прозрачность. </li>
</ul>Например:<br />
<pre><code>require('ng-file-upload');
angular.module('app', ['ngFileUpload'])
</code></pre><br />
Справиться с этим можно при помощи батареи пулл-реквестов на github, в свободную минутку мы порой отправляем их. <br />
<br />
<ul>
<li>Если писать модули в формате экспорта функции, необходимо упоминание <code>@ngInject</code>. Если это не сделано, минифицированная версия не работает, а линтерами эту ситуацию не отследить. </li>
<li>Webpack, оказывается, впадает в панику, когда у него есть два способа отрезолвить файл. </li>
</ul><br />
Например, структура проекта такова:<br />
<pre><code>+-- src
|   +-- module.js
+-- common
    +-- src
        +-- module.js

// webpack.config.js
 resolve: {
    root: ['src','common/src']
}

//app.js
require('module.js');
</code></pre><br />
При изменении файла change detection не может отработать корректно и проект совершенно непредсказуемо то пересобирается, то нет. Так как у нас было указано несколько входных точек с одинаковой внутренней структурой, пришлось отказаться от этого.<br />
<br />
<ul>
<li>Не все способы минификации работают на 100% одинаково. Раньше мы использовали <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/gruntjs/grunt-contrib-uglify">grunt-contrib-uglify</a>, сейчас перешли на <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://webpack.github.io/docs/list-of-plugins.html#uglifyjsplugin">UglifyJsPlugin</a>. Несмотря на одинаковые настройки, при переходе возникла проблема с тем, что одна из библиотек начала считать русские символы в HTML-шаблонах небезопасными и превращала их в дважды экранированные HTML entities. Логическому объяснению подобные случаи не поддаются, зато иллюстрируют пользу частого тестирования кода, собранного с настройками, используемыми для production.</li>
</ul><br />
<h4>Неожиданные бенефиты</h4><br />
<ul>
<li>Мы всегда создавали два бандла – код сторонних библиотек и наш. С webpack разделение происходит через <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://webpack.github.io/docs/list-of-plugins.html#commonschunkplugin">СommonsChunksPlugin</a>. Сначала мы держали две точки входа, на которые применяли СommonsChunkPlugin, но нашли отличное хитрое решение.</li>
</ul><br />
<pre><code>new webpack.optimize.CommonsChunkPlugin({
        name: 'vendor',
        chunks: ['app'],
        filename: 'vendor.[hash].js',
        minChunks: function minChunks(module) {
            return module.resource
                && module.resource.indexOf('node_modules') > 0;

        }
    })</code></pre><br />
Зачем разделять код на две части? Чтобы использовать <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://robertknight.github.io/posts/webpack-dll-plugins/">DLL</a>, ускоряя пересборку. Плюс при достаточно частых релизах (а мы стремимся увеличить их частоту) список зависимостей не успевает поменяться, сохраняя тот же hash. Это позволяет пользователю не загружать лишний файл, а просто брать его из кеша бразуера.<br />
<br />
<ul>
<li>Используя opensource-библиотеки, мы обязаны указывать имена их авторов. С webpack стало очень удобно собирать эту информацию при помощи <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://www.npmjs.com/package/license-webpack-plugin">license-webpack-plugin</a>, ориентирующегося по пути к подключаемому модулю.</li>
</ul><br />
<h3>Не пошло в работу</h3><br />
<h4>Автозагрузка модулей</h4><br />
Конечно, переписывать все зависимости модулей со строк на <code>require</code> нам не очень хотелось. Круто было бы прикрутить <code>loader</code>, который бы анализировал код и сам подставлял нужные <code>require</code>!<br />
<br />
Однако такой подход требует строгой структуры проекта, чтобы можно было однозначно сопоставлять путь к модулю с его именем. Фактически строка с именем модуля однозначно трансформировалась бы в путь к файлу. На момент миграции структура проекта не располагала к такому подходу, а реорганизация файлов заняла бы не меньше времени и грозила большим количеством конфликтов при объединении веток.<br />
<br />
Сейчас мы начинаем путь к строгой организации исходного кода и, когда закончим, сможем воспользоваться такими возможностями. Хотя этого, скорее всего, не захочется, потому что переходить по <code>ctrl-click</code> сразу в зависимый модуль крайне удобно.<br />
<br />
<h4>Hot module replacement</h4><br />
К сожалению, от HMR для js-кода мы вынуждены были отказаться. Существует <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://github.com/yargalot/Angular-HMR">два плагина</a>, но оба они требуют не только очень строгой структуры проекта, но и точного формата экспорта, а также работают только с контроллерами, но не с директивами. Даже при подходящей структуре пользоваться обновлением только для части кода совершенно неудобно. Однако для стилей HMR работает корректно.<br />
<br />
<h4>Советы себе в прошлое</h4><br />
Процесс миграции прошел довольно гладко и поступенчато, однако, как это обычно случается, уже завершив работу, мы придумали, как можно было ее облегчить:<br />
<br />
<ul>
<li>Вместо того, чтобы вручную заменять все строковые имена зависимостей на <code>require()</code>, проще написать одноразовый nodejs-скрипт, анализирующий текущую кодовую базу и сам заменяющий имена модулей на пути к ним.</li>
<li>Непроверенный совет! Возможно, имеет смысл сначала переписать код с использованием <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://browserify.org">browserify</a>, а потом уже приделывать к нему webpack, чтобы не разбираться, в чем именно из тонны внесенных изменений, проблема – в неправильных путях подключаемых файлов или же в самом сборщике.</li>
</ul><br />
<h3>О цифрах</h3><br />
Самое интересное это, конечно же, цифры. Интересные логи по задачам:<br />
<br />
<img src="https://habrastorage.org/files/f2b/bb2/798/f2bbb2798c8f46cb9d5eb11dbdf9a72d.jpg" /><br />
<br />
Пере- и недооценка имеют место быть, однако в целом нам удалось спрогнозировать трудоемкость довольно точно. Залогом этого успеха мы считаем четкую формулировку требования до начала реализации задачи. Опыт предыдущих и последующих массовых рефакторингов подтверждает это: если браться за задачу, планируя составить список требований в процессе разработки, — забыть что-то важное легче легкого.<br />
<br />
<h4>Время сборки</h4><br />
На старой сборке при обнаружении изменений в js страница начинала перезагрузку сразу же. Если были внесены изменения в стили, пересборка css занимала около 3,5 секунд.<br />
После переезда пересборка происходит за 5 секунд независимо от того, где были внесены изменения.<br />
<br />
Время загрузки страницы в dev-версии на старой сборке занимало около 1,5 секунд из-за большого количества подключаемых js-файлов. После перехода на webpack оно сократилось до 0,8 секунды. При изменении стилей, как тогда, так и сейчас, перезагрузки не требуется.<br />
<br />
Таким образом, получаются следующие данные. В таблице указано время от внесения изменений до их применения на странице:<br />
<br />
<img src="https://habrastorage.org/files/f07/4ae/747/f074ae747d424a62b49820adaaba4413.jpg" /><br />
<br />
<h2>Выводы</h2><br />
<img src="https://habrastorage.org/files/cbb/156/283/cbb1562838fd47cb81932d04114a51d2.jpg" /><br />
Минусы:<br />
<ul>
<li>время от внесения изменений до перезагрузки страницы увеличилось</li>
</ul><br />
Плюсы:<br />
<ul>
<li>масштабируемость проекта выросла – теперь добавить новый плагин или loader (подключить babel или postcss) гораздо проще</li>
<li>переход на модульную структуру наконец стал возможным</li>
<li>легко ориентироваться по зависимостям модуля при помощи ctr+click</li>
<li>в бандл не попадают лишние файлы</li>
<li>стало удобнее собирать информацию о сторонних лицензиях и отделять opensource-код от нашего</li>
<li>при добавлении новых файлов не нужно перезапускать всю сборку заново</li>
<li>избавились от длинного запутанного списка grunt-тасок, заменив его на список webpack-плагинов, пользоваться которыми куда удобнее</li>
<li>можно переключаться с ветки на ветку, не перезапуская работающую сборку</li>
</ul><br />
Планы на будущее:<br />
<ul>
<li>ускорить сборку</li>
<li>научиться собирать assets, используемые в стилях, при помощи postcss-плагинов, а остальные – webpack’ом</li>
<li>принять меры по поддержанию HMR для любых изменений</li>
</ul><br />
В целом ориентироваться в проекте стало проще, порог вхождения для нового сотрудника стал ниже, рефакторинг – доступнее, отслеживание зависимостей – удобнее. Теперь можно разрабатывать отдельные модули и не опасаться, что часть кода или css попадет в общий бандл.<br />
<br />
Было бы обидно прочитать такую длинную статью и не получить в конце бонус! Мы прикладываем для вас готовые <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://gist.github.com/newcloudtech/b5001f993cb2e2974725ff58962bf01b">конфиги для webpack и karma</a>!
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321584/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best">habrahabr.ru</a>.</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/F06UT4hFSF8" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321584/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best' target=_blank>https://habrahabr.ru/post/321584/?utm_source=habrahabr&utm_medium=rss&utm_campaign=best</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author myoffice_ru" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','author myoffice_ru',
      '19125804','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+myoffice_ru');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+myoffice_ru/">author myoffice_ru</a>
 </span>  <span title="Поиск по метке программирование" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','программирование',
      '28','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EF%F0%EE%E3%F0%E0%EC%EC%E8%F0%EE%E2%E0%ED%E8%E5');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EF%F0%EE%E3%F0%E0%EC%EC%E8%F0%EE%E2%E0%ED%E8%E5/">программирование</a>
 </span>  <span title="Поиск по метке javascript" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','javascript',
      '134','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','javascript');">
   <a rel="tag" href="//www.liveinternet.ru/tags/javascript/">javascript</a>
 </span>  <span title="Поиск по метке angularjs" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','angularjs',
      '9018570','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','angularjs');">
   <a rel="tag" href="//www.liveinternet.ru/tags/angularjs/">angularjs</a>
 </span>  <span title="Поиск по метке блог компании новые облачные технологии" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','блог компании новые облачные технологии',
      '19125805','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%ED%EE%E2%FB%E5+%EE%E1%EB%E0%F7%ED%FB%E5+%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%ED%EE%E2%FB%E5+%EE%E1%EB%E0%F7%ED%FB%E5+%F2%E5%F5%ED%EE%EB%EE%E3%E8%E8/">блог компании новые облачные технологии</a>
 </span>  <span title="Поиск по метке webpack" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','webpack',
      '18405266','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','webpack');">
   <a rel="tag" href="//www.liveinternet.ru/tags/webpack/">webpack</a>
 </span>  <span title="Поиск по метке grunt" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','grunt',
      '8134161','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','grunt');">
   <a rel="tag" href="//www.liveinternet.ru/tags/grunt/">grunt</a>
 </span>  <span title="Поиск по метке karma" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','karma',
      '43652','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','karma');">
   <a rel="tag" href="//www.liveinternet.ru/tags/karma/">karma</a>
 </span>  <span title="Поиск по метке система сборки" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408684908','система сборки',
      '2761410','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F1%E8%F1%F2%E5%EC%E0+%F1%E1%EE%F0%EA%E8');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F1%E8%F1%F2%E5%EC%E0+%F1%E1%EE%F0%EA%E8/">система сборки</a>
 </span> 
<span id="DI_TAG_408684908">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408684908"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408684908+"=0;");
document.getElementById('post408684908').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408684908);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408684908;r="+Math.random();
        eval("serg_post"+408684908+"=1;");
  }	
}
//--></script><div class="CONBL blo-fastcom_base" id="post408661405" style="position:relative; padding-bottom:40px;">

	<div class="li-earlap"><div class="li-earlap_wrap">
		<div style="float:left;">
			<span class="blo-fastcom_base_names" style="display:none"></span>
<a class="GL_LNXMAR4" title="Сообщение целиком и комментарии к нему"  href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/">Комментарии</a> 
<a class="GL_LNXMAR4" title="Комментарии к сообщению" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/comments">(<span class="blo-fastcom_base_count">0</span>)</a><a style="display:none;" href="/journalpostcomments.php?jpostid=408661405&journalid=4304502&postquote=1" class="blo-fastcom_base_init"></a>
		</div>
		<div class="li-J-share li-S-share" uniq="408661405" url="http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" vkid="1921613">
	<div class="li-S-share_btn">
		<a title="Спасибо" class="li-J-share_btn_item li-S-share_btn_item_Like" id="li-J-share_btn_item_Like_408661405" href="javascript:void(0);">Нравится</a>
		<a title="Поделиться" class="li-J-share_btn_item li-S-share_btn_item_Share mm-share" id="li-J-share_btn_item_Share_408661405" onclick="mmshare_open_ballon(this);" href="javascript:void(0);">Поделиться</a>
	</div>
</div>

<div id="li-J-share_src_Like_408661405" style="display:none;">
    <div class="li-S-share_src_public">
        <div class="li-S-share_src_public_Vk">
            <div id="vk_like_408661405"></div>
        </div>
        <div class="li-S-share_src_public_Ok">
            <a class="odkl-klass-oc" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" onclick="ODKL.Share(this);return false;" ><span>0</span></a>
        </div>
        <div class="li-S-share_src_public_Plus">
            <g:plusone size="medium" lang="ru" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/"></g:plusone>
        </div>
        <div class="li-S-share_src_public_Fb">
            <div id="fb_like_408661405"></div>
        </div>
        <div class="li-S-share_src_public_Ma">
            <a target="_blank" class="mrc__plugin_like_button" href="http://connect.mail.ru/share?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" data-mrc-config="{'type' : 'button', 'width' : 120}" rel="nofollow">Нравится</a>
        </div>
    </div>
	<div class="li-S-share_src_native">
		<ul class="li-J-share_src_native_Noauth_408661405">
			<li>
				<b></b>
				<span>Запись понравилась</span>
			</li>
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408661405">0</a></b>
				<span>Процитировали</span>
			</li>
			<li>
				<b>0</b>
				<span>Сохранили</span>
			<li>		
		</ul>
		<ul class="li-J-share_src_native_Auth_408661405">
			<li>
				<b><a href="//www.liveinternet.ru/search/?quotes=408661405">0</a></b>
				<span><a class="li-S-share_src_native_Quote" href="/journal_post.php?fpid=408661405&fjid=4304502&action=q_add" target="_blank">Добавить в цитатник</a></span>
			</li>
			<li>
				<b>0</b>
				<span><a class="li-S-share_src_native_Link" href="/journal_post.php?action=l_add&fpid=408661405&fjid=4304502&cnurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" target="_blank">Сохранить в ссылки</a></span>
			</li>
            
		</ul>
		<div class="blLi_ppan-like blLi_ppan-like_Unliked li-J-share_src_native_Auth_408661405" id="blLi_ppan-like_408661405">
			<span><a style="color:#3f5c1f;" href="/journal_proc.php?action=like&journalid=4304502&jpostid=408661405&backurl=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&tok=10db508d8a725fb1d4ac37255b4bc288">Понравилось</a></span>
		</div>		
	</div>
</div>


<div id="li-J-share_src_Share_408661405" style="display:none;">
    <!--
	<div class="li-S-share_src_icons">
		<a class="li-S-share_src_icons_Tw" title="Поделиться в Twitter" target="_blank" href="/twitter/ptt.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&t=">Поделиться в Twitter</a>
		<a class="li-S-share_src_icons_Fb" title="Поделиться в FaceBook" href="javascript:window.open('http://www.facebook.com/sharer.php?u=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/','','width=500,height=400,top=300,left=400')">Поделиться в FaceBook</a>
		<a class="li-S-share_src_icons_Lj" title="Поделиться в LiveJournal" href="javascript:document.getElementById('updateForm408661405').submit();">Поделиться в LiveJournal</a>
		<a class="li-S-share_src_icons_Vk" title="Поделиться Вконтакте" href="javascript:window.open('http://vkontakte.ru/share.php?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/','','width=500,height=400,top=300,left=400');">Поделиться Вконтакте</a>
		<a class="li-S-share_src_icons_Ma" title="Поделиться в Mail.ru" href="javascript:window.open('http://connect.mail.ru/share?share_url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/','','width=500,height=400,top=300,left=400')">Поделиться в Mail.ru</a>
		<a class="li-S-share_src_icons_Og" title="Поделиться в Одноклассниках" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" onclick="ODKL.Share(this);return false;">Поделиться в Одноклассниках</a>
		<a class="li-S-share_src_icons_Ya" title="Поделиться в Ярушке" href="javascript:window.open('http://my.ya.ru/posts_share_link.xml?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/','','width=600,height=400,top=300,left=400')">Поделиться в Ярушке</a>
		<a class="li-S-share_src_icons_Bu" title="Поделиться в Google Buzz" href="javascript:window.open('http://www.google.com/buzz/post?url=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/','','width=800,height=450,top=150,left=300')">Поделиться в Google Buzz</a>		
		<div style="clear:both;"></div>
	</div>
    -->
        <div class="mmshare">
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=1&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в социальную сеть Facebook"><img src="/images/sharer/fb_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=2&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в Twitter"><img src="/images/sharer/tw_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=3&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в социальную сеть ВКонтакте"><img src="/images/sharer/vk_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=8&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в социальную сеть Мой Мир"><img src="/images/sharer/mm_big.png" /></a>
<br />
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=5&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в Живой Журнал"><img src="/images/sharer/lj_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=6&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в социальную сеть Google Plus"><img src="/images/sharer/gp_big.png" /></a>
            <a href="/share/sharer.php?post=http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&soc=7&uid=&title=" target="_blank" class="mmshare_r1" rel="408661405" title="Поделиться в социальную сеть Одноклассники"><img src="/images/sharer/ok_big.png?v2" /></a>
            <div class="mmshare_counter" rel="408661405">0</div>
        </div>
        
</div>

<form style="display:none;" method="post" action="http://www.livejournal.com/update.bml" name="updateForm408661405" id="updateForm408661405" target="_blank"><textarea rows="11" cols="60" name="event">&lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&quot;&gt;&lt;/a&gt;&lt;br/&gt;... &lt;a href=&quot;http://www.liveinternet.ru/users/rss_rss_hh_new/post408661405/&quot;&gt;Р§РёС‚Р°С‚СЊ РґР°Р»РµРµ...&lt;/a&gt;</textarea><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
<link href="http://stg.odnoklassniki.ru/share/odkl_share.css" rel="stylesheet">
	</div></div>

        <table width="100%" cellpadding="0" cellspacing="0">
                <tr valign="top">
                    <td width="85%">
                        <h1 class="ZAG"> <a href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" class="TTL"><b>Контент фильтрация по госзаказу. Дело об образовательной блокировке РосКомСвободы</b></a></h1>
                    </td>
                    <td class="GL_TXTR">

<!--                        <h1 class="ZAG"></h1>-->
                    </td>
                </tr>
        </table>
        <span class="GL_TXTSM GL_MAR5B">
			 Вторник, 14 Февраля 2017 г. 11:27 
		        <!--(<a class="GL_LNXMAR22" href="//www.liveinternet.ru/users/rss_rss_hh_new/post408661405/" title="Постоянная ссылка на это сообщение">ссылка</a>)--> 
  <a class="GL_LNXMAR4" title="Сохранить сообщение в цитатнике" href="/journal_post.php?fjid=4304502&fpid=408661405&action=q_add" target="_blank">+ в цитатник</a>

<script type="text/javascript">
if(curuser==""){
  document.getElementById("post408661405links").style.visibility = "hidden";
}
</script>
<br/>

	 	</span>
        <div class="GL_MAR10T  GL_MAR10B MESS">
	        
		    
	        <img src="https://habrastorage.org/files/97f/1ce/943/97f1ce9432254a418a5d1ffa184def6f.jpg" /><br />
<br />
6 февраля 2017 года в Басманном районном суде г. Москвы состоялось первое судебное заседание по образовательной блокировке сайта Роскомсвободы rublacklist.net. Весной прошлого года команде проекта стало <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://rublacklist.net/17187/">известно</a> о том, что в образовательных и культурных учреждениях Москвы доступ к сайту общественной организации ограничивается в рамках внереестровой контент-фильтрации, которую осуществляет обслуживающий их оператор связи МГТС. По следам жалоб пользователей сайта rublacklist.net юристы “Центра защиты цифровых прав” провели расследование и выяснили, что МГТС не даёт конечным пользователям из столичных детских садов, школ, техникумов и институтов (большая часть из которых, как выяснилось, даже не дети, а сотрудники и совершеннолетние учащиеся) заходить на сайт РосКомСвободы, потому что является исполнителем по госконтракту с Департаментом информационных технологий Москвы (последний заказывает услуги связи и контент-фильтрации для столичного Департамента образования и подведомственных ему учреждений). <br />
<a target="_blank" name="habracut"></a><br />
На этапе претензионной <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://blog.digitalrights.center/dosudebnyie-peregovoryi-o-razblokirov/">переписки</a> оператор связи и департаменты заняли позицию ярых защитников детей, ссылаясь на то, что содержание сайта якобы не отвечает целям воспитания и образование детей (при этом изначально обоснование было иным — экстремистских материалы, которых на сайте так и не нашлось). Оставалось неясно, кто всё-таки осуществляет оценку педагогической ценности сайтов и составляет каталоги фильтрации для МГТС. Предварительно, в досудебной переписке оператор связи указал на коммерческую компанию ООО “Безопасный интернет”. В процессе выяснилось еще одно общество Стэп Лоджик, которое поставляет системы контент-фильтрации МГТСу.<br />
<br />
Первое судебное заседание по делу прошло без рассмотрения правовых позиций по существу, потому что ответчики решили представить свои отзывы сторонам дела за 5 минут до заседания буквально в дверях зала суда, судья эти отзывы увидела уже на самом заседании (видимо, будем судиться по-старинке, долго, в куче бумажек, об электронной почте и системе электронной подачи документов ответчики ещё не слышали). Кроме того, в связи со смешанным характером ответчиков судья решила рассмотреть дело в порядке административного судопроизводства в связи с чем попросила представителей департаментов и всех остальных ответчиков представить дипломы о наличии высшего юридического образования. <br />
<br />
К делу также был привлечён Роскомнадзор в качестве третьего лица не заявляющего самостоятельных требований. <br />
<br />
Отрадно, что на судебное заседание по образовательной блокировке сайта Роскомсвободы явились все стороны по делу — от Департамента информационных технологий (ДИТ) прибыла целая команда из трёх человек под предвадительством Андрияновой Н.И. <br />
На заседании представитель ДИТ вела себя дерзко, шлёпнула распечатку 200-страничного госконтракта в сторону юристов ЦЗЦП (мы вообще-то уже давно прочитали его онлайн) и пыталась вступить в спор с судьей по поводу избранного порядка рассмотрения иска (по КАС РФ). В письменном <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/sarkisdarbinyan1/ss-72112055">отзыве</a> ДИТ упирает всего на два довода: 1. департамент является ненадлежащим ответчиком (хотя является заказчиком фильтрации); 2. у администрации сайта нет права оспаривать контент-фильтрацию rublacklist.net (без комментариев). Будем надеяться, что боевой пыл ДИТа сохранится до основного заседания, когда суд перейдёт от собирательства отзывов медлительных ответчиков к непосредственному разбирательству.<br />
<br />
<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/sarkisdarbinyan1/ss-72111919">Позиция МГТС</a> почти ничем не отличается от того, что оператор связи писал в ответ на досудебные претензии РосКомСвободы. МГТС считает, что единственным критерием надлежащего оказания услуг является отсутствие предписаний со стороны столичной прокуратуры, которая якобы должна проводить проверки в детских садах, школах, вузах и т.п., вдруг учащиеся и сотрудники узнают из интернета что-то лишнее. Жалобы иных лиц оператора связи не волнуют, хотя команда РосКомСвободы всё же оценила красивый жест МГТС со сменой заглушки с “экстремистскими материалами” на указание на нарушения администрацией сайта законодательства о защите детей от информации.<br />
<br />
Роскомнадзор, обычно претендующий на роль как главного цензора Рунета, обладающего монополией на блокировки, в этот раз не принял ни сторону администрации сайта Роскомсвободы, ни сторону ответчиков, и робко <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.slideshare.net/sarkisdarbinyan1/ss-72111243">предложил</a> суду разрешить дело по своему усмотрению. При этом служба невзначай обратила внимание суда на то:<br />
<br />
 — что одна из страниц сайта какое-то время блокировалась на основании решения Анапского городского суда Краснодарского края (из-за информации о средствах онлайн-анонимизации и инструментах восстановления доступа к информации), но в итоге была исключена из Реестра запрещённой информации и больше сайт туда не попадал.<br />
<br />
 — что юристами Центра, представляющими Роскомсвободу не представлены доказательства образовательной ценности информации, размещенной на сайте проекта организации, например такой как на сайте проекта Роскомнадзора персональныеданные.дети.<br />
<br />
Видимо, в Роскомнадзоре плохо знают об образовательных проектах Роскомсвободы вроде <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://safe.rublacklist.net/">SAFE</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://rublacklist.net/24592/">исследованиях</a> организации по законодательству и правоприменению в сфере Интернет-регулирования или проводимых практических <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://cif.pirate-party.ru/">конференциях</a> по развитию криптографии. <br />
<br />
Во всех трёх письменный отзывах была также ссылка на <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=http://www.minobr74.ru/Storage/File/Storage/2014/2014-05-14-Metodicheskie_rekomendazii_dla_obespechenia_informazionnoi_bezopasnosti_detei.pdf">Методические рекомендации</a> по ограничению в образовательных организациях доступа к определённым видам информации (утверждены Минобром в 2014 г.), которые якобы Истцом не оспаривались. Именно в этом рекомендательном документе всплывает такой повод (даже не основание) для контент-фильтрации, как “несоответствие задачам образования”. И хотя среди законных оснований для контент-фильтрации, изложенных в законе о защите детей от информации, такого основания никогда не было и нет, оппоненты продолжают упорно ссылаться на эту незаконную формулировку.<br />
<br />
Департамент образования и ООО “Безопасный интернет” воздержались от письменных возражений.
<div style="font-size:x-small;padding-top:2em;">Original source: <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321766/">habrahabr.ru</a> (<a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321766/#comments">comments</a>, <a target="_blank" href="//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://m.habrahabr.ru/post/321766/">light</a>).</div><img src="http://feeds.feedburner.com/~r/xtmb/hh-new-full/~4/ew99EruoC7E" height="1" width="1" alt="" /> <p align='right'><font size=1> <a href='//www.liveinternet.ru/journal_proc.php?action=redirect&url=https://habrahabr.ru/post/321766/' target=_blank>https://habrahabr.ru/post/321766/</font></a></p>
	        
	        
	        <div class="B"></div>
        </div>
        <table width="60%"  border="0" cellpadding="0" cellspacing="0">
                <tr class="GL_TXTSM" valign="top">
	                <td>
	                    <br/>
	                    <b>Метки:</b>  <span title="Поиск по метке author sardarbinyan" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','author sardarbinyan',
      '16522899','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','author+sardarbinyan');">
   <a rel="tag" href="//www.liveinternet.ru/tags/author+sardarbinyan/">author sardarbinyan</a>
 </span>  <span title="Поиск по метке законодательство и it-бизнес" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','законодательство и it-бизнес',
      '16892117','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E7%E0%EA%EE%ED%EE%E4%E0%F2%E5%EB%FC%F1%F2%E2%EE+%E8+it-%E1%E8%E7%ED%E5%F1');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E7%E0%EA%EE%ED%EE%E4%E0%F2%E5%EB%FC%F1%F2%E2%EE+%E8+it-%E1%E8%E7%ED%E5%F1/">законодательство и it-бизнес</a>
 </span>  <span title="Поиск по метке блог компании центр защиты цифровых прав" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','блог компании центр защиты цифровых прав',
      '21041681','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%F6%E5%ED%F2%F0+%E7%E0%F9%E8%F2%FB+%F6%E8%F4%F0%EE%E2%FB%F5+%EF%F0%E0%E2');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%E3+%EA%EE%EC%EF%E0%ED%E8%E8+%F6%E5%ED%F2%F0+%E7%E0%F9%E8%F2%FB+%F6%E8%F4%F0%EE%E2%FB%F5+%EF%F0%E0%E2/">блог компании центр защиты цифровых прав</a>
 </span>  <span title="Поиск по метке роскомсвобода" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','роскомсвобода',
      '10102484','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%F0%EE%F1%EA%EE%EC%F1%E2%EE%E1%EE%E4%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%F0%EE%F1%EA%EE%EC%F1%E2%EE%E1%EE%E4%E0/">роскомсвобода</a>
 </span>  <span title="Поиск по метке блокировки сайтов" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','блокировки сайтов',
      '16194608','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%E1%EB%EE%EA%E8%F0%EE%E2%EA%E8+%F1%E0%E9%F2%EE%E2');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%E1%EB%EE%EA%E8%F0%EE%E2%EA%E8+%F1%E0%E9%F2%EE%E2/">блокировки сайтов</a>
 </span>  <span title="Поиск по метке контент фильтрация" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','контент фильтрация',
      '21147774','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EA%EE%ED%F2%E5%ED%F2+%F4%E8%EB%FC%F2%F0%E0%F6%E8%FF');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EA%EE%ED%F2%E5%ED%F2+%F4%E8%EB%FC%F2%F0%E0%F6%E8%FF/">контент фильтрация</a>
 </span>  <span title="Поиск по метке онлайн цензура" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','онлайн цензура',
      '21147775','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EE%ED%EB%E0%E9%ED+%F6%E5%ED%E7%F3%F0%E0');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EE%ED%EB%E0%E9%ED+%F6%E5%ED%E7%F3%F0%E0/">онлайн цензура</a>
 </span>  <span title="Поиск по метке мгтс" class="DI_TAG_MNU" 
   onClick="showtag('DI_TAG_408661405','мгтс',
      '5843','4304502','http://www.liveinternet.ru/users/rss_rss_hh_new/','%EC%E3%F2%F1');">
   <a rel="tag" href="//www.liveinternet.ru/tags/%EC%E3%F2%F1/">мгтс</a>
 </span> 
<span id="DI_TAG_408661405">&nbsp;</span>

	                </td>
                </tr>
        </table>
<font size=0.7pt>
  
  
  <span id="sergstat408661405"></span>
</font>
</div>
<script type="text/javascript"><!--
eval("var serg_post"+408661405+"=0;");
document.getElementById('post408661405').onmouseover = function() 
{
  eval("var cur_post=serg_post"+408661405);
  if (cur_post==0){
	new Image().src = "/cgi-bin/rpl.fcgi?u=4304502;p=408661405;r="+Math.random();
        eval("serg_post"+408661405+"=1;");
  }	
}
//--></script></div><br/>
  
  
  <div class="BAR">
    <table width="100%"  border="0">
                <tr>
                        <td class="TLE BlNavSrch">
            <form id="BlNavSrchBtm" method="GET" onKeyDown="checkKeyId('BlNavSrchBtm');" action="http://www.liveinternet.ru/search/?sm=1&in=1&cb=6&cg=7&cc=3&cj=5&cr=4">
                                <input type="hidden" name="jn" value="rss_rss_hh_new" />
                                <input class="BlNavSrchInput" type="text" name="q" value="Поиск сообщений" onfocus="if (this.value=='Поиск сообщений') this.value='';" onblur="if(this.value=='')this.value='Поиск сообщений';"/>
                                <nobr>
                                        <input type=checkbox value="1" name="in" id="BlNavSrchInputHereBtm" checked="checked" /><label for="BlNavSrchInputHereBtm">в этом дневнике</label>
                                </nobr>
                                <input type=submit value="Ok" style="display:none;" />
                                <img OnClick="document.getElementById('BlNavSrchBtm').submit();" src="http://i.li.ru/ReActive/i/blog/top/nav_srch-btn.png" alt="Поиск сообщений в rss_rss_hh_new" title="Поиск сообщений в rss_rss_hh_new" />
            <input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>
                        </td>
                        <td class="TRI">
                                <b>Страницы:</b>
                                   
                                <SCRIPT language=javascript type=text/javascript>var maxpages=963;</SCRIPT> 
<!--                                <SCRIPT language=javascript type=text/javascript>var friend='';var mp=maxpages;var curpage=811;if (curpage==-1) curpage=1;var cp=0;cp= curpage;var urls1='/community/rss_rss_hh_new/blog/';var u2_1='';var u2_2='/community/rss_rss_hh_new/blog/page';var u2_3='.html';writepage();</SCRIPT>-->
<!--                                <SCRIPT language=javascript type=text/javascript>mp=maxpages;writepage();</script> -->
                                <a href='/community/rss_rss_hh_new/blog/page963.html'>963</a> ... <a href='/community/rss_rss_hh_new/blog/page813.html'>813</a> <a href='/community/rss_rss_hh_new/blog/page812.html'>812</a> [811] <a href='/community/rss_rss_hh_new/blog/page810.html'>810</a> <a href='/community/rss_rss_hh_new/blog/page809.html'>809</a> ..<form style="display:inline" action="#" onSubmit="window.location='/community/rss_rss_hh_new/blog/page'+this.formpage.value+'.html';return false;"><input type=text size=1 maxlength=4 name=formpage /><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form>.. <a href='/community/rss_rss_hh_new/blog/page1.html'>1</a>


                                <a href="//www.liveinternet.ru/users/rss_rss_hh_new/calendar/">Календарь</a>

<!--                                <a href="javascript:pviev();"><img width="14" height="14" alt="Версия для печати - Habrahabr/New" title="Версия для печати - Habrahabr/New" src="http://i.li.ru/4Ek/i/diary/print.gif" align="middle" /></a>


                                <a href="//www.liveinternet.ru/users/rss_rss_hh_new/calendar/">Календарь</a>&nbsp;
                                <a href="//www.liveinternet.ru/users/rss_rss_hh_new/export/">Экспорт</a>
				<a href="//www.liveinternet.ru/evernote/journal.php?fu=4304502" title="Сохранить сообщения дневника в Evernote..."><img src="http://i.li.ru/ReActive/i/blog/share/evernote2.png" width=18 height=18 border=0 align="absmiddle" >Сохранить</a>-->
                        </td>
                </tr>
        </table>
   </div>
</div>
</div>


<script language="javascript" type="text/javascript"><!--

function rnl_start() {
}

function rnl_add(post_id,jour_id, post_name,jour_name, rating, count_hour,count_day,count_mont,count_all) {
	if (post_id>0 && jour_id>0) {
		if (post_name=='') post_name=post_id;
		if (jour_name=='') jour_name=jour_id;

		var s='Прочитало: <span title="За час/день в дневнике и ленте друзей">';
		s+=''+count_hour+' за час';
		if (count_day!=count_hour)s+=' / '+count_day+' за сутки';
		if (count_mont!=count_day) s+=' / '+count_mont+' за неделю';
                if (count_all!=count_mont) s+=' / '+count_all+' за месяц';
		s+='</span>';
		if (typeof(document.getElementById("sergstat"+post_id))!='undefined' && document.getElementById("sergstat"+post_id)) document.getElementById("sergstat"+post_id).innerHTML=s;
	}
}

function rnl_end() {
}
//if(userid==739 || userid==2995){
document.write('<sc'+'ript language="javascript" type="text/javascript" charset="Windows-1251" src="/cgi-bin/rpls.fcgi?list=408684931,408684930,408684929,408684928,408684927,408684926,408684925,408684924,408684923,408684920,408684919,408684917,408684914,408684913,408684912,408684911,408684910,408684909,408684908,408661405"></sc'+'ript>');
//}
//--></script>



</div><div class="Bo">
</div>


</div>




<div id="GlFtr">



                 <div id="GlFtrInnr">

                 <div id="GlFtrInnrTL">
                 <div id="GlFtrInnrTR">
<center>
<script src='//mediametrics.ru/partner/inject/inject.js' type='text/javascript' id='MediaMetricsInject' data-width='1250' data-height='120' data-img='true' data-imgsize='170' data-type='text-over-image' data-bgcolor='FFFFFF' data-bordercolor='000000' data-linkscolor='232323' data-transparent='' data-rows='5' data-inline='' data-font='small' data-fontfamily='arial' data-border='' data-borderwidth='1' data-alignment='horizontal' data-country='ru' data-site='mmet/liveinternet_ru'> </script>
</center>
<div class="gl_Bar"  id=":gl_Bar" style="display:none;">
	<div class="gl_Bar-ttl"><div class="gl_Bar-ttlT"><div class="gl_Bar-ttlI">
		<div class="gl_Bar-ttl-like" id=":gl_Bar-ttl-like"></div>
		<div class="gl_Bar-ttl-tip"><span class="gl_Bar-ttl-tip-str" id=":gl_Bar-ttl-tip-str"><IDXSKIP>Наведите сюда мышку, чтобы узнать, как сделать работу с сайтом еще удобнее</IDXSKIP></span></div>
	</div></div></div>
	<div class="gl_Bar-desc" id=":gl_Bar-desc" style="display:none;"><div class="gl_Bar-descI" id=":gl_Bar-descI"></div></div>
</div>

                   <IDXSKIP><div id="GlFtrCntr">                   
                    <!--<span>Copyright &copy; 2002-2012</span>-->
                    <a href="http://www.liveinternet.ru/stat/groups/li/" target="_blank"><img src="//counter.yadro.ru/logo;groups/li/?52.1" alt="liveinternet.ru: показано количество просмотров и посетителей за 24 часа" /></a>                  
                    <strong><a href="http://www.liveinternet.ru/">LiveInternet</a></strong>

                   </div></IDXSKIP>
                   <div class="GlFtrSrvs">
                    <IDXSKIP><b>О проекте</b></IDXSKIP>

                    <ul>                    
                     <IDXSKIP><li><a href="http://www.li.ru/">Версия для PDA</a></li></IDXSKIP>                   
                     <IDXSKIP><li><a href="http://www.liveinternet.ru/contacts.html">Контакты</a></li></IDXSKIP>
                     <IDXSKIP><li><strong><a href="http://www.liveinternet.ru/ad/">Разместить рекламу</a></strong></li></IDXSKIP>
                    </ul>
                   </div>  






<!--AdLayer.Mediatarget--><script type="text/javascript">
(function(){var s = document.createElement('script');
s.setAttribute('async', 'true'); s.src =
'//sticker.yadro.ru/ad/slider.js?place=356;rnd='+Math.random();
document.documentElement.firstChild.appendChild(s);})();
</script><!--/AdLayer.MediaTarget-->

                   </div>
                 </div>
                 </div>
		</div>

<div id=":gl_Top-nav-user-info-lnk-itemLogin_menu" class="gl_Menu" style="display:none; position: absolute; top: 26px; left: 204px; z-index: 777; "><div class="gl_MenuT"></div><div class="gl_MenuI"><b class="gl_Menu-hdr">Сменить</b><form class="gl_Top-nav-user-info-lnk-itemChange-menu" action="https://www.liveinternet.ru/member.php" method="post" name="diary_login_form"><input type="hidden" name="action" value="login"><fieldset><label>Логин</label><input type="text" name="username" tabindex="1"></fieldset><fieldset><label>Пароль</label><input type="password" name="password" tabindex="2"></fieldset><input value="Войти" type="submit" tabindex="3"><a style="margin-left:7px;" href="/journals.php?s=&action1=login">Выйти</a><input type=hidden name=tok value=10db508d8a725fb1d4ac37255b4bc288 /></form></div><div class="gl_MenuB"></div></div>

		<script type="text/JavaScript" src="//i.li.ru/ReActive/js/global/lib/lici.js"></script>
	        <script type="text/JavaScript" src="//i.li.ru/ReActive/js/global/li.js"></script>

		<script type="text/JavaScript">
                   LI.topPanel.accounts = [];
                   globals.avatarChange.status = '';
        	   globals.avatarChange.url = '//av.li.ru/';
                </script>


                <link rel="stylesheet" type="text/css" media="all" href="//i.li.ru/ReActive/css/apps-brand.css" />
                 <script type="text/javascript">
	
	LI.notify.show([]);
</script>


<!--AdFox START-->
<!--Liveinternet-->
<!--Площадка: Liveinternet / Все страницы / Fullscreen-->
<!--Категория: <не задана>-->
<!--Тип баннера: Fullscreen-->
<script type="text/javascript">
<!--
if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
if (typeof(document.referrer) != 'undefined') {
  if (typeof(afReferrer) == 'undefined') {
    afReferrer = encodeURIComponent(document.referrer);
  }
} else {
  afReferrer = '';
}
var addate = new Date(); 
document.write('<scr' + 'ipt type="text/javascript" src="//ads.adfox.ru/248071/prepareCode?p1=buwig&amp;p2=fjhn&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '"></scr' + 'ipt>');
// -->
</script>
<!--AdFox END-->



<!--AdFox START-->
<!--Liveinternet-->
<!--Площадка: Liveinternet / Все страницы / InRead-->
<!--Категория: <не задана>-->
<!--Тип баннера: InRead-->
<div id="adfox_1489741588404913"></div>
<script>
    window.Ya.adfoxCode.create({
        ownerId: 248071,
        containerId: 'adfox_1489741588404913',
        params: {
            p1: 'buwdh',
            p2: 'fjgs'
        }
    });
</script>

    <style>
#closeButton{
    width: 32px;
    height: 32px;
    background: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAABsCAYAAAH4YWdbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAGEBJREFUeNpiPMbHw4ADbAViSyAWBeK/6JKMaBqtLD9+1sFmynF+3pkg9TA+E5Lcf1yaQAAoly7o7r4B3UYrfJqw2cwENQ2u6bgA30x8GkE2ozsVIvHhUzohzSBvgTRuJ1WzdHHJVCZokDOQolksJvYOSKMwTv/g0HzeUL+fCVvkEtLMyMp6iAkpiPFqRgmZ37/tYaHKeCMizIvIeJyFLcn9h8UTPk0gwIKedoGSYANkSsumioRH3LlgYtTPJil5+Nfz53bICgECiBFH7lAF4rNAvBSIMwnlDKzOfDZ5ktrDmuoSDE1AxWlEBEgSkLIAh6RIcMhKYkIRaPA8WKLuVp03fy+I86S7SwurDUgRziYldZeJRVg4AiYADLVrDyrKTdA1IEe28fWbnYz////H8AtIo0JH5xl0DfCAwKYJmw3IgOnLubN8uDSgOxU5yFHiBt0GmFNRbEIuyrClcJCGJ12d2nBDBfn7wZHLKio6xeTOvUsklVq/X7/OuWhpzkyMBuwJlpHxLxMn5yejC5dqH1RXWb9ZvSoC3QsAAcSIpw6AgQ4gLgcmgqem9x40oUuCQv+yo0M3rCADpW9cBuGy7J+Qt/cG9WUrdjCQAYCBPJ3h378uILMSn2X/gNGdwUAlcMXFKerz6dNTgczV6JbhLZooASipA59FoMRLRFWFty6Emv0XZJk6Ph+BEj0sq2EzECaGK//CcxcX1xdQMH4CWlZCbJCALH0+Y3oqMRYgg1/PnrKDfLaMlPAHWQSyRDIjczYxwQsDD2trrWAJhGAqxFXUwXxKyJegRAJLILKgmgZfxOMyjFCcIqdGlHzGyMz8y+LdhxxaJHusJQgzN/dlTk3Nd7p79y+lgiVCQPye2LLxP6h2BFZ2XcRawMjC8uP/nz+c2OQBAoiYghgZlAMxKCEpAPFpIAY5Yg2xmlmIUPMfREjl58+Qb2o5D2S2I8kJXfV03/Pp2DFnIPsdvtYnIZ8Bg1D6jvH1G90kxtM1INYm1meM0HxHcqEM0gNstTKeEBH6j15xYusj8JJrEVLbGlao/ydk2SdqVTPYLGQitqlNgYV/0S2bZfbsRRYtKk4WQcFX6JalAkuOv9jKxQdVlSbEtjvAbQ80YPrgUT0sOEGpUUJn155yQp0rhbb2M3gbOCD17z9mYk81jP8Z/v8H++w5r7n5B3wdsufTpqbi8iFBiyBmgEodbxaiIhqHD4mxCAlsYSE6ZaFZSKJF2LsGRLWiQHEAyiokWIRcU5NQRDD+A0Y2o2Rm1lySswHJzWoSUinZlqHHEdzCf/8Y0HtgOELkGwuQ+EWqRVgTDR4Lge19AWDQizMBCfYbYSFe5GZYcD4ENuVwdU6hHYxOUO8KHIzvd+70B1LbyMmwRPmQkfE3qASB1dQSwv4Bk9QWLd5Dqx4MckH84u3GDaHUtuj1yhUyLAICM0kal6GGr7DV1IyERsqIAf9+/mRCtwjrOCXMwve7doqRY9E5He3CU5LifcQ0eOAWPigvEwZZCmotEdUlqqsxBKn/+fiR/v+/f7mwdghxaf5x714hyNLLLs7cIENAGNggDf2wd48ISP7l/HkK5/V182ByrCKiJVDf4CwkAAKI1OY3PiABxAuB2I1M/T+AuAiIp1PDMZR4DDSICu5aM/PwvNVcs66b19LyPaUOApac3sACzQ/K/Q3E8qCWC609dhGI9YD90z/Gt+4UsIqI/GagMbgeFOgHTJLeUC5orPU6tTwG6ml8AjH0jh4r4dbR/cwwQOC8gV7ej/v3QX2xA0DsSK7HwH00pM7BoAG3kxKd36xdEwYdLIomxWPgJGdw6kwRp7r6V4ZBCk7JSrf+/fQJVHJyAPFPQkXwf0YWFvCA4GD2FAiYPX5arbVpcxW0RK3A5zHQOMRti7fv84gx+KyWZgmxvUSS2xLAJt0Fc1OCWYDf3uEtNKuABmbmY+24g4pt4+s3eoi1XNjP7wCog0hKN5iobjK07Wlw8jTR7SCLN+9AHc0EWJ6D5bGdoIqV3EICebhYMit7NikdGpRG9///TKCeGCndPWRwJy3VAdhEjUQeP/0vlZc/U7655RwloU2OB6nhISzN4UMgj4EyXTs1i3RiPEhtD8EAqI356dgxF5DH7gH5irSoq7B5kFYegoEPu3eJXg8JbgEPfdC6Ekb2IGjYBOihDAYaAtgwyxmaWgKMIbCngDEEmh4CDdFQsxRFBy8XLlCAlYohQHo1tWMMX5KjRilKqD0JLxX5bGz2aG/dvpqWHsKbB4GxSdQwFHGlYifMY7lAPImSWKOkUKCWB0EtoV9Pn6gyoMwDMjG9Z/j3T4BUz1GzlKPEg48a6vWf9veBZiJA4xLfUVv3jIx/gI5kJtZzoLbc91u3DKhdbMM8CJ4/u3ad4PzZ4/Y2nScd7aBUpwLEd7F2W5jY2e/8+/lTGVwkMzH9Zxjk4Ly+bv6PBw+00LsuLFgGz0C+1gImsasciopXDS9cmjQYPQQa5DspJjKdkZn5Bynjb6DpUMbfb958B5Uyt5OTHAeTp4BumgHyFJDJ/f/vX/Jnv1mEhHb+effOjZmb+73ZsxcVA+EZYPdI9UFlBWyBCie0c4nbzcQYCvSUO4j++/UrO7DV8B3UemDm43sN7MHW0NIzj1tbdJ90dYJXa7BJyyzCluQo8hgS+Aku2kGe/PSJ4aym+uZfz575wNqAouERy1VmzjpIjic+Hz8ueDs1Jenn40dq0Ornr6Cbmxm0jmUA1k80HVckCHjNzJJ/3LtXAMyfRC1dBmb+n+yKiiuEvLzLnk2a+Ipa7gAIQM35xzR1RXH8UQrVllaKxbBa5o/JpICIsDKBGTfnxmJiFje3GV1cXBwmJiyQwDZh+090mzMh0bkFdMlMsywMRc06iXEbLrAQBgwDZZE5kMyBsqJQSgdC6e65va++lUJf2/sebye57Stpy/v0/jr33O891MGIgUBxByogBski84sWKgaVYTI4/YTKeYimCXEDNMGgLxwj80kodgUVWNbfo3Ez8jA/r0elk/GomrBpcnO/X1FxpD4mM8vO5wtgm2bIbN4+PTz8PKlNsI98w2li1dgjcE+oRMELbX7+peSaWku4vzIMIL/tfKnU5XCwOqZqVArEArMyns0BZsXhiuP6wrd7hOgjbcbk0gcDf60hL/NQ+VkoMCPp9Ezss1stxvN1l4SelNHIGtX2+JpK5F1AlwGZ9XraYEdxm5fJZjYO2Q6CTktMr+PG7l0v3LNYYJR1kxHXTQPsR1SeXmiH2Gm1xlzP3XicHaPI1DGnBdLMNAMUGhwuLrSXr0xNdXDWiTDiqkMFM6PypO7lnTVoxPtOKp69D1xEsGAg+9ijNpmusUdSpGQcOFcwYApUapD3bku7+sNXjEQto7W9mNTYdb5gTniATTUphwQWJyU5oZugy3RUcgOBgRsjS7lwUdJQrEE3QVMPxDmaAoEdlWu1d5Y8s8XG/E/M1P9nMbmsmgsMH2IjAtuABmc8/Al0aditskNZEN9HK/bIgOsjlcoF28sMEdP4A9sXnZDQy9uXS02phNU0bTiAGjz1aQEJDWzg8xnO9vIxX7Dd8JDZ1f0x3xvAQVKPwJUaHBcq2M2KSLUaljwlvmBnIWYRrA9IEy4cKOyhn6tjKyWBCxape+XVr0OaLCnAhQuFYy0P5e9nWTCs002qPt0QsicQBhwNKG84YOlSCGU9x4JRCYCGAkcTCmzZntct3D62SaZU2sWGow2FV/QP5RxrcR+Lychooeag8oDzgaqiuVVLbAcGU+fk3qDqfc8D5weqTYA53pOsQJOTM0j7m/3BiQQFlozjiouNRkFUowDHbuWi589hM0MEKDAdrjGFIXFCsEWhp+bcIkLhYQODTfT2KoX6D9D8WCiwwc9O7RfB6R/FYKPXGpYJBcXtU7R9y3kMJ2Vh7I2Nq4SGguYnhOM8h7ViMEdb6zqhoYRcFfixqyA8mSBadsGhhIbjJEWpgwNrlWJCCQnXX16Wz4bloClWwBU+micSlFBw+Dg9OcYIYA646Hlj734xoQSCi0DfU+JdaEIGKaIaExWKJhzn/OcJL5h7agq3TVCQiQ1FCw6fNZXJRnxjHhNwSJTI4kSHChdu8OQJT2ubmVk/O/zmdifjkNeRCl76jMTy9zuE8P24cJO3b/NSINwqLyuBNE/Q6Lyd7T8bfzLZOKJWSuFYFUApDIaAzjka9LYOX6iD3SHY8L8zu8Y8VYllDe3paUULDcYHCt1vBEDJFIo/uFCzwdAPJY+NrZrs7zfCMWZG4tasi8MjINFYMvOBMdMjIwdA3Hiz4K0PQOwoVahfM9IL3S4X6Ez8uoN+b5wVNxKxo+QMci4i/zYtKj4eEpd18wYjpoIHUHNKCer3N/dtuX/58ouRanUrZMyb633zgcHOJijW8Ll5KTRLSC9nO1f7WqRK1eUaGzPN995ANwszubdZgnx1oaBa9AkfIkd9szwu7oprfDzg+pFPLWCVNBpQ/gFNbvu61GIxgSDDArQYBKNVpqQcZGW8Ab3hYERi0csNXyJneS9cG9559yTyPjoFraXE5Ydddns8iXIpmQAC55DBWL4IuXzUPT2N3R1OujEqBukokINQ+mBg4DF4vWj16kqSPSK49UuoClPttm0b7tfX/4Jmf7xPrEh8tCep+vQXoSZSuHmgYDM+OEpCddF6/bcIbnvIC7NwpbP6oiL132Zzw5TNlsn9+6KVK60xpuxOTV5en+apTUOgy5i6ezfa2W3V2Jua9PamxrWOjo4nZpzOWI6vOqXOzi4ca24OO10KVbGz4b1DOlvtN59M9vXtQpO8gs9nonS6LmhuYy0tZ2j2z38FaO9qgKK6rvADYZdd5MdAIfwoUZkIRYPCIjY6BhErkkwhMSY1NrWJJTUSp02MP/lRa0w6WrVJBidNQOvYlBrjJCOJwUYdxAxq+FNBcLFQURcQEMLC4jL7w27PeXvf+tgA2YXHch9wZq6wT3b37fn23nvOued8Z7iyuIUSXDAeg4FcyphlGkuuCSm4X6PbhRms58jQ0qoQWgDDby2Wir4AI4GxJJH2ve/K5R2SgIAGWFsaJUHBbdKHHmoFD0cjDQvTSKeEaV1lHiY8YwHDxA3WHqmuXiWDrc/D2N4u1Tc1eepu3vTX32n0g/8L1re0hMAU9xnIK2QszFaHyU/DWAVsGgws90G6A0nvO3JheTJ9FiwoDXzhxXIhWHgcEUyQbz70j+iOwkIFm0POOyciglHLIzCQHvrGaAUMQdkAAxlFer0h8sD6r1hxesrW7VecnRruiCl0e+eO2a3Hji3hzCGeYLQZU9z3MgOQZIkBMFzm/gLjT3wPAtNxH0x/6eiUbdsrGBHL7Xd2PNKUnfUs4euxhpZgfEC+mDqxAIaMSgf5Mwls4+qpe/flTEpObmFGoYAfEFD3+oZVOtXtCJuZtwbG5zQC5kE25mesM8nTUz357a0HgtZl1DBjSDBwonp35+/B1+efNCItxW8dcZGHCzC0sLB9wjzuwkSF4ruoE98ccZXJTcwYFgznVaUkr+wqLeW3dymCkUyiY04FTEbM3ARuX/Zf/vQxGutfaBBCvocnQZzFWQDj8cH4e4MBzFL0x8Vyli7Npan6imbBowaMyvMuYReZN4YLMCw5LeaMCSxojC4q2e8qlZrGoXBsqSyPj3uFlwOFBI/IpHDNnufbe2yyj7zgRGRjDf8k610s1BwHy3FBnaHuwrOyd4IuMXKCZ3RVRMdDnmHoS2H+OludLg0LU8ZcqfhQDMRA4phuJpdLsx/5I57zkys4KWIG8uEGmmFYyNPCgeX3q9QvYioqPxgHS8jp5mpGnfqlpnFsdKjru0T3DgGGsT5M2GFzNPFY7+FP/3VKyHvF4sf+GvzRLJg1Vv6Leen2FFbaK9jJIHTzlkzyEGvwVTCm27skIo1KHUOCskKTdCBQV5OS1sNPy8k8Mki+vO7gMFTqCA4UWyRAaJ1Q5BGRpdHfF2UL9R6kUeYGTlWMhVxIxf+bCWukEtuIRS1nCYa8+tpHgPw1IT/4BC/vHr1Kpe8qK5tD/BKXrpKS2Prdux7v6exs9l2c1EgbUMqnl2/rKilWWP0o/JKtyzgQceSzE0K+l1d8fJtZp1Npvr+IOSs4g1fDQBYOY38zDB3fROJfCcLnM6AykDbxk4/X8L+1tMy4vmaUs+4N05lJlxmUfMZC5/UjwDJg7MdfJCGhNbHXlHudphyKgBtJoPjCY19FQe76TD5g+E8rMePNM8/kb/GKi1M7/Vs9gsDRAhQnWKZSmZS4iyzDaObjMU4XB5g13CQU6bFYgKMNKL5wrO/8MBYChpsbFqmzyS2zzhZstJdUT8zA0QwUJzYdqTGE5WPlSWdNREoZgIUETgxA8YXXRwhlBd40N+WYibGKqwyFwrZJbu94mWX8x8odFFA420Nlks/f7WH/Z5mEsHsAlkpxYFnM8yx8bVr9QBtMkvDGY7lHsH/V0ey8DgY4O4Aqo/kzey9cyMckFpdEtAbZ3Lw5l8tf9Zg2TcuIRAZaKhHKfpa+A7SDxBeke7g8J/p98rDD2p0FhbY2aUMCrlcATnxA8YXf6hM/oJViRVev8hDjB8KlEgEhHY5twTITg0KUYGHslW84uhKHmZVupdJLdLOr9x7FxfrMVvDgmiPGCW2irary5j1sRcCstFOdFy8GiRQoW2NiLY6hWJW0iA0m1fhBrV0eNBcvzBA5UL2sPiHcgZEWG0zOodGBF6rZDU0u74i/07yJVqCGavXRfDrQnxQFBe4xabXcshiB52FtcNPoPE8xGwwepm5tg++ixCaagOrnPCp71ukz2b6Lk+wm3PNNWtI4ecsb3/So1U19nsep1c34N7R89ltb347pLCycTz5zIfy7hwv+YlIjexiHNJ9xN27uHA0zatAz7g9rDwrRdW+oUjp96lZDaytHwoF1ties52Eubm5nzEYje1DGdjDKyi4YrUCJATheV13EJp/Dhn+AiZk6DaxvBibxzG9Pb+ExBo9KoGgFTlNU5Fu5dMku4qagsRTCEF4c2xQBrIjEBhgsIXdc3a23hrvIjgagaAIOiwdLpoa916PRcC2SfgMjx3obtllTANDf4Eks0YIkOPhGrPL67rECFA3AlUXO2MRVeQIW7wMWr/XCp6/MX1eZLMfU3f2cBbSQGkdax9sj5fPi07XVSoVYYn39ATf5zbcyQzduEiyrjJ/HARj8GzBY9aNIW3+p2uCTHQb7n+WHwZYfMVXKd7DjhFA3h4mYlYsTX/RJTLwkljgfB5wkKPjGzFOnM+3iZ7NTF5eiIrcZ29sfJLr/J+h+dV9/O2BuPQC0DV5sB5meusgvvtzh81hCGzMugknHuQI/5fKntsPSJyU6/zOnc4cBI4KO23cMSevGNkPjhXvCCCn048qM0RrEas3zAz3H3vowKaypFbCmst1hkQlgVn7Be8hHNK52x6W7pkZ+NTHhTZYizLJf/Rd0i722fpJ5wKEKTPfAwNWG5uZDXIgI28TR3FGNRkEaQWTc4+n0d6DTw/Y+fzAlsy5uvr5fGdXqJ7gLsEwehWUyfxwOu5c/BnSYR3TokJ87FBYBb9ggC/m8jJOWLTse8dnnJ8fhuS/Vv35mWfvJk2k8Q+4q6GwBY8kFdViE4Onwgj3tLKzH1uwrzG+cceToQXlk5L2xCJJWqfS8vvLZNfxeDhO8vMp6NJpFzE80l3UGYNbXAif7Y31jQzq3x2F74QdSUo7P+DTn1Kiv3DSZXK4/v+qXP+TlpcHvVgcbdJIFOlnr6NLnDMDuT7m5c+dqq6pyYOpbOa+xANsnYdG34VnZ/3H39zeMBoywsXbtS+nJHQVnk0lzbW7Zq5VHRa3SFBcXC/2ew87mBuA9ca+ycj947mH86xjyCs7IyA16Zb2oqI2QmqgxMzPVWkF6PzJ0yzMqaj1YgF8P5/s7lS9xUkpK+L0r5bv1dxpTGbO5V40wng54P/ro+ZCNm8+PRKlTX4IlPw17ds/vvHBhPi96TjTn0iMJCs71nB29uT0vr9ZZ9zSijKR+aU/+/F5F+eu6+voVZr2+zxtx8/NrAONFOVGhqPVLTfuf0JU1WCHSlnt8eldpaTgYC5HGtraQvjdoSZc0NPSY58xZ+9q+yq0aKZ1Rx/n7s5XPPQwgPm+4ezcZlBdNWiU4TyGw18KXpFwSEJjnvXDhIVgCb9KkH9pJmnvJ1L/ukarP5s8xtLQoMEwGIwxGkEmvf8Cs0/mYDAYZWGjuZqNRYvHw3fRI1e3q7t7tIpV2uEokP7jKZHdg3MJwkHtAQKnvosTLdZs26sSig/8Dv74flzYmzXcAAAAASUVORK5CYII=') no-repeat;
    background-size: contain;
    position: absolute;
    top: -15px;
    margin-left: 696px;
    cursor: pointer;
    z-index: 999999;
    display: none;
}
    /*
    #divwin{
                width: 728px;
                height: 90px;
                position: fixed;
                bottom: 0px;
            }
    */
</style>

    <div id="vgtrk_bottom" style="height:90x;z-index:999999; margin-top:20px; position: fixed;bottom: 0;left: 0;right: 0">
<!--AdFox START-->
    <!--Liveinternet-->
    <!--Площадка: Liveinternet / Все страницы / FloorAd-->
    <!--Категория: <не задана>-->
    <!--Тип баннера: bottomline-->
    <script type="text/javascript">
        <!--
        if (typeof(pr) == 'undefined') { var pr = Math.floor(Math.random() * 4294967295) + 1; }
        if (typeof(document.referrer) != 'undefined') {
            if (typeof(afReferrer) == 'undefined') {
                afReferrer = encodeURIComponent(document.referrer);
            }
        } else {
            afReferrer = '';
        }
        var addate = new Date();
        document.write('<scr' + 'ipt type="text/javascript" src="//ads.adfox.ru/248071/prepareCode?p1=bvany&amp;p2=fjqj&amp;pct=a&amp;pfc=a&amp;pfb=a&amp;plp=a&amp;pli=a&amp;pop=a&amp;pr=' + pr +'&amp;pt=b&amp;pd=' + addate.getDate() + '&amp;pw=' + addate.getDay() + '&amp;pv=' + addate.getHours() + '&amp;prr=' + afReferrer + '"></scr' + 'ipt>');
        // -->
    </script>
    <!--AdFox END-->

        <div id="closeButton" onclick="document.getElementById('vgtrk_bottom').style.display='none'"></div>
<script>
        var delay = 4000;
        var close = document.getElementById('closeButton');
        //console.log(close);
        setTimeout(function(){
            close.style.display = 'block';
            closeButtonPosition();
        }, delay);
                
                //Позиционируем кнопку закрыть
                function closeButtonPosition(){
                    var bW = 728;
                    var cW = document.documentElement.clientWidth;
                    var dX = (cW-bW)/2 - 16;
                    close.style.right = dX + 'px';
                    console.log(cW);
                }
                
                window.onresize = closeButtonPosition;
    </script>
</div>





  </body>
</html><!-- host116 / 20170517002801 //-->

